{"version":3,"sources":["components/SwapInput.module.scss","components/AdvancedOptions.module.scss","components/SupportedChains.module.scss","components/TokenInput.module.scss","components/StakePageTitle.module.scss","components/BottomMenu.module.scss","components/FarmsOverview.module.scss","components/BackButton.module.scss","components/RosePriceButton.module.scss","components/Divider.module.scss","i18n.ts","connectors/index.ts","constants/index.ts","assets/icons/aleth.svg","assets/icons/alusd.svg","assets/icons/atust.svg","assets/icons/busd.svg","assets/icons/dai.svg","assets/icons/fei.svg","assets/icons/frax.svg","assets/icons/lusd.svg","assets/icons/mai.svg","assets/icons/metamask.svg","assets/icons/near_icon.svg","assets/icons/renbtc.svg","assets/icons/rose-atust.svg","assets/icons/rose-busd.svg","assets/icons/rose-frax.svg","assets/icons/rose.svg","assets/icons/rose-mai.svg","assets/icons/srose.svg","assets/icons/logo_24.svg","assets/icons/sbtc.svg","assets/icons/seth.svg","assets/icons/susd.svg","assets/icons/tbtc.svg","assets/icons/usdc.svg","assets/icons/usdt.svg","assets/icons/veth2.svg","assets/icons/walletconnect.svg","assets/icons/wbtc.svg","assets/icons/weth.svg","assets/icons/wcusd.png","utils/getEtherscanLink.ts","utils/notifyHandler.ts","utils/parseStringToBigNumber.ts","utils/numberInputState.ts","state/user.ts","utils/index.ts","hooks/useChakraToast.ts","components/BackButton.tsx","hooks/index.ts","components/BlockExplorerLink.tsx","components/BorrowAdvancedOptions.tsx","hooks/useContract.ts","utils/checkAndApproveTokenForTrade.ts","utils/gas.ts","state/application.ts","hooks/useCook.ts","components/Popover.tsx","components/FormTitleOptions.tsx","components/wrappers/FormWrapper.tsx","components/SafetyTag.tsx","components/BorrowForm.tsx","components/wrappers/ComponentWrapper.tsx","components/OverviewInfo.tsx","components/BottomMenu.tsx","components/LineChart.tsx","hooks/useAddTokenToMetamask.ts","components/RosePriceButton.tsx","components/ThemeChanger.tsx","components/Copy.tsx","hooks/useCopyClipboard.ts","components/Identicon.tsx","utils/shortenAddress.ts","hooks/usePoller.ts","state/wallet/hooks.ts","components/AccountDetails.tsx","utils/googleAnalytics.ts","components/ConnectWallet.tsx","components/Modal.tsx","components/SupportedChains.tsx","hooks/useAddNetworkToMetamask.ts","components/Web3Status.tsx","components/TopMenu.tsx","components/wrappers/PageWrapper.tsx","components/RepayForm.tsx","components/StakeDetails.tsx","components/wrappers/TabsWrapper.tsx","hooks/useBorrowData.ts","pages/Borrow.tsx","utils/dateTime.ts","components/AnimateNumber.jsx","hooks/useWindowSize.ts","components/BorrowCountdownLanding.tsx","components/ComponentCard.tsx","components/FormattedComponentName.tsx","components/BorrowMarketsOverview.tsx","components/Dashboard.tsx","components/wrappers/OverviewInputFieldsWrapper.tsx","components/OverviewSettingsContent.tsx","components/wrappers/OverviewWrapper.tsx","pages/BorrowMarkets.tsx","assets/icons/terra-luna-logo.svg","components/FarmRewardsPopoverContent.tsx","components/StakeForm.tsx","utils/checkTokenAllowance.ts","hooks/useCheckTokenRequiresApproval.ts","hooks/useFarmData.ts","pages/Farm.tsx","hooks/useCalculateFarmDeposited.ts","hooks/useApproveAndDepositFarm.tsx","hooks/useWithdrawFarm.ts","hooks/useEarnedRewards.ts","hooks/useFarmExit.ts","hooks/useClaimReward.ts","components/FarmsOverview.tsx","hooks/useMultiCallFarmDeposits.ts","pages/Farms.tsx","hooks/useMultiCallEarnedRewards.ts","hooks/usePoolData.ts","components/CheckboxInput.tsx","components/AdvancedOptions.tsx","components/Button.tsx","components/HighPriceImpactConfirmation.tsx","utils/slippage.ts","utils/priceImpact.ts","components/ReviewDeposit.tsx","components/TokenInput.tsx","components/Deposit.tsx","hooks/useApproveAndDeposit.ts","hooks/useTokenFormState.ts","components/RadioButton.tsx","components/ReviewWithdraw.tsx","utils/gasEstimate.ts","hooks/useWithdrawFormState.ts","components/Withdraw.tsx","hooks/useApproveAndWithdraw.ts","pages/Pool.tsx","components/PoolOverview.tsx","assets/icons/dai-usdt-usdc.png","pages/Pools.tsx","components/StakePageTitle.tsx","utils/fetchBlockTransactions.ts","hooks/useLastStakedTime.ts","pages/Stake.tsx","hooks/useApproveAndStake.ts","hooks/useApproveAndUnstake.ts","hooks/useCalculateSwapPairs.ts","hooks/usePoolsTVL.ts","assets/icons/info.svg","assets/icons/thinArrowDown.svg","assets/icons/icon_down.svg","components/ReviewSwap.tsx","components/Divider.tsx","components/SearchSelect.tsx","components/SwapInput.tsx","hooks/useDetectOutsideClick.ts","components/SwapPage.tsx","pages/Swap.tsx","hooks/useApproveAndSwap.ts","components/Web3ReactManager/index.tsx","utils/updateGasPrices.ts","utils/getSwapStats.ts","utils/updateTokenPrices.ts","pages/App.tsx","utils/fetchFarmStats.ts","utils/fetchStakeStats.ts","utils/fetchRosePriceHistory.ts","theme/index.ts","theme/components/index.ts","theme/components/button.ts","theme/components/tabs.ts","theme/components/input.ts","state/index.ts","index.tsx","utils/getLibrary.ts","components/SearchSelect.module.scss"],"names":["module","exports","i18next","use","Fetch","LanguageDetector","initReactI18next","init","backend","loadPath","requestOptions","cache","react","useSuspense","fallbackLng","load","preload","keySeparator","interpolation","escapeValue","networkLibrary","NETWORK_URL","process","NETWORK_CHAIN_ID","parseInt","REACT_APP_CHAIN_ID","network","NetworkConnector","urls","ChainId","PoolTypes","injected","InjectedConnector","supportedChainIds","walletconnect","WalletConnectConnector","rpc","bridge","qrcode","NetworkContextName","STABLECOIN_POOL_V2_NAME","SUSD_METAPOOL_NAME","TBTC_METAPOOL_NAME","WCUSD_METAPOOL_NAME","FRAX_STABLES_LP_POOL_NAME","FRAX_METAPOOL_NAME","UST_METAPOOL_NAME","BUSD_METAPOOL_NAME","MAI_METAPOOL_NAME","STABLES_FARM_NAME","FRAX_METAPOOL_FARM_NAME","UST_METAPOOL_FARM_NAME","ROSE_PAD_NLP_FARM_NAME","ROSE_FRAX_NLP_FARM_NAME","BUSD_METAPOOL_FARM_NAME","MAI_METAPOOL_FARM_NAME","wNEAR_MARKET_NAME","UST_MARKET_NAME","USDC_MARKET_NAME","USDT_MARKET_NAME","wETH_MARKET_NAME","wBTC_MARKET_NAME","Token","addresses","decimals","symbol","geckoId","name","icon","isSynthetic","isLPToken","this","BLOCK_TIME","SYNTHETIX_EXCHANGE_RATES_CONTRACT_ADDRESSES","MAINNET","ROPSTEN","HARDHAT","AURORA_TESTNET","AURORA_MAINNET","BRIDGE_CONTRACT_ADDRESSES","STABLECOIN_SWAP_V2_ADDRESSES","FRAX_STABLES_LP_ADDRESSES","FRAX_METAPOOL_ADDRESSES","UST_METAPOOL_ADDRESSES","BUSD_METAPOOL_ADDRESSES","MAI_METAPOOL_ADDRESSES","VETH2_SWAP_ADDRESSES","SUSD_SWAP_TOKEN_CONTRACT_ADDRESSES","STABLECOIN_SWAP_TOKEN_CONTRACT_ADDRESSES","STABLECOIN_SWAP_V2_TOKEN_CONTRACT_ADDRESSES","WCUSD_SWAP_TOKEN_CONTRACT_ADDRESSES","BTC_SWAP_TOKEN_CONTRACT_ADDRESSES","BTC_SWAP_V2_TOKEN_CONTRACT_ADDRESSES","TBTC_SWAP_TOKEN_CONTRACT_ADDRESSES","VETH2_SWAP_TOKEN_CONTRACT_ADDRESSES","ALETH_SWAP_TOKEN_CONTRACT_ADDRESSES","D4_SWAP_TOKEN_CONTRACT_ADDRESSES","FRAX_STABLES_LP_TOKEN_CONTRACT_ADDRESSES","FRAX_METAPOOL_LP_TOKEN_CONTRACT_ADDRESSES","UST_METAPOOL_LP_TOKEN_CONTRACT_ADDRESSES","ROSE_PAD_NLP_TOKEN_CONTRACT_ADDRESSES","ROSE_FRAX_NLP_TOKEN_CONTRACT_ADDRESSES","SROSE_LP_TOKEN_CONTRACT_ADDRESSES","BUSD_METAPOOL_LP_TOKEN_CONTRACT_ADDRESSES","MAI_METAPOOL_LP_TOKEN_CONTRACT_ADDRESSES","STABLECOIN_SWAP_V2_TOKEN","saddleLogo","roseLogo","FRAX_STABLES_LP_TOKEN","roseFraxLogo","FRAX_METAPOOL_LP_TOKEN","UST_METAPOOL_LP_TOKEN","roseAtust","ROSE_PAD_NLP_TOKEN","ROSE_FRAX_NLP_TOKEN","BUSD_METAPOOL_LP_TOKEN","sRoseLogo","roseBusdLogo","MAI_METAPOOL_LP_TOKEN","roseMaiLogo","WCUSD","SUSD","susdLogo","DAI","daiLogo","USDC","usdcLogo","USDT","usdtLogo","STABLECOIN_POOL_TOKENS","TBTC_V2","tbtcLogo","WBTC","wbtcLogo","RENBTC","renbtcLogo","SBTC","sbtcLogo","WETH","wethLogo","FRAX","veth2Logo","alethLogo","sethLogo","alusdLogo","feiLogo","fraxLogo","UST","atustLogo","ROSE_CONTRACT_ADDRESSES","lusdLogo","ROSE","SROSE_CONTRACT_ADDRESSES","SROSE","BUSD","busdLogo","MAI","maiLogo","RUSD","wNEAR","nearLogo","ROSE_FARM_STABLES_ADDRESSES","FRAX_METAPOOL_FARM_ADDRESSES","UST_METAPOOL_FARM_ADDRESSES","ROSE_PAD_NLP_FARM_ADDRESSES","ROSE_FRAX_NLP_FARM_ADDRESSES","BUSD_FARM_ADDRESSES","MAI_FARM_ADDRESSES","FRAX_METAPOOL_DEPOSIT_ADDRESSES","UST_METAPOOL_DEPOSIT_ADDRESSES","BUSD_METAPOOL_DEPOSIT_ADDRESSES","NEAR_ORACLE_ADDRESSES","UST_GARDEN_ADDRESSES","wNEAR_GARDEN_ADDRESSES","USDC_GARDEN_ADDRESSES","USDC_ORACLE_ADDRESSES","USDT_GARDEN_ADDRESSES","USDT_ORACLE_ADDRESSES","wBTC_GARDEN_ADDRESSES","wBTC_ORACLE_ADDRESSES","wETH_GARDEN_ADDRESSES","wETH_ORACLE_ADDRESSES","VASE_ADDRESSES","FRAX_STABLES_LP_POOL_TOKENS","FRAX_METAPOOL_TOKENS","UST_METAPOOL_TOKENS","BUSD_METAPOOL_TOKENS","MAI_METAPOOL_TOKENS","POOLS_MAP","lpToken","poolTokens","type","USD","route","farmName","isOutdated","underlyingPoolTokens","underlyingPool","metaSwapAddresses","FARMS_MAP","poolUrl","isRose","poolName","BORROW_MARKET_MAP","collateralToken","borrowToken","gardenAddresses","vaseAddresses","oracleAddresses","isStable","isMetaPool","Set","has","SWAP_TYPES","ROSE_TOKENS_MAP","rose","stRose","LP_TOKEN_MAP","Object","values","reduce","acc","farm","TOKENS_MAP","keys","pool","newAcc","forEach","token","LPTOKEN_TO_POOL_MAP","concat","TRANSACTION_TYPES","getIsVirtualSwap","swapType","SYNTH_TO_SYNTH","SYNTH_TO_TOKEN","TOKEN_TO_SYNTH","TOKEN_TO_TOKEN","SWAP_CONTRACT_GAS_ESTIMATES_MAP","INVALID","BigNumber","from","DIRECT","SUPPORTED_WALLETS","METAMASK","metamaskIcon","connector","WALLET_CONNECT","walletconnectIcon","isMobile","FARM_SORT_FIELDS_TO_LABEL","apr","tvl","rewards","deposit","balance","FARM_FILTER_FIELDS_TO_LABEL","noFilter","dual","BORROW_SORT_FIELDS_TO_LABEL","collateral","borrow","supply","interest","liquidationFee","BORROW_FILTER_FIELDS_TO_LABEL","POOL_SORT_FIELDS_TO_LABEL","farmDeposit","volume","POOL_FILTER_FIELDS_TO_LABEL","SUPPORTED_CHAINS","getEtherscanLink","data","notifyNetworks","chainId","notify","Notify","isChainSupportedByNotify","dappId","REACT_APP_NOTIFY_DAPP_ID","networkId","desktopPosition","darkMode","parseStringToBigNumber","valueRaw","precision","fallback","valueSafe","isFallback","parseUnits","value","numberInputStateCreator","inputValue","isBigNumber","isEmpty","isValid","formatUnits","toString","GasPrices","Slippages","Deadlines","PoolSortFields","PoolFilterFields","FarmSortFields","FarmFilterFields","BorrowSortFields","BorrowFilterFields","initialState","userSwapAdvancedMode","userPoolAdvancedMode","userDarkMode","gasPriceSelected","Standard","slippageSelected","OneTenth","infiniteApproval","priceFromOracle","transactionDeadlineSelected","Twenty","farmPreferences","visibleFields","filterField","NO_FILTER","sortField","APR","borrowPreferences","TVL","poolPreferences","gasCustomStateCreator","Zero","slippageCustomStateCreator","pow","mul","userSlice","createSlice","reducers","updateSwapAdvancedMode","state","action","payload","updatePoolAdvancedMode","updateDarkMode","updateGasPriceCustom","gasCustom","updateGasPriceSelected","Custom","updateSlippageSelected","slippageCustom","updateSlippageCustom","updateInfiniteApproval","updateTransactionDeadlineSelected","transactionDeadlineCustom","updateTransactionDeadlineCustom","updateFarmFilterPreferences","updateFarmSortPreferences","updateFarmVisibleFieldPreferences","field","updateBorrowFilterPreferences","updateBorrowSortPreferences","updateBorrowVisibleFieldPreferences","updatePoolFilterPreferences","updatePoolSortPreferences","updatePoolVisibleFieldPreferences","updatePriceFromOracle","actions","isAddress","getAddress","getSigner","library","account","connectUnchecked","getContract","address","ABI","AddressZero","Error","Contract","getProviderOrSigner","formatBNToShortString","bn","nativePrecision","bnStr","numLen","length","div","Math","floor","mod","substr","formatBNToString","nativePrecison","decimalPlaces","fullPrecision","decimalIdx","indexOf","undefined","slice","formatBNToPercentString","shiftBNDecimals","shiftAmount","commify","str","parts","split","partA","partB","commaAArr","Array","commaAIdx","i","revIdx","commifiedA","join","intersection","set1","set2","filter","item","calculatePrice","amount","tokenPrice","isNaN","toLocaleString","useGrouping","toFixed","toHex","num","imageIconToUrl","tokenIconPath","host","window","location","origin","parseSignature","signature","parsedSignature","substring","r","s","v","calculatePctOfTotalShare","tokenAmount","totalTokenAmount","isZero","calculatePositionHealthColor","positionHealth","lo","TransactionType","TransactionErrors","ERROR_MAP","UNDERFLOW","LOCKED","useChakraToast","toast","useToast","position","isClosable","variant","transactionPending","txnType","title","description","duration","approvalRequired","signatureRequired","transactionSuccess","closeAll","status","transactionFailed","error","message","toastData","JSON","parse","e","code","BackButton","props","wrapperClass","buttonText","className","to","styles","arrowLeft","useActiveWeb3React","context","useWeb3ReactCore","contextNetwork","active","BlockExplorerLink","txnHash","t","useTranslation","Trans","i18nKey","tx","href","target","rel","style","textDecoration","margin","BorrowAdvancedOptions","dispatch","useDispatch","useSelector","user","p","spacing","size","colorScheme","isChecked","onChange","bgColor","closeOnClick","label","borderBottom","cursor","useContract","withSignerIfPossible","useMemo","console","useFarmContract","stringify","ROSE_STABLES_FARM_ABI","abi","useRoseContract","ERC20_ABI","useStRoseContract","SROSE_ABI","useGardenContract","borrowMarket","GARDEN_ABI","useVaseContract","VASE_ABI","useCollateralContract","useBorrowContract","useTokenContract","usePoolContract","ROSE_META_POOL_ABI","ROSE_STABLES_POOL_ABI","useLPTokenContract","LPTOKEN_UNGUARDED_ABI","useLPTokenContractForFarm","useAllContracts","daiContract","usdcContract","usdtContract","fraxContract","roseStablesLPContract","roseContract","stroseContract","ustContract","busdContract","maiContract","rusdContract","some","Boolean","checkAndApproveTokenForTrade","srcTokenContract","swapAddress","spenderAddress","spendingValue","approve","a","cleanupOnStart","callbacks","onTransactionStart","call","gasPrice","approvalTransaction","wait","confirmedTransaction","onTransactionSuccess","onTransactionError","eq","tokenName","allowance","existingAllowance","log","gte","gt","MaxUint256","debug","formatGasToString","gasPricesGwei","gasSelected","gasStandard","GardenActions","CookAction","lastTransactionTimes","applicationSlice","updateGasPrices","gasFast","gasInstant","updateFarmStats","farmStats","updateStakeStats","stakeStats","updateRosePriceHistory","rosePriceHistory","updateTokensPricesUSD","tokenPricesUSD","updateLastTransactionTimes","updateSwapStats","formattedPayload","key","APY","ODV","oneDayVolume","apy","utilization","swapStats","requestSignature","verifyingContractAddress","verifyingDomainName","messageToSign","masterContractAddress","verifyingContract","domain","types","SetMasterContractApproval","nonces","warning","masterContract","approved","nonce","_signTypedData","getDefaultCookArgs","updateOraclePrice","datas","push","VASE_SET_APPROVAL","ethers","utils","defaultAbiCoder","encode","UPDATE_EXCHANGE_RATE","getBorrowCookArgs","borrowAmount","BORROW","VASE_WITHDRAW","borrowTokenAddress","collateralAmount","VASE_DEPOSIT","ADD_COLLATERAL","collateralTokenAddress","repayCookArgs","repayMax","REPAY_SHARE","REPAY","REPAY_PART","REMOVE_COLLATERAL","IconButtonPopover","IconButtonProps","PopoverBodyContent","_focus","boxShadow","_active","zIndex","FormTitle","popoverOptions","justifyContent","alignItems","as","fontWeight","fontSize","lineHeight","FormWrapper","formTitle","formDescription","children","bg","border","borderRadius","pt","mb","color","width","SafetyTag","safetyScore","base","md","BorrowForm","max","collateralUSDPrice","handleWhileSubmitting","updateLiquidationPrice","updatePositionHealth","getMaxBorrow","borrowValidator","collateralValidator","handleSubmit","handlePreSubmit","handlePostSubmit","submitButtonLabelText","useState","sliderValue","setSliderValue","showTooltip","setShowTooltip","initialValues","onSubmit","collateralValueSafe","borrowValueSafe","receipt","onMessageSignatureTransactionStart","onApprovalTransactionStart","resetForm","validate","round","min","form","padding","isInvalid","errors","htmlFor","mt","pointerEvents","marginLeft","src","alt","paddingLeft","autoComplete","autoCorrect","placeholder","onClick","setFieldTouched","setFieldValue","flexWrap","lg","id","isDisabled","focusThumbOnChange","String","shl","onMouseEnter","onMouseLeave","ml","hasArrow","placement","isOpen","boxSize","FaHandHoldingUsd","handleChange","formattedVal","exec","borrowMax","flexDirection","sm","disabled","textAlign","ComponentWrapper","top","left","right","bottom","defaultBoxProps","gridTemplateColumns","gridTemplateRows","gap","colSpan","rowSpan","OverviewInfo","sections","infoType","_","index","howTo","setHowTo","background","rowGap","map","items","prev","aria-label","in","animateOpacity","j","text","m","BottomMenu","bottommenu","socials","LineChart","chart","colors","datasets","tension","pointRadius","pointBorderColor","pointBackgroundColor","borderColor","borderWidth","backgroundColor","fill","maxBarThickness","options","responsive","maintainAspectRatio","plugins","legend","display","tooltip","dataset","parsed","y","Intl","NumberFormat","currency","maximumSignificantDigits","format","interaction","intersect","mode","scales","grid","drawBorder","drawOnChartArea","drawTicks","borderDash","ticks","font","weight","family","callback","x","time","unit","timeUnit","autoSkip","maxTicksLimit","configs","useColorModeValue","useAddTokenToMetamask","useCallback","ethereum","request","method","params","image","RosePriceButton","application","priceOfRose","addRoseToken","addStRoseToken","setTimeUnit","priceChartLastUpdate","Date","now","formattedPriceData","priceChange","price","marginRight","isLazy","Button","addToken","leftIcon","viewBox","Number","height","direction","gridGap","clipPath","d","fillRule","clipRule","mixBlendMode","opacity","x1","y1","x2","y2","gradientUnits","stopColor","offset","stopOpacity","focusable","transform","ThemeChanger","useColorMode","colorMode","toggleColorMode","useEffect","document","body","classList","add","remove","CopyHelper","timeout","isCopied","setIsCopied","staticCopy","didCopy","copy","hide","setTimeout","clearTimeout","useCopyClipboard","setCopied","toCopy","xmlns","StyledIdenticonContainer","styled","Identicon","ref","useRef","current","innerHTML","appendChild","Jazzicon","shortenAddress","chars","usePoller","fn","delay","savedCallback","setInterval","clearInterval","useTokenBalancesHelper","tokenMap","balances","setBalances","ethcallProvider","Provider","multicallAddress","tokens","balanceCalls","c","balanceOf","all","getBalance","ethBalance","ETH","pollBalances","usePoolTokenBalances","useRoseTokenBalances","AccountDetail","openOptions","tokenBalances","roseBalanceFormatted","connectorName","find","logEvent","gtag","ConnectWallet","onClose","activate","useWeb3React","wallet","catch","UnsupportedChainIdError","Modal","currentTarget","stopPropagation","SupportedChains","addNetwork","chainName","rpcUrls","useAddNetworkToMetamask","supportedChains","chainList","entries","val","chain","chainInfo","textStyle","buttonGroupIcon","WALLET_VIEWS","chainIdToName","Web3Status","modalOpen","setModalOpen","walletConnected","setWalletConnected","isAuthorized","then","walletView","setWalletView","useBreakpointValue","stroke","marginTop","rightIcon","TopMenu","activeTab","menuColor","isActive","IconButton","Link","classNames","PageWrapper","maxW","minH","pb","paddingInlineStart","paddingInlineEnd","RepayForm","maxRepayBn","maxCollateralBn","getMaxWithdraw","repayValidator","withdrawMax","StakeBalanceView","useDisclosure","onToggle","collapseContent","columnGap","StakeStatLabel","statLabel","statTooltip","statPopOver","StakeDetails","balanceView","stakedView","stats","extraStakeDetailChild","loading","statValue","TabsWrapper","tabsProps","tab1","tab2","isFitted","content","emptyBorrowData","collateralTokenBalance","collateralDeposited","borrowed","liquidationMultiplier","mcr","borrowFee","rusdLeftToBorrow","collateralDepositedUSDPrice","borrowedUSDPrice","priceOfCollateral","totalRUSDLeftToBorrow","rusdUserBalance","feesOwed","useBorrowData","gardenContract","collateralTokenContract","oracleContract","ORACLE_ABI","useOracleContract","vaseContract","lastBorrowTime","marketName","borrowData","setBorrowData","BORROW_MARKET","accrueInfo","fees","cloneInfo","interstPerSecond","latestAnswer","exchangeRate","roseUsd","totalRUSDLeft","rusdBalance","collateralBalance","userCollateralShare","userBorrowPart","exchangeRateAdj","USD_CONVERSION_BN","factor","borrowTokenConversion","abs","collateralTokenConversion","tvlUsd","mcrAdj","borrowFeeAdj","liquidationMultiplierAdj","interestPerYear","borrowedAdj","collateralDepositedAdj","collateralBalanceAdj","sub","One","rusdLeftToBorrowAdj","prevState","getBorrowData","Borrow","borrowName","onOpen","btnRef","cook","borrowTokenContract","cookAction","vase","vaseAddress","amountToDeposit","amountToBorrow","masterContractApproved","cookArgProps","cookArgs","useCook","drawerBg","borrowCollapseTextColor","calculateMaxBorrowHelper","totalBorrowed","totalCollateralDeposited","totalCollateral","totalCollateralUSD","maxBorrow","maxBorrowAdj","calculateMaxBorrow","calculateMaxWithdraw","repayAmount","validateDepositCollateral","generalValidation","validateAmount","validateRepay","liquidationPriceHelper","liquidationPriceFormatted","formatted","lte","updateCurrLiquidationPrice","negate","validateBorrow","validateCollateral","formattedBorrowAmount","formattedcollateralAmount","borrowAmountBn","collateralAmountBn","currentCollateralUSD","currentPositionHealth","postTransaction","transactionType","transactionHash","preTransaction","onSubmitting","borrowError","collateralError","FormDescription","HowToBorrowText","GlossaryItem","mcrFormatted","finalFocusRef","BsCurrencyDollar","FaHandHoldingMedical","BsExclamationTriangle","FaGlassWhiskey","FaDivide","currentBorrow","currentWithdraw","maxWithdraw","isAnimated","hasStripe","my","getFormattedShortTime","timestamp","timestampNumber","toLocaleTimeString","month","day","hour","minute","replace","usePrevious","DecimalColumn","NumberColumn","digit","delta","setPosition","animationClass","setAnimationClass","previousDigit","columnContainer","setSize","useLayoutEffect","updateSize","innerWidth","innerHeight","addEventListener","removeEventListener","useWindowSize","number","clientHeight","motion","animate","onAnimationComplete","AnimatingNumber","numArray","parseFloat","reverse","formatForDisplay","previousNumber","layout","BorrowCountdownLanding","timeLeft","ms","seconds","hours","minutes","secondsRounded","padStart","msToHMS","h","WebkitTransform","whiteSpace","w","frameBorder","FormmattedStat","valueComponent","AnimatedComponentCard","memo","fields","other","MotionBox","Box","prevNameRef","initial","scale","transition","exit","templateColumns","next","every","displayName","FormattedComponentName","BorrowMarketsOverview","borrowRoute","tokenIcon","fee","formattedData","NAME","COLLATERAL","SUPPLY","INTEREST","LIQUIDATION_FEE","l","_hover","Dashboard","dashboardContent","dashboardName","OverviewInputFieldsWrapper","sortDirection","popOverContent","sortByField","sortFieldLabelMap","filterByField","filterFieldLabelMap","handleSortDirection","handleClearFilter","handleUpdateSortField","handleUpdateFilterField","onIconClick","defaultSelectProps","focusBorderColor","OverviewSettingsContent","preferences","updateVisibleFields","updateSortPreferences","updateFilterPreferences","defaultGridProps","justifySelf","mr","OverviewWrapper","templateRows","BorrowDashboard","totalRUSDBorrowed","marketsData","rusdBorrowedFormatted","collateralDepositedUSD","positionTextColorSafe","positionTextColorMod","positionTextColorHigh","sort","b","marketData","positionHealthFormatted","barColor","textColor","BorrowMarkets","setSortDirection","setSortByField","setfilterByField","setTimout","isInfo","setIsInfo","useTimeout","wNearMarketData","loading1","usdcMarketData","loading2","ustMarketData","loading3","usdtMarketData","loading4","wEthMarketData","loading5","wBtcMarketData","loading6","sum","FILTER_FUNCTIONS","SORT_FUNCTIONS","localeCompare","FaLayerGroup","FaSortAmountUp","FaFilter","BsSliders","FaUserLock","AnimatePresence","ToastDescription","FarmRewardsPopoverContent","totalRewardsAmount","roseRewardsAmount","dualRewards","withdrawAndClaim","claim","roseIcon","terraLunaIcon","REWARDS","EXIT","StakeForm","fieldName","isLoading","submitButtonLabel","usdPrice","handleInputChanged","validator","maxAsString","checkTokenAllowance","useCheckTokenRequiresApproval","dstTokenContract","setApproved","setLoading","timer","setTimer","checkApproval","newTimer","isApproved","emptyFarmData","lpTokenBalance","Farm","farmData","lastDepositTime","lastWithdrawTime","setFarmData","lpTokenContract","userLpTokenBalance","getFarmData","useFarmData","deposited","depositedBalance","setDepositedBalance","farmContract","calculateDeposit","useCalculateFarmDeposited","Fast","Instant","amountToStake","stake","useApproveAndDepositFarm","withdraw","amountToWithdraw","useWithdrawFarm","checkLpTokenApproved","formattedBalance","formattedDeposited","dualRewardAddress","roseRewards","totalRewards","rewardsEarned","setRewardsEarned","earned","roseEarned","dualRewardEarned","pollRewards","useEarnedRewards","dualReward","formattedTvl","dualRewardApr","dualRewardTokenName","dualRewardsPopover","useFarmExit","getReward","useClaimReward","externalUrlArrow","DEPOSIT","WITHDRAW","AprTooltip","roseApr","minWidth","RewardsField","formattedRoseRewards","formattedDualRewards","FarmsOverview","lpTokenIcon","farmRoute","BALANCE","REWARD","useMultiCallFarmDeposits","pollFarmBalances","FarmsDashboard","allRewardsFormatted","lpTokenBalancesFormatted","farmDepositsFormatted","stat","Farms","lpTokenBalances","useFarmLPTokenBalances","farmDeposits","allRewards","setRewards","farmContractDualReward","pollEarnedRewards","useMultiCallEarnedRewards","FaChartPie","FaReceipt","FaGift","poolStatsApi","emptyPoolData","adminFee","aParameter","reserve","swapFee","totalLocked","virtualPrice","aprs","lpTokenPriceUSD","isPaused","usePoolData","poolContract","lastSwapTime","lastMigrateTime","poolData","setPoolData","fetch","res","json","pool_name","daily_volume","poolStats","poolStat","dailyVolume","effectivePoolTokens","POOL","get_virtual_price","multicallPoolContract","ROSE_STABLES_POOL","A","poolTokenBalances","multicallResFormatted","Promise","totalSupply","totalLpTokenBalance","tokenBalancesSum","tokenBalancesUSD","tokenBalancesUSDSum","userShare","userPoolTokenBalances","userPoolTokenBalancesSum","userPoolTokenBalancesUSD","userPoolTokenBalancesUSDSum","percent","userPoolTokens","share","underlyingTokensAmount","usdBalance","amountsStaked","getPoolData","CheckboxInput","checked","aria-hidden","strokeWidth","AdvancedOptions","advancedOptions","parameter","inputGroup","selected","kind","buttonProps","HighPriceImpactConfirmation","onCheck","_applySlippage","numerator","denominator","addSlippage","subtractSlippage","formatSlippageToString","isHighPriceImpact","priceImpact","negOne","calculatePriceImpact","tokenInputAmount","tokenOutputAmount","isWithdraw","ReviewDeposit","onConfirm","transactionData","hasConfirmedHighPriceImpact","setHasConfirmedHighPriceImpact","isHighPriceImpactTxn","totalAmount","shareOfPool","txnGasCost","valueUSD","singleTokenPriceUSD","TokenInput","tokenUSDValue","readonly","balanceContainer","tokenInputContainer","tokenSymbolAndName","boldText","smallText","spellCheck","readOnly","newValue","lastIndexOf","parsedValue","periodIndex","isValidInput","isValidPrecision","onFocus","select","Deposit","approveAndDeposit","tokenContracts","metaSwapContract","ROSE_META_POOL_DEPOSIT","shouldDepositWrapped","effectiveSwapContract","approveSingleToken","tokenContract","effectivePoolContract","txnAmounts","poolToken","minToMint","calc_token_amount","add_liquidity","spendTransaction","useApproveAndDeposit","userShareData","allTokens","tokenInputStateCreators","React","tokenFormState","setTokenFormState","newState","convertedNewState","useTokenFormState","updateTokenFormState","setIsOpen","newTokenPricesUSD","underlyingPoolData","underlyingTokenUSDValue","estDepositLPTokenAmount","setEstDepositLPTokenAmount","setPriceImpact","isMetaSwap","exceedsWallet","lt","tokenInputSum","depositLPTokenAmount","calculateMaxDeposits","onConfirmTransaction","depositTransaction","poolLpToken","totalValueUSD","TOTAL_AMOUNT_DECIMALS","usdPriceBN","toTotalValueUSD","gasAmount","buildTransactionData","validDepositAmount","shouldDisplayWrappedOption","updateTokenFormValue","RadioButton","ReviewWithdraw","isHighSlippageTxn","rates","rate","calculateGasEstimate","methodName","IMBALANCE","ALL","Withdraw","tokenInputsEmptyState","formEmptyState","percentage","tokenInputs","withdrawType","lpTokenAmountToSpend","formState","setFormState","calculateAndUpdateDynamicFields","debounce","percentageRaw","effectiveUserLPTokenBalance","inputCalculatedLPTokenAmount","nextState","tokenIndex","findIndex","calc_withdraw_one_coin","tokenSymbol","tokenSymbolInput","valueInput","newTokenInputs","activeInputTokens","finalState","pendingTokenInput","stateValue","useWithdrawFormState","withdrawFormState","updateWithdrawFormState","approveAndWithdraw","allowanceAmount","remove_liquidity","remove_liquidity_imbalance","remove_liquidity_one_coin","useApproveAndWithdraw","isModalOpen","setIsModalOpen","estWithdrawBonus","setEstWithdrawBonus","withdrawLPTokenAmount","calculateWithdrawBonus","tokensData","shareToken","reviewWithdrawData","slippage","noShare","gas","defaultValue","hidden","offsetY","marginBottom","Pool","formattedShareTokens","coin","formattedPoolDataTokens","PoolOverview","poolRoute","poolIcon","isMetapool","VOLUME","FARM_DEPOSIT","PoolDashboard","totalShare","formattedBalances","formattedDeposits","totalTvl","total24hVolume","Pools","usdPoolV2Data","usdV2UserShareData","fraxStablesPoolData","fraxStablesUserShareData","fraxMetaPoolData","fraxMetaPoolUserShareData","ustMetaPoolData","ustMetaPoolUserShareData","busdMetaPoolData","busdMetaPoolUserShareData","maiMetaPoolData","maiMetaPoolUserShareData","allPoolData","allUserShareData","formattedLpTokenBalances","total24HrVolume","FaInfoCircle","stablesPoolIcon","StakePageTitle","pill","glowPill","colorPill","priceRatio","blockTxnsUri","accountAddress","startTimestamp","fetchBlockTxns","daysOffset","setDate","getDate","getTime","result","fetchTokenTransfers","startBlock","contractAddress","tokenTransferTxnsUri","retry","retries","txnData","stRoseAddress","filteredTxnData","toLowerCase","blockNumber","tokenTransferData","hash","timeStamp","useLastStakedTime","lastStakedTime","setLastStakedTime","lastStakeTxn","fetchLastStakedTime","stakedTime","err","Stake","stRoseContract","mint","useApproveAndStake","unstake","amountToUnStake","burn","useApproveAndUnstake","checkRoseApproved","diff","setDiff","lastStaked","totalRoseStaked","tokenBalanceDetails","roseToken","stRoseToken","staked","useCountDown","start","STAKE","UNSTAKE","toISOString","SWAP_TYPES_ORDERED_ASC","useCalculateSwapPairs","pairCache","setPairCache","poolTVLs","poolTvls","setPoolTvls","pools","supplyCalls","tvls","tvlsUSD","tvlAmount","tokenValue","BTC","fetchTVLs","usePoolTVLs","sortedPools","aTVL","bTVL","tokenToPools","poolsSortedByTVL","tokenToPoolsMapSorted","cacheHit","swapPairs","getTradingPairsForToken","buildSwapSideData","tokensMap","poolsMap","tokenToPoolsMap","originToken","synthPoolsSet","originTokenPoolsSet","originPoolsSynthSet","tokenToSwapDataMap","swapData","tokenPoolsSet","tokenPoolsSynthSet","sharedPoolsSet","tradePool","originPool","destinationPool","middleSynth","originSynth","destinationSynth","metaSwapPool","existingTokenSwapData","existingSwapIdx","newSwapIdx","_extends","assign","arguments","source","prototype","hasOwnProperty","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgInfo","_ref","svgRef","titleId","ForwardRef","SvgThinArrowDown","DirectSwapTokens","fromToken","toToken","iconDown","VirtualSwapTokens","exchangeRateInfo","isFirst","isLast","classnames","grey","step","ReviewSwap","isVirtualSwap","pair","Divider","divider","SearchSelect","onSelect","searchTerm","setSearchTerm","activeIndex","setActiveIndex","inputRef","focusedItemRef","focus","scrollIntoView","filteredTokens","includes","lastSelectableIndex","lastAvailableIndex","isAvailable","searchSelect","inputContainer","nextActiveIndex","onKeyDown","listContainer","ListItem","listItem","isUnavailable","tagWrapper","unavailableTag","virtualSwapTag","textMinor","SwapInput","elementRef","inputValueUSD","isSwapFrom","onChangeAmount","isDropdownOpen","setIsDropdownOpen","wrapperRef","handleClick","event","contains","preventDefault","handleKeyPress","handleSelect","selectedToken","swapInputContainer","selectGroup","hoverPointer","tabIndex","tokenNameContainer","symbolArrowContainer","textBoldPurple","dropdownContainer","SwapPage","tokenOptions","fromState","toState","onChangeFromToken","onChangeFromAmount","onChangeToToken","onClickReverseExchangeDirection","formattedPriceImpact","formattedExchangeRate","formattedRoute","isHighSlippage","amtStr","showError","SWAP","EMPTY_FORM_STATE","valueSynth","currentSwapPairs","Swap","approveAndSwap","bridgeContract","addressToApprove","args","amountMediumSynth","tokenToToken","swapTransaction","formatBytes32String","synthToToken","tokenToSynth","exchange_underlying","exchange","useApproveAndSwap","BRIDGE_CONTRACT_ABI","useBridgeContract","snxEchangeRatesContract","SYNTHETIX_EXCHANGE_RATE_CONTRACT_ABI","useSynthetixExchangeRatesContract","calculateSwapPairs","prevFormState","setPrevFormState","swapContract","sortTokenOptions","calculateSwapAmount","formStateArg","cleanedFormFromValue","amountToGive","tokenFrom","tokenTo","amountToReceive","calcTokenToToken","amountOutSynth","amountOutToken","calcSynthToToken","calcTokenToSynth","get_dy_underlying","get_dy","effectiveValue","toValueUSD","amountFrom","tokenPrecisionFrom","amountTo","tokenPrecisionTo","handleReverseExchangeDirection","activeSwapPair","isValidSwap","fromDecimals","toDecimals","amountA","amountB","Web3ReactManager","networkActive","networkError","activateNetwork","triedEager","tried","setTried","useEagerConnect","suppress","on","handleChainChanged","handleAccountsChanged","accounts","removeListener","useInactiveListener","showLoader","setShowLoader","manualGasPrice","resolve","dispatchUpdate","gasPrices","fetchSwapStatsNow","otherTokens","VETH2","KEEP","SGT","ALCX","getVeth2Price","etherPrice","SWAP_ABI","calculateSwap","veth2ToEthRate","eth","vEth2Price","App","config","GasAndTokenPrices","exact","path","component","render","fetchAndUpdateGasPrice","fetchGasPrices","fetchAndUpdateTokensPrice","tokenIds","encodeURIComponent","otherTokensResult","usd","alETH","stROSE","price_of_strose","fetchTokenPricesUSD","fetchAndUpdateSwapStats","fetchSwapStats","fetchAndUpdateFarmStats","farm_tvl","second_apr","second_rewards_token","second_rewards_token_address","fetchFarmStats","fetchAndUpdateStakeStats","strose_rose_ratio","strose_tvl","total_rose_staked","price_of_rose","strose_apr","fetchStakeStats","fetchAndUpdateRosePriceHistory","pricesMapped","prices","fetchRosePriceHistory","overrides","initialColorMode","useSystemColorMode","red","50","100","200","300","400","500","600","700","800","900","teal","purple","gold","fonts","heading","mono","components","variants","primary","transparentize","theme","letterSpacing","_disabled","light","outline","Tabs","tab","_selected","Input","hasErrorColor","px","_readOnly","userSelect","_invalid","extendTheme","PERSISTED_KEYS","stateFromStorage","states","store","configureStore","reducer","middleware","getDefaultMiddleware","thunk","save","preloadedState","merge","userInitialState","Web3ProviderNetwork","createWeb3ReactRoot","autoRefreshOnNetworkChange","Chart","register","registerables","ReactDOM","chakraTheme","StrictMode","getLibrary","provider","Web3Provider","pollingInterval","getDefaultProvider","getElementById"],"mappings":"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6C,QAAU,IADpB,eAEE7C,GAAQ8C,QAAU,IAFpB,eAGE9C,GAAQ+C,QAAU,IAHpB,eAIE/C,GAAQgD,eAAiB,8CAJ3B,eAKEhD,GAAQiD,eAAiB,8CAL3B,IA+DY2B,IAvDkB,IAAI3C,GACjCyB,GACA,GACA,aACA,aACA,2BACAmB,IACA,GACA,GAG4B,IAAI5C,GAChC6B,GACA,GACA,YACA,YACA,+BACAe,IACA,GACA,GAG+B,IAAI5C,GACnC8B,GACA,GACA,eACA,eACA,0BACAc,IACA,GACA,GAG6B,IAAI5C,GACjC+B,GACA,GACA,aACA,aACA,+BACAa,IACA,GACA,GAGmC,IAAI5C,GACvC0B,GACA,GACA,YACA,YACA,uBACAkB,IACA,GACA,GAGsC,IAAI5C,GAC1C2B,GACA,GACA,gBACA,SACA,gBACAkB,IACA,GACA,IAGWC,GAAwB,IAAI9C,GACvCmC,GACA,GACA,aACA,SACA,sBACAY,IACA,GACA,GAGWC,GAAyB,IAAIhD,GACxCoC,GACA,GACA,aACA,SACA,sBACAW,IACA,GACA,GAGWE,GAAwB,IAAIjD,GACvCqC,GACA,GACA,YACA,SACA,uBACAa,IACA,GACA,GAGWC,GAAqB,IAAInD,GACpCsC,GACA,GACA,aACA,SACA,eACAO,IACA,GACA,GAGWO,GAAsB,IAAIpD,GACrCuC,GACA,GACA,cACA,SACA,gBACAQ,IACA,GACA,GAcWM,IAXiB,IAAIrD,GAChCwC,GACA,GACA,eACA,SACA,mBACAc,IACA,GACA,GAGoC,IAAItD,GACxCyC,GACA,GACA,aACA,SACA,eACAc,IACA,GACA,IAGWC,GAAwB,IAAIxD,GACvC0C,GACA,GACA,YACA,SACA,mBACAe,IACA,GACA,GA0EWC,IA/DgB,IAAI1D,IARwC,qBACtEjC,GAAQ6C,QAAU,IADoD,eAEtE7C,GAAQ8C,QAAU,IAFoD,eAGtE9C,GAAQ+C,QAAU,IAHoD,eAItE/C,GAAQgD,eAAiB,8CAJ6C,eAKtEhD,GAAQiD,eAAiB,8CAL6C,IAUvE,GACA,aACA,SACA,oBACA6B,IACA,GACA,GAG8B,IAAI7C,GAC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","file":"static/js/main.eee94ad5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"swapInputContainer\":\"SwapInput_swapInputContainer__3fcf9\",\"selectGroup\":\"SwapInput_selectGroup__1KYi9\",\"hoverPointer\":\"SwapInput_hoverPointer__3yvrh\",\"tokenNameContainer\":\"SwapInput_tokenNameContainer__2Iyjl\",\"symbolArrowContainer\":\"SwapInput_symbolArrowContainer__3wOaO\",\"inputGroup\":\"SwapInput_inputGroup__1Vc_5\",\"focusable\":\"SwapInput_focusable__3YuxK\",\"textBoldPurple\":\"SwapInput_textBoldPurple__1SxCI\",\"dropdownContainer\":\"SwapInput_dropdownContainer__1LBIm\",\"textMinor\":\"SwapInput_textMinor__3CFpR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"advancedOptions\":\"AdvancedOptions_advancedOptions__23aHo\",\"parameter\":\"AdvancedOptions_parameter__2ka7t\",\"options\":\"AdvancedOptions_options__1p5Mj\",\"inputGroup\":\"AdvancedOptions_inputGroup__-tyO2\",\"label\":\"AdvancedOptions_label__lz89u\",\"selected\":\"AdvancedOptions_selected__FSknH\",\"infiniteApproval\":\"AdvancedOptions_infiniteApproval__3HIfP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"supportedChains\":\"SupportedChains_supportedChains__YpGku\",\"textStyle\":\"SupportedChains_textStyle__38u-o\",\"buttonGroupIcon\":\"SupportedChains_buttonGroupIcon__2Pk1o\",\"chainList\":\"SupportedChains_chainList__1pWDw\",\"chain\":\"SupportedChains_chain___yER5\",\"chainInfo\":\"SupportedChains_chainInfo__C5y5_\",\"addNetwork\":\"SupportedChains_addNetwork__1d1SW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"balanceContainer\":\"TokenInput_balanceContainer__cPUnG\",\"tokenInputContainer\":\"TokenInput_tokenInputContainer__1WJUN\",\"smallText\":\"TokenInput_smallText__20eyf\",\"boldText\":\"TokenInput_boldText__31KZf\",\"tokenSymbolAndName\":\"TokenInput_tokenSymbolAndName__2Qvfw\",\"inputGroup\":\"TokenInput_inputGroup__a8J7C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pill\":\"StakePageTitle_pill__1nQ3E\",\"colorPill\":\"StakePageTitle_colorPill__4sB2w\",\"glowPill\":\"StakePageTitle_glowPill__5jPWy\",\"Gradient\":\"StakePageTitle_Gradient__1xzQP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bottommenu\":\"BottomMenu_bottommenu__2xAXQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"farmsOverview\":\"FarmsOverview_farmsOverview__2ATuF\",\"container\":\"FarmsOverview_container__1J_4t\",\"row\":\"FarmsOverview_row__1trVu\",\"balanceInfo\":\"FarmsOverview_balanceInfo__2TGwi\",\"tokenBalanceText\":\"FarmsOverview_tokenBalanceText__r01g_\",\"tokenBalanceValue\":\"FarmsOverview_tokenBalanceValue__qttkP\",\"title\":\"FarmsOverview_title__-RsYJ\",\"underline\":\"FarmsOverview_underline__3khnD\",\"titleBox\":\"FarmsOverview_titleBox__132G0\",\"farmDescription\":\"FarmsOverview_farmDescription__2O168\",\"farmButton\":\"FarmsOverview_farmButton__sy_Dw\",\"tag\":\"FarmsOverview_tag__1Y3pd\",\"rose\":\"FarmsOverview_rose__dcjF1\",\"stats\":\"FarmsOverview_stats__3LOvd\",\"label\":\"FarmsOverview_label__1h1zj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"arrowLeft\":\"BackButton_arrowLeft__2GUbE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"addToken\":\"RosePriceButton_addToken__3jl-Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"divider\":\"Divider_divider__w0lGF\"};","import Fetch from \"i18next-fetch-backend\"\nimport LanguageDetector from \"i18next-browser-languagedetector\"\nimport i18next from \"i18next\"\nimport { initReactI18next } from \"react-i18next\"\n\nvoid i18next\n  .use(Fetch)\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    backend: {\n      loadPath: `./locales/{{lng}}.json`,\n      requestOptions: {\n        cache: \"no-cache\", // validate the freshness of the cache\n      },\n    },\n    react: {\n      useSuspense: true,\n    },\n    fallbackLng: \"en\",\n    load: \"languageOnly\", // load zh.json for zh-CN\n    preload: [\"en\"],\n    keySeparator: false,\n    interpolation: { escapeValue: false },\n  })\n\nexport default i18next\n","import { BaseProvider, getDefaultProvider } from \"@ethersproject/providers\"\n\nimport { InjectedConnector } from \"@web3-react/injected-connector\"\nimport { NetworkConnector } from \"@web3-react/network-connector\"\nimport { WalletConnectConnector } from \"@web3-react/walletconnect-connector\"\n// import { WalletLinkConnector } from \"@web3-react/walletlink-connector\"\n\nconst NETWORK_URL =\n  process.env.REACT_APP_NETWORK_URL ?? \"https://mainnet.aurora.dev\"\nexport const NETWORK_CHAIN_ID: number = parseInt(\n  process.env.REACT_APP_CHAIN_ID ?? \"1313161554\",\n)\n\nexport const network = new NetworkConnector({\n  urls: { [NETWORK_CHAIN_ID]: NETWORK_URL },\n})\n\nlet networkLibrary: BaseProvider | undefined\nexport function getNetworkLibrary(): BaseProvider {\n  const provider = getDefaultProvider(NETWORK_URL)\n  if (NETWORK_URL) {\n    // console.log(`Connecting to network URL: ${NETWORK_URL}`)\n  }\n  return (networkLibrary = networkLibrary ?? provider)\n}\n\nexport const injected = new InjectedConnector({\n  // mainnet, ropsten, rinkeby, goerli, kovan, local buidler\n  // see: https://github.com/ethereum/EIPs/blob/master/EIPS/eip-155.md\n  supportedChainIds: [1313161554, 1313161555],\n})\n\nexport const walletconnect = new WalletConnectConnector({\n  rpc: { [NETWORK_CHAIN_ID]: NETWORK_URL },\n  bridge: \"https://bridge.walletconnect.org\",\n  qrcode: true,\n  // pollingInterval: POLLING_INTERVAL / 12000\n})\n\n// export const walletlink = new WalletLinkConnector({\n//   url: NETWORK_URL,\n//   appName: \"Rose\",\n// })\n","import {\n  BorrowFilterFields,\n  BorrowSortFields,\n  FarmFilterFields,\n  FarmSortFields,\n  PoolFilterFields,\n  PoolSortFields,\n} from \"../state/user\"\nimport { injected, walletconnect } from \"../connectors\"\n\nimport { AbstractConnector } from \"@web3-react/abstract-connector\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { RoseMetaPool } from \"../../types/ethers-contracts/RoseMetaPool\"\nimport { RoseStablesPool } from \"../../types/ethers-contracts/RoseStablesPool\"\nimport alethLogo from \"../assets/icons/aleth.svg\"\nimport alusdLogo from \"../assets/icons/alusd.svg\"\nimport atustLogo from \"../assets/icons/atust.svg\"\nimport busdLogo from \"../assets/icons/busd.svg\"\nimport daiLogo from \"../assets/icons/dai.svg\"\nimport feiLogo from \"../assets/icons/fei.svg\"\nimport fraxLogo from \"../assets/icons/frax.svg\"\nimport lusdLogo from \"../assets/icons/lusd.svg\"\nimport maiLogo from \"../assets/icons/mai.svg\"\nimport metamaskIcon from \"../assets/icons/metamask.svg\"\nimport nearLogo from \"../assets/icons/near_icon.svg\"\nimport renbtcLogo from \"../assets/icons/renbtc.svg\"\nimport roseAtust from \"../assets/icons/rose-atust.svg\"\nimport roseBusdLogo from \"../assets/icons/rose-busd.svg\"\nimport roseFraxLogo from \"../assets/icons/rose-frax.svg\"\nimport roseLogo from \"../assets/icons/rose.svg\"\nimport roseMaiLogo from \"../assets/icons/rose-mai.svg\"\nimport sRoseLogo from \"../assets/icons/srose.svg\"\nimport saddleLogo from \"../assets/icons/logo_24.svg\"\nimport sbtcLogo from \"../assets/icons/sbtc.svg\"\nimport sethLogo from \"../assets/icons/seth.svg\"\nimport susdLogo from \"../assets/icons/susd.svg\"\nimport tbtcLogo from \"../assets/icons/tbtc.svg\"\nimport usdcLogo from \"../assets/icons/usdc.svg\"\nimport usdtLogo from \"../assets/icons/usdt.svg\"\nimport veth2Logo from \"../assets/icons/veth2.svg\"\nimport walletconnectIcon from \"../assets/icons/walletconnect.svg\"\nimport wbtcLogo from \"../assets/icons/wbtc.svg\"\nimport wcusdLogo from \"../assets/icons/wcusd.png\"\nimport wethLogo from \"../assets/icons/weth.svg\"\n\nexport const NetworkContextName = \"NETWORK\"\n\n// POOLS\nexport const BTC_POOL_NAME = \"BTC Pool\"\nexport const BTC_POOL_V2_NAME = \"BTC Pool V2\"\nexport const STABLECOIN_POOL_NAME = \"Stablecoin Pool\"\nexport const STABLECOIN_POOL_V2_NAME = \"Stables Pool\"\nexport const VETH2_POOL_NAME = \"vETH2 Pool\"\nexport const ALETH_POOL_NAME = \"alETH Pool\"\nexport const D4_POOL_NAME = \"D4 Pool\"\nexport const SUSD_METAPOOL_NAME = \"sUSD Metapool\"\nexport const TBTC_METAPOOL_NAME = \"tBTC Metapool\"\nexport const WCUSD_METAPOOL_NAME = \"wCUSD Metapool\"\nexport const FRAX_STABLES_LP_POOL_NAME = \"Frax Pool (outdated)\"\nexport const FRAX_METAPOOL_NAME = \"Frax Pool\"\nexport const STAKED_ROSE_LP_POOL_NAME = \"stRose Pool\"\nexport const UST_METAPOOL_NAME = \"UST Pool\"\nexport const BUSD_METAPOOL_NAME = \"BUSD Pool\"\nexport const MAI_METAPOOL_NAME = \"MAI Pool\"\nexport const RUSD_METAPOOL_NAME = \"RUSD Pool\"\n\n// FARMS\nexport const STABLES_FARM_NAME = \"Stables Farm\"\nexport const FRAX_METAPOOL_FARM_NAME = \"Frax Farm\"\nexport const UST_METAPOOL_FARM_NAME = \"UST Farm\"\nexport const ROSE_PAD_NLP_FARM_NAME = \"ROSE/PAD PLP Farm\"\nexport const ROSE_FRAX_NLP_FARM_NAME = \"ROSE/FRAX PLP Farm\"\nexport const SROSE_FARM_NAME = \"stRose Farm\"\nexport const BUSD_METAPOOL_FARM_NAME = \"BUSD Farm\"\nexport const MAI_METAPOOL_FARM_NAME = \"MAI Farm\"\nexport const RUSD_METAPOOL_FARM_NAME = \"RUSD Farm\"\n\n// BORROW MARKETS\nexport const wNEAR_MARKET_NAME = \"wNEAR\"\nexport const STROSE_MARKET_NAME = \"stROSE\"\nexport const UST_MARKET_NAME = \"UST\"\nexport const USDC_MARKET_NAME = \"USDC\"\nexport const USDT_MARKET_NAME = \"USDT\"\nexport const wETH_MARKET_NAME = \"wETH\"\nexport const wBTC_MARKET_NAME = \"wBTC\"\nexport const NEAR_WL_PROXIMITY_MARKET_NAME = \"NEAR / Proximity (WL)\"\n\nexport type PoolName =\n  | typeof BTC_POOL_NAME\n  | typeof BTC_POOL_V2_NAME\n  | typeof STABLECOIN_POOL_NAME\n  | typeof STABLECOIN_POOL_V2_NAME\n  | typeof VETH2_POOL_NAME\n  | typeof ALETH_POOL_NAME\n  | typeof D4_POOL_NAME\n  | typeof SUSD_METAPOOL_NAME\n  | typeof TBTC_METAPOOL_NAME\n  | typeof WCUSD_METAPOOL_NAME\n  | typeof FRAX_STABLES_LP_POOL_NAME\n  | typeof FRAX_METAPOOL_NAME\n  | typeof UST_METAPOOL_NAME\n  | typeof STAKED_ROSE_LP_POOL_NAME\n  | typeof UST_METAPOOL_NAME\n  | typeof BUSD_METAPOOL_NAME\n  | typeof MAI_METAPOOL_NAME\n// | typeof RUSD_METAPOOL_NAME\n\nexport type FarmName =\n  | typeof STABLES_FARM_NAME\n  | typeof FRAX_METAPOOL_FARM_NAME\n  | typeof UST_METAPOOL_FARM_NAME\n  | typeof ROSE_PAD_NLP_FARM_NAME\n  | typeof ROSE_FRAX_NLP_FARM_NAME\n  | typeof BUSD_METAPOOL_FARM_NAME\n  | typeof MAI_METAPOOL_FARM_NAME\n// | typeof RUSD_METAPOOL_FARM_NAME\n\nexport type BorrowMarketName =\n  | typeof wNEAR_MARKET_NAME\n  | typeof UST_MARKET_NAME\n  | typeof USDC_MARKET_NAME\n  | typeof USDT_MARKET_NAME\n  | typeof wETH_MARKET_NAME\n  | typeof wBTC_MARKET_NAME\n\nexport enum ChainId {\n  MAINNET = 1,\n  ROPSTEN = 3,\n  // RINKEBY = 4,\n  // GRLI = 5,\n  // KOVAN = 42,\n  HARDHAT = 31337,\n  AURORA_TESTNET = 1313161555,\n  AURORA_MAINNET = 1313161554,\n}\nexport enum PoolTypes {\n  BTC,\n  ETH,\n  USD,\n  OTHER,\n}\n\nexport class Token {\n  readonly addresses: { [chainId in ChainId]: string }\n  readonly decimals: number\n  readonly symbol: string\n  readonly name: string\n  readonly icon: string\n  readonly geckoId: string\n  readonly isSynthetic: boolean\n  readonly isLPToken: boolean\n\n  constructor(\n    addresses: { [chainId in ChainId]: string },\n    decimals: number,\n    symbol: string,\n    geckoId: string,\n    name: string,\n    icon: string,\n    isSynthetic = false,\n    isLPToken = false,\n  ) {\n    this.addresses = addresses\n    this.decimals = decimals\n    this.symbol = symbol\n    this.geckoId = geckoId\n    this.name = name\n    this.icon = icon\n    this.isSynthetic = isSynthetic\n    this.isLPToken = isLPToken\n  }\n}\n\nexport const BLOCK_TIME = 13000 // ms\n\nexport const SYNTHETIX_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xC011a73ee8576Fb46F5E1c5751cA3B9Fe0af2a6F\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const SYNTHETIX_EXCHANGE_RATES_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0xd69b189020EF614796578AfE4d10378c5e7e1138\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const BRIDGE_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xa5bD85ed9fA27ba23BfB702989e7218E44fd4706\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const SWAP_MIGRATOR_USD_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0x9cDeF6e33687F438808766fC133b2E9d1A16AD57\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0x99bbA657f2BbC93c02D617f8bA121cB8Fc104Acf\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const SUSD_META_SWAP_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x0C8BAe14c9f9BF2c953997C881BEfaC7729FD314\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0x9d4454B023096f34B160D6B654540c56A1F81688\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const SUSD_META_SWAP_DEPOSIT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0x1e35ebF875f8A2185EDf22da02e7dBCa0F5558aB\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0x809d550fca64d94Bd9F66E60752A544199cfAC3D\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const TBTC_META_SWAP_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xf74ebe6e5586275dc4CeD78F5DBEF31B1EfbE7a5\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0xA22D78bc37cE77FeE1c44F0C2C0d2524318570c3\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const TBTC_META_SWAP_DEPOSIT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0xee1ec4e1C6e39C31dAaf3db2A62A397bdf3fe2f1\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0x0ed2E86FcE2e5A7965f59708c01f88a722BC7f07\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const WCUSD_META_SWAP_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x3F1d224557afA4365155ea77cE4BC32D5Dae2174\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0x1429859428C0aBc9C2C47C8Ee9FBaf82cFA0F20f\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const WCUSD_META_SWAP_DEPOSIT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0x401AFbc31ad2A3Bc0eD8960d63eFcDEA749b4849\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0x922D6956C99E12DFeB3224DEA977D0939758A1Fe\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const STABLECOIN_SWAP_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x3911F80530595fBd01Ab1516Ab61255d75AEb066\",\n  [ChainId.ROPSTEN]: \"0xbCED0cB1e8022869678d40b3c71FA7A443CA8090\",\n  [ChainId.HARDHAT]: \"0x98A0Bc3f9FdAD482CB2e40dE1291f8b0A6FE1860\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const STABLECOIN_SWAP_V2_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xaCb83E0633d6605c5001e2Ab59EF3C745547C8C7\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0xbf9fBFf01664500A33080Da5d437028b07DFcC55\",\n  [ChainId.AURORA_TESTNET]: \"0x2Ec594949EC5CaEb1430B61FE20aEEe6655756ed\",\n  [ChainId.AURORA_MAINNET]: \"0xc90dB0d8713414d78523436dC347419164544A3f\",\n}\n\nexport const FRAX_STABLES_LP_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x2E7d99fF3a89937339dDC651EdbA6e564B751bE7\",\n  [ChainId.AURORA_MAINNET]: \"0xd812cc1fc1e0a56560796C746B1247e2bd4F31f2\",\n}\n\nexport const FRAX_METAPOOL_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xfbC22278A96299D91d41C453234d97b4F5Eb9B2d\",\n  [ChainId.AURORA_MAINNET]: \"0xa34315F1ef49392387Dd143f4578083A9Bd33E94\",\n}\n\nexport const UST_METAPOOL_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x1B8f7ac4acCa4ede18848203a54E57DF104C6f30\",\n  [ChainId.AURORA_MAINNET]: \"0x8fe44f5cce02D5BE44e3446bBc2e8132958d22B8\",\n}\n\nexport const BUSD_METAPOOL_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xD6cb7Bb7D63f636d1cA72A1D3ed6f7F67678068a\",\n  [ChainId.AURORA_MAINNET]: \"0xD6cb7Bb7D63f636d1cA72A1D3ed6f7F67678068a\",\n}\n\nexport const MAI_METAPOOL_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x65a761136815B45A9d78d9781d22d47247B49D23\", // TO-DO: need to add testnet\n  [ChainId.AURORA_MAINNET]: \"0x65a761136815B45A9d78d9781d22d47247B49D23\",\n}\n\nexport const RUSD_METAPOOL_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x9ADE30cdd031B35ABBC607496b99480805B579D4\",\n  [ChainId.AURORA_MAINNET]: \"0x79B0a67a4045A7a8DC04b17456F4fe15339cBA34\",\n}\n\nexport const STAKED_ROSE_POOL_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x7e27881A7eABb81D0e32e03C498f97517Cb75470\",\n  [ChainId.AURORA_MAINNET]: \"0x36685AfD221622942Df61979d72a0064a17EF291\",\n}\n\nexport const BTC_SWAP_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x4f6A43Ad7cba042606dECaCA730d4CE0A57ac62e\",\n  [ChainId.ROPSTEN]: \"0x02ad8Da8cCa3764DFb62d749E51Cb3d4b35643ad\",\n  [ChainId.HARDHAT]: \"0x610178dA211FEF7D417bC0e6FeD39F05609AD788\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const BTC_SWAP_V2_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xdf3309771d2BF82cb2B6C56F9f5365C8bD97c4f2\",\n  [ChainId.ROPSTEN]: \"\", // TODO: add address after deployment\n  [ChainId.HARDHAT]: \"0x93b6BDa6a0813D808d75aA42e900664Ceb868bcF\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const VETH2_SWAP_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xdec2157831D6ABC3Ec328291119cc91B337272b5\",\n  [ChainId.ROPSTEN]: \"0x2C019509326485AE234c6CA8a51c9F4A0F94f5fA\",\n  [ChainId.HARDHAT]: \"0x6F62d12568c81Dc0fb38426B7Cdba2d265f89B29\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const ALETH_SWAP_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xa6018520EAACC06C30fF2e1B3ee2c7c22e64196a\",\n  [ChainId.ROPSTEN]: \"0x53434526fCB7a5FF358AB74C13C1c582BBE6Ab9e\",\n  [ChainId.HARDHAT]: \"0xCafac3dD18aC6c6e92c921884f9E4176737C052c\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const D4_SWAP_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xC69DDcd4DFeF25D8a793241834d4cc4b3668EAD6\",\n  [ChainId.ROPSTEN]: \"0xa5da0cB57830011c67Cb89e73582e7Bf0f49f81e\",\n  [ChainId.HARDHAT]: \"0x9f1ac54BEF0DD2f6f3462EA0fa94fC62300d3a8e\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const MERKLETREE_DATA: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"mainnetTestAccounts.json\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"hardhat.json\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const SUSD_SWAP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0x8Fa31c1b33De16bf05c38AF20329f22D544aD64c\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0xBeaAFDA2E17fC95E69Dc06878039d274E0d2B21A\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const STABLECOIN_SWAP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0x76204f8CFE8B95191A3d1CfA59E267EA65e06FAC\",\n  [ChainId.ROPSTEN]: \"0x09f0e9d602c9989B2C03983cA37E7fa18084C44B\",\n  [ChainId.HARDHAT]: \"0x6D1c89F08bbB35d80B6E6b6d58D2bEFE021eFE8d\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const STABLECOIN_SWAP_V2_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0x5f86558387293b6009d7896A61fcc86C17808D62\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0xC863F1F636fddce400E7515eCBDAbbEc4d1E0390\",\n  [ChainId.AURORA_TESTNET]: \"0xFDE5214eF60617fb63A688C9C51cF5262254B4b7\",\n  [ChainId.AURORA_MAINNET]: \"0xfF79D5bff48e1C01b722560D6ffDfCe9FC883587\",\n}\n\nexport const WCUSD_SWAP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0x78179d49C13c4ECa14C69545ec172Ba0179EAE6B\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0x465Df401621060aE6330C13cA7A0baa2B0a9d66D\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const BTC_SWAP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0xC28DF698475dEC994BE00C9C9D8658A548e6304F\",\n  [ChainId.ROPSTEN]: \"0x7546eC9bf608162117D9Ac6A3F7D50aaE9ea9E6B\",\n  [ChainId.HARDHAT]: \"0x6F1216D1BFe15c98520CA1434FC1d9D57AC95321\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const BTC_SWAP_V2_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0xF32E91464ca18fc156aB97a697D6f8ae66Cd21a3\",\n  [ChainId.ROPSTEN]: \"\", // TODO: add address after deployment\n  [ChainId.HARDHAT]: \"0xbBc1b70e4e04486570bfB621194d4f901a906E8F\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const TBTC_SWAP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0x122Eca07139EB368245A29FB702c9ff11E9693B7\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0xf76070F44307a4B6649fEC2081cE4B4730c37C76\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const VETH2_SWAP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0xe37E2a01feA778BC1717d72Bd9f018B6A6B241D5\",\n  [ChainId.ROPSTEN]: \"0x28B465383ab829adFf02794917cD2FB8d04b0902\",\n  [ChainId.HARDHAT]: \"0xd44a47B19a7862709588D574f39480f9C4DED1A6\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const ALETH_SWAP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0xc9da65931ABf0Ed1b74Ce5ad8c041C4220940368\",\n  [ChainId.ROPSTEN]: \"0x13e0d50308C01cf5BdA4b64CcBCceF0C6B9710DF\",\n  [ChainId.HARDHAT]: \"0xAe367415f4BDe0aDEE3e59C35221d259f517413E\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const D4_SWAP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"0xd48cF4D7FB0824CC8bAe055dF3092584d0a1726A\",\n  [ChainId.ROPSTEN]: \"0xA2b37a2c1F5E523f867137D2394Da1AC2283f473\",\n  [ChainId.HARDHAT]: \"0x2d2c18F63D2144161B38844dCd529124Fbb93cA2\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\n\nexport const FRAX_STABLES_LP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xC604298cAf81dEeFd245343e7c891b4C8860CB0E\",\n  [ChainId.AURORA_MAINNET]: \"0xbB5279353d88A25F099A334Ba49CDCb1CF4b5A7c\",\n}\n\nexport const FRAX_METAPOOL_LP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x4EE6eCAD1c2Dae9f525404De8555724e3c35d07B\",\n  [ChainId.AURORA_MAINNET]: \"0x4463A118A2fB34640ff8eF7Fe1B3abAcd4aC9fB7\",\n}\n\nexport const UST_METAPOOL_LP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x1BCD872ECEf68C77465a8dADa1d915D7Af206bF5\",\n  [ChainId.AURORA_MAINNET]: \"0x94A7644E4D9CA0e685226254f88eAdc957D3c263\",\n}\n\nexport const ROSE_PAD_NLP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xC6C3cc84EabD4643C382C988fA2830657fc70a6B\", // TO-DO: UPDATE\n  [ChainId.AURORA_MAINNET]: \"0xC6C3cc84EabD4643C382C988fA2830657fc70a6B\",\n}\n\nexport const ROSE_FRAX_NLP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xeD4C231b98b474f7cAeCAdD2736e5ebC642ad707\", // TO-DO: UPDATE\n  [ChainId.AURORA_MAINNET]: \"0xeD4C231b98b474f7cAeCAdD2736e5ebC642ad707\",\n}\n\nexport const SROSE_LP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xcb2B566B1e643d068DE7DE76C5420A1c63ceD299\",\n  [ChainId.AURORA_MAINNET]: \"0x7Ba8C17010a48283D38a4bd5f87EfEB5594c92f8\",\n}\n\nexport const BUSD_METAPOOL_LP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x158f57CF9A4DBFCD1Bc521161d86AeCcFC5aF3Bc\", // note: missing testnet deployment\n  [ChainId.AURORA_MAINNET]: \"0x158f57CF9A4DBFCD1Bc521161d86AeCcFC5aF3Bc\",\n}\n\nexport const MAI_METAPOOL_LP_TOKEN_CONTRACT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xA7ae42224Bf48eCeFc5f838C230EE339E5fd8e62\", // note: missing testnet deployment\n  [ChainId.AURORA_MAINNET]: \"0xA7ae42224Bf48eCeFc5f838C230EE339E5fd8e62\",\n}\n\nexport const SUSD_SWAP_TOKEN = new Token(\n  SUSD_SWAP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"saddleSUSD\",\n  \"saddlesusd\",\n  \"Saddle sUSD/saddleUSD-V2\",\n  saddleLogo,\n  false,\n  true,\n)\n\nexport const BTC_SWAP_TOKEN = new Token(\n  BTC_SWAP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"saddleBTC\",\n  \"saddlebtc\",\n  \"Saddle TBTC/WBTC/RENBTC/SBTC\",\n  saddleLogo,\n  false,\n  true,\n)\n\nexport const BTC_SWAP_V2_TOKEN = new Token(\n  BTC_SWAP_V2_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"saddleBTC-V2\",\n  \"saddlebtc-v2\",\n  \"Saddle WBTC/RENBTC/SBTC\",\n  saddleLogo,\n  false,\n  true,\n)\n\nexport const TBTC_SWAP_TOKEN = new Token(\n  TBTC_SWAP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"saddletBTC\",\n  \"saddletBTC\",\n  \"Saddle tBTCv2/saddleWRenSBTC\",\n  saddleLogo,\n  false,\n  true,\n)\n\nexport const STABLECOIN_SWAP_TOKEN = new Token(\n  STABLECOIN_SWAP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"saddleUSD\",\n  \"saddleusd\",\n  \"Saddle DAI/USDC/USDT\",\n  saddleLogo,\n  false,\n  true,\n)\n\nexport const STABLECOIN_SWAP_V2_TOKEN = new Token(\n  STABLECOIN_SWAP_V2_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"RoseStablesLP\",\n  \"tether\", // tracking USDT for now, as we can't fetch price for RoseStablesLP\n  \"RoseStablesLP\",\n  roseLogo,\n  false,\n  true,\n)\n\nexport const FRAX_STABLES_LP_TOKEN = new Token(\n  FRAX_STABLES_LP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"RoseFraxLP\",\n  \"tether\", // tracking tether: cannot fetch coingecko for LPs\n  \"Rose FRAX/StablesLP\",\n  roseFraxLogo,\n  false,\n  true,\n)\n\nexport const FRAX_METAPOOL_LP_TOKEN = new Token(\n  FRAX_METAPOOL_LP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"RoseFraxLP\",\n  \"tether\", // tracking tether: cannot fetch coingecko for LPs\n  \"Rose FRAX/StablesLP\",\n  roseFraxLogo,\n  false,\n  true,\n)\n\nexport const UST_METAPOOL_LP_TOKEN = new Token(\n  UST_METAPOOL_LP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"RoseUSTLP\",\n  \"tether\", // tracking tether: cannot fetch coingecko for LPs\n  \"Rose atUST/StablesLP\",\n  roseAtust,\n  false,\n  true,\n)\n\nexport const ROSE_PAD_NLP_TOKEN = new Token(\n  ROSE_PAD_NLP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"RosePadNLP\",\n  \"tether\", // tracking tether: cannot fetch coingecko for LPs\n  \"ROSE/PAD PLP\",\n  roseLogo, // TO-DO: change to new logo\n  false,\n  true,\n)\n\nexport const ROSE_FRAX_NLP_TOKEN = new Token(\n  ROSE_FRAX_NLP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"RoseFraxNLP\",\n  \"tether\", // tracking tether: cannot fetch coingecko for LPs\n  \"ROSE/FRAX PLP\",\n  roseFraxLogo, // TO-DO: change to new logo\n  false,\n  true,\n)\n\nexport const SROSE_LP_TOKEN = new Token(\n  SROSE_LP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"StakedRoseLP\",\n  \"tether\", // tracking tether: cannot fetch coingecko for LPs\n  \"Rose ROSE/stROSE\",\n  sRoseLogo, // TO-DO: change to new logo\n  false,\n  true,\n)\n\nexport const BUSD_METAPOOL_LP_TOKEN = new Token(\n  BUSD_METAPOOL_LP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"RoseBUSDLP\",\n  \"tether\", // tracking tether: cannot fetch coingecko for LPs\n  \"Rose/BUSD LP\",\n  roseBusdLogo,\n  false,\n  true,\n)\n\nexport const MAI_METAPOOL_LP_TOKEN = new Token(\n  MAI_METAPOOL_LP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"RoseMAILP\",\n  \"tether\", // tracking tether: cannot fetch coingecko for LPs\n  \"Rose MAI/Stables\",\n  roseMaiLogo,\n  false,\n  true,\n)\n\nexport const RUSD_LP_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x6703fbE3DE7Bc184C138015116C4Cc44FdC059F3\",\n  [ChainId.AURORA_MAINNET]: \"0x56f87a0cB4713eB513BAf57D5E81750433F5fcB9\",\n}\n\nexport const RUSD_LP_TOKEN = new Token(\n  RUSD_LP_CONTRACT_ADDRESSES,\n  18,\n  \"RoseRUSDLP\",\n  \"tether\", // tracking tether: cannot fetch coingecko for LPs\n  \"Rose RUSD/Stables\",\n  roseLogo,\n  false,\n  true,\n)\n\nexport const WCUSD_SWAP_TOKEN = new Token(\n  WCUSD_SWAP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"saddlewCUSD\",\n  \"saddlewcusd\",\n  \"Saddle wCUSD/saddleUSD-V2\",\n  saddleLogo,\n  false,\n  true,\n)\n\nexport const VETH2_SWAP_TOKEN = new Token(\n  VETH2_SWAP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"saddleVETH2\",\n  \"saddleveth2\",\n  \"Saddle WETH/vETH2\",\n  saddleLogo,\n  false,\n  true,\n)\n\nexport const ALETH_SWAP_TOKEN = new Token(\n  ALETH_SWAP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"saddleALETH\",\n  \"saddlealeth\",\n  \"Saddle WETH/alETH/sETH\",\n  saddleLogo,\n  false,\n  true,\n)\n\nexport const D4_SWAP_TOKEN = new Token(\n  D4_SWAP_TOKEN_CONTRACT_ADDRESSES,\n  18,\n  \"saddleD4\",\n  \"saddled4\",\n  \"Saddle alUSD/FEI/FRAX/LUSD\",\n  saddleLogo,\n  false,\n  true,\n)\n\n// Stablecoins\nconst WCUSD_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xad3e3fc59dff318beceaab7d00eb4f68b1ecf195\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0xFD471836031dc5108809D173A067e8486B9047A3\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\nexport const WCUSD = new Token(\n  WCUSD_CONTRACT_ADDRESSES,\n  18,\n  \"wCUSD\",\n  \"wrapped-celo-dollar\",\n  \"Wrapped Celo USD\",\n  wcusdLogo,\n)\n\nconst SUSD_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x57Ab1ec28D129707052df4dF418D58a2D46d5f51\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0x0E801D84Fa97b50751Dbf25036d067dCf18858bF\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\nexport const SUSD = new Token(\n  SUSD_CONTRACT_ADDRESSES,\n  18,\n  \"sUSD\",\n  \"nusd\",\n  \"sUSD\",\n  susdLogo,\n  true,\n)\n\nconst DAI_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x6B175474E89094C44Da98b954EedeAC495271d0F\",\n  [ChainId.ROPSTEN]: \"0x8C924e41d0624Ae6E7DB09fc93BBfB324c31BE0C\",\n  [ChainId.HARDHAT]: \"0xA51c1fc2f0D1a1b8494Ed1FE312d7C3a78Ed91C0\",\n  [ChainId.AURORA_TESTNET]: \"0x22EE86789837529E2F58Fd6D1dD6B0B26fc1e092\",\n  [ChainId.AURORA_MAINNET]: \"0xe3520349F477A5F6EB06107066048508498A291b\",\n}\nexport const DAI = new Token(\n  DAI_CONTRACT_ADDRESSES,\n  18,\n  \"DAI\",\n  \"dai\",\n  \"Dai\",\n  daiLogo,\n)\n\nconst USDC_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\",\n  [ChainId.ROPSTEN]: \"0xA4fe4981f7550884E7E6224F0c78245DC145b2F2\",\n  [ChainId.HARDHAT]: \"0x9A676e781A523b5d0C0e43731313A708CB607508\",\n  [ChainId.AURORA_TESTNET]: \"0x84606Cf2905f7004D6164a7aC2884A36BC8a0A90\",\n  [ChainId.AURORA_MAINNET]: \"0xB12BFcA5A55806AaF64E99521918A4bf0fC40802\",\n}\nexport const USDC = new Token(\n  USDC_CONTRACT_ADDRESSES,\n  6,\n  \"USDC\",\n  \"usd-coin\",\n  \"USDC Coin\",\n  usdcLogo,\n)\n\nconst USDT_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xdac17f958d2ee523a2206206994597c13d831ec7\",\n  [ChainId.ROPSTEN]: \"0x0593d1b92e8Ba6bBC428923245891efF0311Fa15\",\n  [ChainId.HARDHAT]: \"0x959922bE3CAee4b8Cd9a407cc3ac1C251C2007B1\",\n  [ChainId.AURORA_TESTNET]: \"0x8547A073cbc7D4aF48aD061b9D005C06D55337F5\",\n  [ChainId.AURORA_MAINNET]: \"0x4988a896b1227218e4A686fdE5EabdcAbd91571f\",\n}\nexport const USDT = new Token(\n  USDT_CONTRACT_ADDRESSES,\n  6,\n  \"USDT\",\n  \"tether\",\n  \"Tether\",\n  usdtLogo,\n)\n\nexport const STABLECOIN_POOL_TOKENS = [DAI, USDC, USDT]\nexport const SUSD_POOL_TOKENS = [SUSD, ...STABLECOIN_POOL_TOKENS]\nexport const SUSD_UNDERLYING_POOL_TOKENS = [SUSD, STABLECOIN_SWAP_V2_TOKEN]\n\n// Tokenized BTC\nconst TBTC_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x8daebade922df735c38c80c7ebd708af50815faa\",\n  [ChainId.ROPSTEN]: \"0x9F6aA48f852Dd928F53A7dd3dcd2AC96a76c8727\",\n  [ChainId.HARDHAT]: \"0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\nexport const TBTC = new Token(\n  TBTC_CONTRACT_ADDRESSES,\n  18,\n  \"TBTC\",\n  \"tbtc\",\n  \"tBTC\",\n  tbtcLogo,\n)\n\nconst TBTC_V2_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x18084fba666a33d37592fa2633fd49a74dd93a88\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"0x82e01223d51Eb87e16A03E24687EDF0F294da6f1\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\nexport const TBTC_V2 = new Token(\n  TBTC_V2_CONTRACT_ADDRESSES,\n  18,\n  \"TBTCv2\",\n  \"tbtc\",\n  \"tBTCv2\",\n  tbtcLogo,\n)\n\nconst WBTC_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x2260fac5e5542a773aa44fbcfedf7c193bc2c599\",\n  [ChainId.ROPSTEN]: \"0x7264594dFB80a150f80b2988862605dDfda53727\",\n  [ChainId.HARDHAT]: \"0xDc64a140Aa3E981100a9becA4E685f962f0cF6C9\",\n  [ChainId.AURORA_TESTNET]: \"\", // TO-DO: missing testnet\n  [ChainId.AURORA_MAINNET]: \"0xf4eb217ba2454613b15dbdea6e5f22276410e89e\",\n}\nexport const WBTC = new Token(\n  WBTC_CONTRACT_ADDRESSES,\n  8,\n  \"WBTC\",\n  \"wrapped-bitcoin\",\n  \"WBTC\",\n  wbtcLogo,\n)\n\nconst RENBTC_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xeb4c2781e4eba804ce9a9803c67d0893436bb27d\",\n  [ChainId.ROPSTEN]: \"0x79B92D075d72d639D46D30CE15e6DdDE50ad5890\",\n  [ChainId.HARDHAT]: \"0x0165878A594ca255338adfa4d48449f69242Eb8F\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\nexport const RENBTC = new Token(\n  RENBTC_CONTRACT_ADDRESSES,\n  8,\n  \"RENBTC\",\n  \"renbtc\",\n  \"renBTC\",\n  renbtcLogo,\n)\n\nconst SBTC_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xfe18be6b3bd88a2d2a7f928d00292e7a9963cfc6\",\n  [ChainId.ROPSTEN]: \"0xAc2931cFA6ff57Aaf64B43DFdc5190ca3c341640\",\n  [ChainId.HARDHAT]: \"0x2279B7A0a67DB372996a5FaB50D91eAA73d2eBe6\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\nexport const SBTC = new Token(\n  SBTC_CONTRACT_ADDRESSES,\n  18,\n  \"sBTC\",\n  \"sbtc\",\n  \"sBTC\",\n  sbtcLogo,\n  true,\n)\n\nexport const BTC_POOL_TOKENS = [TBTC, WBTC, RENBTC, SBTC]\nexport const BTC_POOL_V2_TOKENS = [WBTC, RENBTC, SBTC]\n\nexport const TBTC_POOL_TOKENS = [TBTC_V2, ...BTC_POOL_V2_TOKENS]\nexport const TBTC_UNDERLYING_POOL_TOKENS = [TBTC_V2, BTC_SWAP_V2_TOKEN]\n\nconst WETH_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2\",\n  [ChainId.ROPSTEN]: \"0x0B68F3b6c7fc0b6dD4D9a2399C4AE35be060ba42\",\n  [ChainId.HARDHAT]: \"0x3Aa5ebB10DC797CAC828524e59A333d0A371443c\",\n  [ChainId.AURORA_TESTNET]: \"\", // TO-DO: update testnet\n  [ChainId.AURORA_MAINNET]: \"0xC9BdeEd33CD01541e1eeD10f90519d2C06Fe3feB\",\n}\nexport const WETH = new Token(\n  WETH_CONTRACT_ADDRESSES,\n  18,\n  \"WETH\",\n  \"ethereum\",\n  \"WETH\",\n  wethLogo,\n)\n\nconst VETH2_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x898BAD2774EB97cF6b94605677F43b41871410B1\",\n  [ChainId.ROPSTEN]: \"0xd46Ea72ABf55699b17eAF529c6533e5c13F5E687\",\n  [ChainId.HARDHAT]: \"0x59b670e9fA9D0A427751Af201D676719a970857b\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\nexport const VETH2 = new Token(\n  VETH2_CONTRACT_ADDRESSES,\n  18,\n  \"VETH2\",\n  \"ethereum\",\n  \"vETH2\",\n  veth2Logo,\n)\n\nexport const VETH2_POOL_TOKENS = [WETH, VETH2]\n\nconst ALETH_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x0100546F2cD4C9D97f798fFC9755E47865FF7Ee6\",\n  [ChainId.ROPSTEN]: \"0xaA91d3f2C53BDBEdd45FaB0308d0b51315Dc32E7\",\n  [ChainId.HARDHAT]: \"0x09635F643e140090A9A8Dcd712eD6285858ceBef\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\nexport const ALETH = new Token(\n  ALETH_CONTRACT_ADDRESSES,\n  18,\n  \"alETH\",\n  \"alchemix-eth\",\n  \"Alchemix ETH\",\n  alethLogo,\n)\n\nconst SETH_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x5e74C9036fb86BD7eCdcb084a0673EFc32eA31cb\",\n  [ChainId.ROPSTEN]: \"0x82BD6d2A185ed1C48e01830853fEf7f4D02fF1cC\",\n  [ChainId.HARDHAT]: \"0x67d269191c92Caf3cD7723F116c85e6E9bf55933\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\nexport const SETH = new Token(\n  SETH_CONTRACT_ADDRESSES,\n  18,\n  \"sETH\",\n  \"seth\",\n  \"Synth sETH\",\n  sethLogo,\n  true,\n)\n\nexport const ALETH_POOL_TOKENS = [WETH, ALETH, SETH]\n\nconst ALUSD_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0xBC6DA0FE9aD5f3b0d58160288917AA56653660E9\",\n  [ChainId.ROPSTEN]: \"0x8b7a92FdbC77c6d8c61644D118c37D813B2069C4\",\n  [ChainId.HARDHAT]: \"0x84eA74d481Ee0A5332c457a4d796187F6Ba67fEB\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\nexport const ALUSD = new Token(\n  ALUSD_CONTRACT_ADDRESSES,\n  18,\n  \"alUSD\",\n  \"alchemix-usd\",\n  \"Alchemix USD\",\n  alusdLogo,\n)\n\nconst FEI_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x956F47F50A910163D8BF957Cf5846D573E7f87CA\",\n  [ChainId.ROPSTEN]: \"0x02020a3006587080a00d6675AFfACC99344521AC\",\n  [ChainId.HARDHAT]: \"0xa82fF9aFd8f496c3d6ac40E2a0F282E47488CFc9\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\nexport const FEI = new Token(\n  FEI_CONTRACT_ADDRESSES,\n  18,\n  \"FEI\",\n  \"fei-protocol\",\n  \"Fei Protocol\",\n  feiLogo,\n)\n\nconst FRAX_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x853d955aCEf822Db058eb8505911ED77F175b99e\",\n  [ChainId.ROPSTEN]: \"0xb295E36469C8Aef7d76b661aD5af02cdB258D662\",\n  [ChainId.HARDHAT]: \"0x851356ae760d987E095750cCeb3bC6014560891C\",\n  [ChainId.AURORA_TESTNET]: \"0xBEc49fA140aCaA83533fB00A2BB19bDdd0290f25\",\n  [ChainId.AURORA_MAINNET]: \"0xda2585430fef327ad8ee44af8f1f989a2a91a3d2\",\n}\nexport const FRAX = new Token(\n  FRAX_CONTRACT_ADDRESSES,\n  18,\n  \"FRAX\",\n  \"frax\",\n  \"Frax\",\n  fraxLogo,\n)\n\nconst UST_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xFE643843B9F4CfF9bbd57Ac2150d95858a0dCDd6\",\n  [ChainId.AURORA_MAINNET]: \"0x5ce9F0B6AFb36135b5ddBF11705cEB65E634A9dC\",\n}\n\nexport const UST = new Token(\n  UST_CONTRACT_ADDRESSES,\n  18,\n  \"atUST\",\n  \"terrausd\",\n  \"UST Terra\",\n  atustLogo,\n)\n\nconst LUSD_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"0x5f98805A4E8be255a32880FDeC7F6728C6568bA0\",\n  [ChainId.ROPSTEN]: \"0x440d96e36f1A087deFdB5206b5e53DD2e526840B\",\n  [ChainId.HARDHAT]: \"0x95401dc811bb5740090279Ba06cfA8fcF6113778\",\n  [ChainId.AURORA_TESTNET]: \"\",\n  [ChainId.AURORA_MAINNET]: \"\",\n}\nexport const LUSD = new Token(\n  LUSD_CONTRACT_ADDRESSES,\n  18,\n  \"LUSD\",\n  \"liquity-usd\",\n  \"Liquity USD\",\n  lusdLogo,\n)\n\nexport const ROSE_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xfbBfA407fb908e4D58145762788062521C816332\",\n  [ChainId.AURORA_MAINNET]: \"0xdcD6D4e2B3e1D1E1E6Fa8C21C8A323DcbecfF970\",\n}\n\nexport const ROSE = new Token(\n  ROSE_CONTRACT_ADDRESSES,\n  18,\n  \"ROSE\",\n  \"rose\",\n  \"Rose Token\",\n  roseLogo,\n)\n\nexport const SROSE_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x777764757A453327fBfb8f3a979C7F2E58c0F9aD\",\n  [ChainId.AURORA_MAINNET]: \"0xe23d2289FBca7De725DC21a13fC096787A85e16F\",\n}\n\nexport const SROSE = new Token(\n  SROSE_CONTRACT_ADDRESSES,\n  18,\n  \"stROSE\",\n  \"strose\",\n  \"Staked Rose Tokens\",\n  sRoseLogo,\n)\n\nexport const BUSD_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x5C92A4A7f59A9484AFD79DbE251AD2380E589783\", // note: no testnet deployment\n  [ChainId.AURORA_MAINNET]: \"0x5C92A4A7f59A9484AFD79DbE251AD2380E589783\",\n}\n\nexport const BUSD = new Token(\n  BUSD_CONTRACT_ADDRESSES,\n  18,\n  \"abBUSD\",\n  \"binance-usd\",\n  \"BUSD BSC (Allbridge)\",\n  busdLogo,\n)\n\nexport const MAI_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xdFA46478F9e5EA86d57387849598dbFB2e964b02\", // note: no testnet deployment\n  [ChainId.AURORA_MAINNET]: \"0xdFA46478F9e5EA86d57387849598dbFB2e964b02\",\n}\n\nexport const MAI = new Token(\n  MAI_CONTRACT_ADDRESSES,\n  18,\n  \"MAI\",\n  \"tether\",\n  \"MAI\",\n  maiLogo,\n)\n\nexport const RUSD_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x444C98b60Fa3F8A74335EC8893b2f9CE5c83b1df\",\n  [ChainId.AURORA_MAINNET]: \"0x19cc40283B057D6608C22F1D20F17e16C245642E\",\n}\n\nexport const RUSD = new Token(\n  RUSD_CONTRACT_ADDRESSES,\n  18,\n  \"RUSD\",\n  \"tether\", // to-do: update\n  \"RoseUSD\",\n  roseLogo, // to-do: update\n)\n\nexport const NEAR_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x7A7486B50440F560fc45983b313E4078EB41080c\",\n  [ChainId.AURORA_MAINNET]: \"0x8ac5eE52F70AE01dB914bE459D8B3d50126fd6aE\", // TO-DO: update mainnet\n}\n\nexport const NEAR = new Token(\n  NEAR_CONTRACT_ADDRESSES,\n  24,\n  \"NEAR\",\n  \"near\", // to-do: update\n  \"Near\",\n  nearLogo, // to-do: update\n)\n\nexport const wNEAR_CONTRACT_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xC42C30aC6Cc15faC9bD938618BcaA1a1FaE8501d\", // TO-DO: update testnet\n  [ChainId.AURORA_MAINNET]: \"0xC42C30aC6Cc15faC9bD938618BcaA1a1FaE8501d\",\n}\n\nexport const wNEAR = new Token(\n  wNEAR_CONTRACT_ADDRESSES,\n  24,\n  \"wNEAR\",\n  \"near\", // to-do: update\n  \"wNEAR\",\n  nearLogo, // to-do: update\n)\n\nexport const ROSE_FARM_STABLES_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xd7aA8Cf4811b8faFb423085BD2f77C3883eA9Ea3\",\n  [ChainId.AURORA_MAINNET]: \"0x52CACa9a2D52b27b28767d3649565774A3B991f3\",\n}\n\nexport const FRAX_METAPOOL_FARM_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xD42912755319665397FF090fBB63B1a31aE87Cee\",\n  [ChainId.AURORA_MAINNET]: \"0xB9D873cDc15e462f5414CCdFe618a679a47831b4\",\n}\n\nexport const UST_METAPOOL_FARM_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xfcDB4564c18A9134002b9771816092C9693622e3\",\n  [ChainId.AURORA_MAINNET]: \"0x56DE5E2c25828040330CEF45258F3FFBc090777C\",\n}\n\nexport const ROSE_PAD_NLP_FARM_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xfF79D5bff48e1C01b722560D6ffDfCe9FC883587\",\n  [ChainId.AURORA_MAINNET]: \"0x9b2aE7d53099Ec64e2f6df3B4151FFCf7205f788\",\n}\n\nexport const ROSE_FRAX_NLP_FARM_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xd7Fd3210a40495ef13adeC5c4c591Fe7794b8b8a\",\n  [ChainId.AURORA_MAINNET]: \"0x1B10bFCd6192edC573ced7Db7c7e403c7FAb8068\",\n}\n\nexport const SROSE_FARM_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xA5BA452C32664b86c44556872F1a8011Bf35C6E8\",\n  [ChainId.AURORA_MAINNET]: \"0x247c9DA96BfC4720580ee84E01566D79a8c901ca\",\n}\n\nexport const BUSD_FARM_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x18A6115150A060F22Bacf62628169ee9b231368f\", // note: missing testnet deployment\n  [ChainId.AURORA_MAINNET]: \"0x18A6115150A060F22Bacf62628169ee9b231368f\",\n}\n\nexport const MAI_FARM_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x226991aADeEfDe03bF557eF067da95fc613aBfFc\", // note: missing testnet deployment\n  [ChainId.AURORA_MAINNET]: \"0x226991aADeEfDe03bF557eF067da95fc613aBfFc\",\n}\n\nexport const RUSD_FARM_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x9286d58C1c8d434Be809221923Cf4575f7A4d058\", // note: missing testnet deployment\n  [ChainId.AURORA_MAINNET]: \"0x9286d58C1c8d434Be809221923Cf4575f7A4d058\",\n}\n\nexport const FRAX_METAPOOL_DEPOSIT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xC9a43158891282A2B1475592D5719c001986Aaec\",\n  [ChainId.AURORA_MAINNET]: \"0x8a36Fd6F3502c60107E6711E4d98d933e4Da8EC3\",\n}\n\nexport const UST_METAPOOL_DEPOSIT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x4F44443271751576305F2f98CbB96B8992a170c0\",\n  [ChainId.AURORA_MAINNET]: \"0x6df16C4C708089aB6c436e1be7f7062C0bA5C317\",\n}\n\nexport const BUSD_METAPOOL_DEPOSIT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x1685506373B560906d9ef0053F0Bc6C38370B6F1\", // TO-DO: missing testnet deployment\n  [ChainId.AURORA_MAINNET]: \"0x1685506373B560906d9ef0053F0Bc6C38370B6F1\",\n}\n\nexport const MAI_METAPOOL_DEPOSIT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x81B2DF6Da4E944B0CE5B3f62473D8637b65c631C\", // TO-DO: missing testnet deployment\n  [ChainId.AURORA_MAINNET]: \"0x81B2DF6Da4E944B0CE5B3f62473D8637b65c631C\",\n}\n\nexport const RUSD_METAPOOL_DEPOSIT_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xA593Eabb3972A482b6Eee12D36c525963d8dDDe3\",\n  [ChainId.AURORA_MAINNET]: \"0x2F9272Fd0972fefB81EBe5364F127D46B0ddba96\",\n}\n\nexport const NEAR_GARDEN_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xa2A36C2E2bE75C33E32C0A6fDE402652700351fA\",\n  [ChainId.AURORA_MAINNET]: \"0x39F354E404931F5B988Aaed0A280738ABe8bf1Ed\", // update mainnet\n}\n\nexport const NEAR_ORACLE_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x0B680dbDCC07166CE5201E75FC5A20a650F5a3F2\",\n  [ChainId.AURORA_MAINNET]: \"0x79c57C246794606c83AB32dc56e5cD2030FB552b\",\n}\n\nexport const STROSE_GARDEN_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x68Ebc71035D25BC70ed7AeE27C4D3cE2657F31e6\",\n  [ChainId.AURORA_MAINNET]: \"0xFfD696703f28753CE1F24bB35B9f7Ae4d966F9f0\", // update mainnet\n}\n\nexport const STROSE_ORACLE_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x0B9A63E27f61Af06D5DbE9bAaF3F9fF2467fBbf4\",\n  [ChainId.AURORA_MAINNET]: \"0x0B9A63E27f61Af06D5DbE9bAaF3F9fF2467fBbf4\", // update mainnet\n}\n\nexport const UST_GARDEN_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0xc0A8b9Dc636faF4d103d7Ff639362dC4198A0F5a\",\n  [ChainId.AURORA_MAINNET]: \"0xe8F7F08D50e12145Cb722cfF861e6A9b43EADBA1\",\n}\n\nexport const UST_ORACLE_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x2DDDDb9C47A6Bd5697CD047278a69606cCA61E6E\",\n  [ChainId.AURORA_MAINNET]: \"0x2DDDDb9C47A6Bd5697CD047278a69606cCA61E6E\", // update mainnet\n}\n\nexport const NEAR_WL_PROXIMITY_GARDEN_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x3f14a8A649206DD826f0cCAC310dbaf94C0d6bb3\",\n  [ChainId.AURORA_MAINNET]: \"0xA94B88eceF32c6601b62c2C285fB65A8250B1409\", // update mainnet\n}\n\nexport const wNEAR_GARDEN_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"\", // TO-DO: update testnet\n  [ChainId.AURORA_MAINNET]: \"0x64C922E3824ab40cbbEdd6C8092d148C283d3D3D\",\n}\n\nexport const USDC_GARDEN_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"\", // TO-DO: update testnet\n  [ChainId.AURORA_MAINNET]: \"0xfbAF3eBF228eB712b1267285787e51aDd70086bB\",\n}\n\n/** note: using this oracle for UST for the time being */\nexport const USDC_ORACLE_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"\", // TO-DO: update testnet\n  [ChainId.AURORA_MAINNET]: \"0xdD170e697d7ADed472a9284f07576c3449284502\",\n}\n\nexport const USDT_GARDEN_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"\", // TO-DO: update testnet\n  [ChainId.AURORA_MAINNET]: \"0x0F44fCD177098Cb2B063B50f6C62e4F1E1f9d596\",\n}\n\nexport const USDT_ORACLE_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"\", // TO-DO: update testnet\n  [ChainId.AURORA_MAINNET]: \"0x55b9eD56737B161677dC5146873E643647Ba5a43\",\n}\n\nexport const wBTC_GARDEN_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"\", // TO-DO: update testnet\n  [ChainId.AURORA_MAINNET]: \"0x6bA5B45149996597d96e6dB19E4E1eFA81a6df97\",\n}\n\nexport const wBTC_ORACLE_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"\", // TO-DO: update testnet\n  [ChainId.AURORA_MAINNET]: \"0xBE46e430d336fC827d096Db044cBaEECE72e17bC\",\n}\n\nexport const wETH_GARDEN_ADDRESSES: {\n  [chainId in ChainId]: string\n} = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"\", // TO-DO: update testnet\n  [ChainId.AURORA_MAINNET]: \"0x084355FDd5fcfd55d60C5B8626756a6906576f13\",\n}\n\nexport const wETH_ORACLE_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"\", // TO-DO: update testnet\n  [ChainId.AURORA_MAINNET]: \"0x842AF8074Fa41583E3720821cF1435049cf93565\",\n}\n\nexport const VASE_ADDRESSES: { [chainId in ChainId]: string } = {\n  [ChainId.MAINNET]: \"\",\n  [ChainId.ROPSTEN]: \"\",\n  [ChainId.HARDHAT]: \"\",\n  [ChainId.AURORA_TESTNET]: \"0x6DFA09af86Ec9EB4185898ee9841A51682b5d384\",\n  [ChainId.AURORA_MAINNET]: \"0xee793001Ce9Fa988712B15a59CCf5dC7d54b22FF\",\n}\n\nexport const D4_POOL_TOKENS = [ALUSD, FEI, FRAX, LUSD]\nexport const FRAX_STABLES_LP_POOL_TOKENS = [FRAX, STABLECOIN_SWAP_V2_TOKEN]\nexport const FRAX_METAPOOL_TOKENS = [FRAX, STABLECOIN_SWAP_V2_TOKEN]\nexport const STAKED_ROSE_POOL_TOKENS = [ROSE, SROSE]\nexport const UST_METAPOOL_TOKENS = [UST, STABLECOIN_SWAP_V2_TOKEN]\nexport const BUSD_METAPOOL_TOKENS = [BUSD, STABLECOIN_SWAP_V2_TOKEN]\nexport const MAI_METAPOOL_TOKENS = [MAI, STABLECOIN_SWAP_V2_TOKEN]\nexport const RUSD_METAPOOL_TOKENS = [RUSD, STABLECOIN_SWAP_V2_TOKEN]\nexport const WCUSD_POOL_TOKENS = [WCUSD, ...STABLECOIN_POOL_TOKENS]\nexport const WCUSD_UNDERLYING_POOL_TOKENS = [WCUSD, STABLECOIN_SWAP_V2_TOKEN]\n\nexport type Pool = {\n  name: PoolName\n  lpToken: Token\n  poolTokens: Token[]\n  isSynthetic: boolean\n  addresses: { [chainId in ChainId]: string }\n  type: PoolTypes\n  route: string\n  farmName?: FarmName\n  migration?: PoolName\n  metaSwapAddresses?: { [chainId in ChainId]: string }\n  underlyingPoolTokens?: Token[]\n  underlyingPool?: PoolName\n  isOutdated?: boolean // pool can be outdated but not have a migration target\n}\nexport type PoolsMap = {\n  [poolName: string]: Pool\n}\nexport const POOLS_MAP: PoolsMap = {\n  [STABLECOIN_POOL_V2_NAME]: {\n    name: STABLECOIN_POOL_V2_NAME,\n    addresses: STABLECOIN_SWAP_V2_ADDRESSES,\n    lpToken: STABLECOIN_SWAP_V2_TOKEN,\n    poolTokens: STABLECOIN_POOL_TOKENS,\n    isSynthetic: false,\n    type: PoolTypes.USD,\n    route: \"stables\",\n    farmName: STABLES_FARM_NAME,\n  },\n  [FRAX_STABLES_LP_POOL_NAME]: {\n    name: FRAX_STABLES_LP_POOL_NAME,\n    addresses: FRAX_STABLES_LP_ADDRESSES,\n    lpToken: FRAX_STABLES_LP_TOKEN,\n    poolTokens: FRAX_STABLES_LP_POOL_TOKENS,\n    // underlyingPoolTokens: [...STABLECOIN_POOL_TOKENS, FRAX],\n    isSynthetic: false,\n    type: PoolTypes.USD,\n    route: \"frax-stableslp\",\n    isOutdated: true,\n  },\n  [FRAX_METAPOOL_NAME]: {\n    name: FRAX_METAPOOL_NAME,\n    addresses: FRAX_METAPOOL_ADDRESSES,\n    lpToken: FRAX_METAPOOL_LP_TOKEN,\n    poolTokens: FRAX_METAPOOL_TOKENS,\n    underlyingPoolTokens: [FRAX, ...STABLECOIN_POOL_TOKENS], // frax first due to contract definition\n    underlyingPool: STABLECOIN_POOL_V2_NAME,\n    metaSwapAddresses: FRAX_METAPOOL_DEPOSIT_ADDRESSES,\n    isSynthetic: false,\n    type: PoolTypes.USD,\n    route: \"frax\",\n    farmName: FRAX_METAPOOL_FARM_NAME,\n  },\n  [UST_METAPOOL_NAME]: {\n    name: UST_METAPOOL_NAME,\n    addresses: UST_METAPOOL_ADDRESSES,\n    lpToken: UST_METAPOOL_LP_TOKEN,\n    poolTokens: UST_METAPOOL_TOKENS,\n    underlyingPoolTokens: [UST, ...STABLECOIN_POOL_TOKENS],\n    underlyingPool: STABLECOIN_POOL_V2_NAME,\n    metaSwapAddresses: UST_METAPOOL_DEPOSIT_ADDRESSES,\n    isSynthetic: false,\n    type: PoolTypes.USD,\n    route: \"ust\",\n    farmName: UST_METAPOOL_FARM_NAME,\n  },\n  [BUSD_METAPOOL_NAME]: {\n    name: BUSD_METAPOOL_NAME,\n    addresses: BUSD_METAPOOL_ADDRESSES,\n    lpToken: BUSD_METAPOOL_LP_TOKEN,\n    poolTokens: BUSD_METAPOOL_TOKENS,\n    underlyingPoolTokens: [BUSD, ...STABLECOIN_POOL_TOKENS],\n    underlyingPool: STABLECOIN_POOL_V2_NAME,\n    metaSwapAddresses: BUSD_METAPOOL_DEPOSIT_ADDRESSES,\n    isSynthetic: false,\n    type: PoolTypes.USD,\n    route: \"busd\",\n    farmName: BUSD_METAPOOL_FARM_NAME,\n  },\n  [MAI_METAPOOL_NAME]: {\n    name: MAI_METAPOOL_NAME,\n    addresses: MAI_METAPOOL_ADDRESSES,\n    lpToken: MAI_METAPOOL_LP_TOKEN,\n    poolTokens: MAI_METAPOOL_TOKENS,\n    underlyingPoolTokens: [MAI, ...STABLECOIN_POOL_TOKENS],\n    underlyingPool: STABLECOIN_POOL_V2_NAME,\n    metaSwapAddresses: BUSD_METAPOOL_DEPOSIT_ADDRESSES,\n    isSynthetic: false,\n    type: PoolTypes.USD,\n    route: \"mai\",\n    farmName: MAI_METAPOOL_FARM_NAME,\n  },\n  // [RUSD_METAPOOL_NAME]: {\n  //   name: RUSD_METAPOOL_NAME,\n  //   addresses: RUSD_METAPOOL_ADDRESSES,\n  //   lpToken: RUSD_LP_TOKEN,\n  //   poolTokens: RUSD_METAPOOL_TOKENS,\n  //   underlyingPoolTokens: [RUSD, ...STABLECOIN_POOL_TOKENS],\n  //   underlyingPool: STABLECOIN_POOL_V2_NAME,\n  //   metaSwapAddresses: RUSD_METAPOOL_DEPOSIT_ADDRESSES,\n  //   isSynthetic: false,\n  //   type: PoolTypes.USD,\n  //   route: \"rusd\",\n  //   farmName: RUSD_METAPOOL_FARM_NAME,\n  // },\n}\n\nexport type Farm = {\n  name: FarmName\n  lpToken: Token\n  addresses: { [chainId in ChainId]: string }\n  route: string\n  isRose: boolean\n  poolName: string\n  poolUrl?: string\n}\nexport type FarmsMap = {\n  [farmName in FarmName]: Farm\n}\nexport const FARMS_MAP: FarmsMap = {\n  [STABLES_FARM_NAME]: {\n    name: STABLES_FARM_NAME,\n    lpToken: STABLECOIN_SWAP_V2_TOKEN,\n    addresses: ROSE_FARM_STABLES_ADDRESSES,\n    poolUrl: \"../#/pools/stables\",\n    route: \"stables\",\n    isRose: true,\n    poolName: STABLECOIN_POOL_V2_NAME,\n  },\n  [FRAX_METAPOOL_FARM_NAME]: {\n    name: FRAX_METAPOOL_FARM_NAME,\n    lpToken: FRAX_METAPOOL_LP_TOKEN,\n    addresses: FRAX_METAPOOL_FARM_ADDRESSES,\n    poolUrl: \"../#/pools/frax\",\n    route: \"frax\",\n    isRose: true,\n    poolName: FRAX_METAPOOL_NAME,\n  },\n  [UST_METAPOOL_FARM_NAME]: {\n    name: UST_METAPOOL_FARM_NAME,\n    lpToken: UST_METAPOOL_LP_TOKEN,\n    addresses: UST_METAPOOL_FARM_ADDRESSES,\n    poolUrl: \"../#/pools/ust\",\n    route: \"ust\",\n    isRose: true,\n    poolName: UST_METAPOOL_NAME,\n  },\n  [ROSE_PAD_NLP_FARM_NAME]: {\n    name: ROSE_PAD_NLP_FARM_NAME,\n    lpToken: ROSE_PAD_NLP_TOKEN,\n    addresses: ROSE_PAD_NLP_FARM_ADDRESSES,\n    poolUrl:\n      \"https://dex.nearpad.io/add/0xdcD6D4e2B3e1D1E1E6Fa8C21C8A323DcbecfF970/0x885f8CF6E45bdd3fdcDc644efdcd0AC93880c781\",\n    route: \"rose-padnlp\",\n    isRose: false,\n    poolName: \"ROSE/PAD PLP Pool\",\n  },\n  [ROSE_FRAX_NLP_FARM_NAME]: {\n    name: ROSE_FRAX_NLP_FARM_NAME,\n    lpToken: ROSE_FRAX_NLP_TOKEN,\n    addresses: ROSE_FRAX_NLP_FARM_ADDRESSES,\n    poolUrl:\n      \"https://dex.nearpad.io/add/0xdcD6D4e2B3e1D1E1E6Fa8C21C8A323DcbecfF970/0xDA2585430fEf327aD8ee44Af8F1f989a2A91A3d2\",\n    route: \"rose-fraxnlp\",\n    isRose: false,\n    poolName: \"ROSE/FRAX PLP Pool\",\n  },\n  [BUSD_METAPOOL_FARM_NAME]: {\n    name: BUSD_METAPOOL_FARM_NAME,\n    lpToken: BUSD_METAPOOL_LP_TOKEN,\n    addresses: BUSD_FARM_ADDRESSES,\n    poolUrl: \"../#/pools/busd\",\n    route: \"busd\",\n    isRose: true,\n    poolName: BUSD_METAPOOL_NAME,\n  },\n  [MAI_METAPOOL_FARM_NAME]: {\n    name: MAI_METAPOOL_FARM_NAME,\n    lpToken: MAI_METAPOOL_LP_TOKEN,\n    addresses: MAI_FARM_ADDRESSES,\n    poolUrl: \"../#/pools/mai\",\n    route: \"mai\",\n    isRose: true,\n    poolName: MAI_METAPOOL_FARM_NAME,\n  },\n  // [RUSD_METAPOOL_FARM_NAME]: {\n  //   name: RUSD_METAPOOL_FARM_NAME,\n  //   lpToken: RUSD_LP_TOKEN,\n  //   addresses: RUSD_FARM_ADDRESSES,\n  //   poolUrl: \"../#/pools/rusd\",\n  //   route: \"rusd\",\n  //   isRose: true,\n  //   poolName: RUSD_METAPOOL_NAME,\n  // },\n}\n\nexport type BorrowMarket = {\n  name: BorrowMarketName\n  collateralToken: Token\n  borrowToken: Token\n  gardenAddresses: { [chainId in ChainId]: string }\n  vaseAddresses: { [chainId in ChainId]: string }\n  oracleAddresses: { [chainId in ChainId]: string }\n  route: string\n  isStable?: boolean\n}\n\nexport type BorrowMarketMap = {\n  [borrowMarketName in BorrowMarketName]: BorrowMarket\n}\n\nexport const BORROW_MARKET_MAP: BorrowMarketMap = {\n  [wNEAR_MARKET_NAME]: {\n    name: wNEAR_MARKET_NAME,\n    collateralToken: wNEAR,\n    borrowToken: RUSD,\n    gardenAddresses: wNEAR_GARDEN_ADDRESSES,\n    vaseAddresses: VASE_ADDRESSES,\n    oracleAddresses: NEAR_ORACLE_ADDRESSES,\n    route: \"wnear\",\n  },\n  [UST_MARKET_NAME]: {\n    name: UST_MARKET_NAME,\n    collateralToken: UST,\n    borrowToken: RUSD,\n    gardenAddresses: UST_GARDEN_ADDRESSES,\n    vaseAddresses: VASE_ADDRESSES,\n    oracleAddresses: USDC_ORACLE_ADDRESSES,\n    route: \"ust\",\n    isStable: true,\n  },\n  [USDC_MARKET_NAME]: {\n    name: USDC_MARKET_NAME,\n    collateralToken: USDC,\n    borrowToken: RUSD,\n    gardenAddresses: USDC_GARDEN_ADDRESSES,\n    vaseAddresses: VASE_ADDRESSES,\n    oracleAddresses: USDC_ORACLE_ADDRESSES,\n    route: \"usdc\",\n    isStable: true,\n  },\n  [USDT_MARKET_NAME]: {\n    name: USDT_MARKET_NAME,\n    collateralToken: USDT,\n    borrowToken: RUSD,\n    gardenAddresses: USDT_GARDEN_ADDRESSES,\n    vaseAddresses: VASE_ADDRESSES,\n    oracleAddresses: USDT_ORACLE_ADDRESSES,\n    route: \"usdt\",\n    isStable: true,\n  },\n  [wETH_MARKET_NAME]: {\n    name: wETH_MARKET_NAME,\n    collateralToken: WETH,\n    borrowToken: RUSD,\n    gardenAddresses: wETH_GARDEN_ADDRESSES,\n    vaseAddresses: VASE_ADDRESSES,\n    oracleAddresses: wETH_ORACLE_ADDRESSES,\n    route: \"weth\",\n  },\n  [wBTC_MARKET_NAME]: {\n    name: wBTC_MARKET_NAME,\n    collateralToken: WBTC,\n    borrowToken: RUSD,\n    gardenAddresses: wBTC_GARDEN_ADDRESSES,\n    vaseAddresses: VASE_ADDRESSES,\n    oracleAddresses: wBTC_ORACLE_ADDRESSES,\n    route: \"wbtc\",\n  },\n}\n\nexport function isLegacySwapABIPool(poolName: string): boolean {\n  return new Set([BTC_POOL_NAME, STABLECOIN_POOL_NAME, VETH2_POOL_NAME]).has(\n    poolName,\n  )\n}\nexport function isMetaPool(poolName = \"\"): boolean {\n  return new Set([\n    SUSD_METAPOOL_NAME,\n    TBTC_METAPOOL_NAME,\n    WCUSD_METAPOOL_NAME,\n    FRAX_METAPOOL_NAME,\n    UST_METAPOOL_NAME,\n    BUSD_METAPOOL_NAME,\n    MAI_METAPOOL_NAME,\n    // RUSD_METAPOOL_NAME,\n  ]).has(poolName)\n}\n\n// maps a symbol string to a token object\nexport type TokensMap = {\n  [symbol: string]: Token\n}\n\nexport const ROSE_TOKENS_MAP: TokensMap = {\n  rose: ROSE,\n  stRose: SROSE,\n}\n\nexport const LP_TOKEN_MAP: TokensMap = Object.values(FARMS_MAP).reduce(\n  (acc, farm) => ({\n    ...acc,\n    [farm.lpToken.symbol]: farm.lpToken,\n  }),\n  {} as TokensMap,\n)\n\nexport const TOKENS_MAP = Object.keys(POOLS_MAP).reduce((acc, poolName) => {\n  const pool = POOLS_MAP[poolName as PoolName]\n  const newAcc = { ...acc }\n  pool.poolTokens.forEach((token) => {\n    newAcc[token.symbol] = token\n  })\n  newAcc[pool.lpToken.symbol] = pool.lpToken\n  return newAcc\n}, {} as TokensMap)\n\nexport type TokenToPoolsMap = {\n  [tokenSymbol: string]: string[]\n}\nexport const TOKEN_TO_POOLS_MAP = Object.keys(POOLS_MAP).reduce(\n  (acc, poolName) => {\n    const pool = POOLS_MAP[poolName as PoolName]\n    const newAcc = { ...acc }\n    pool.poolTokens.forEach((token) => {\n      newAcc[token.symbol] = (newAcc[token.symbol] || []).concat(\n        poolName as PoolName,\n      )\n    })\n    return newAcc\n  },\n  {} as TokenToPoolsMap,\n)\n\nexport type LPTokenToPoolsMap = {\n  [tokenSymbol: string]: PoolName\n}\nexport const LPTOKEN_TO_POOL_MAP = Object.keys(POOLS_MAP).reduce(\n  (acc, poolName) => {\n    const pool = POOLS_MAP[poolName as PoolName]\n    const newAcc = { ...acc }\n    newAcc[pool.lpToken.symbol] = poolName as PoolName\n    return newAcc\n  },\n  {} as LPTokenToPoolsMap,\n)\n\nexport const TRANSACTION_TYPES = {\n  DEPOSIT: \"DEPOSIT\",\n  WITHDRAW: \"WITHDRAW\",\n  SWAP: \"SWAP\",\n  MIGRATE: \"MIGRATE\",\n  STAKE: \"STAKE\",\n  ROSE_PRICE: \"ROSE_PRICE\",\n  BORROW: \"BORROW\",\n}\n\nexport const POOL_FEE_PRECISION = 10\n\nexport enum SWAP_TYPES {\n  DIRECT = \"swapDirect\", // route length 2\n  SYNTH_TO_SYNTH = \"swapSynthToSynth\", // route length 2\n  SYNTH_TO_TOKEN = \"swapSynthToToken\", // route length 3\n  TOKEN_TO_SYNTH = \"swapTokenToSynth\", // route length 3\n  TOKEN_TO_TOKEN = \"swapTokenToToken\", // route length 4\n  INVALID = \"invalid\",\n}\n\nexport function getIsVirtualSwap(swapType: SWAP_TYPES): boolean {\n  return (\n    swapType === SWAP_TYPES.SYNTH_TO_SYNTH ||\n    swapType === SWAP_TYPES.SYNTH_TO_TOKEN ||\n    swapType === SWAP_TYPES.TOKEN_TO_SYNTH ||\n    swapType === SWAP_TYPES.TOKEN_TO_TOKEN\n  )\n}\n\nexport const SWAP_CONTRACT_GAS_ESTIMATES_MAP = {\n  [SWAP_TYPES.INVALID]: BigNumber.from(\"999999999\"), // 999,999,999\n  [SWAP_TYPES.DIRECT]: BigNumber.from(\"200000\"), // 157,807\n  [SWAP_TYPES.TOKEN_TO_TOKEN]: BigNumber.from(\"2000000\"), // 1,676,837\n  [SWAP_TYPES.TOKEN_TO_SYNTH]: BigNumber.from(\"2000000\"), // 1,655,502\n  [SWAP_TYPES.SYNTH_TO_TOKEN]: BigNumber.from(\"1500000\"), // 1,153,654\n  [SWAP_TYPES.SYNTH_TO_SYNTH]: BigNumber.from(\"700000\"), // 681,128 // TODO: https://github.com/saddle-finance/saddle-frontend/issues/471\n  addLiquidity: BigNumber.from(\"400000\"), // 386,555\n  removeLiquidityImbalance: BigNumber.from(\"350000\"), // 318,231\n  removeLiquidityOneToken: BigNumber.from(\"250000\"), // 232,947\n  migrate: BigNumber.from(\"650000\"), // 619,126\n  virtualSwapSettleOrWithdraw: BigNumber.from(\"400000\"),\n}\n\nexport interface WalletInfo {\n  name: string\n  icon: string\n  connector: AbstractConnector\n  isMobile?: boolean\n}\n\nexport const SUPPORTED_WALLETS: { [key: string]: WalletInfo } = {\n  METAMASK: {\n    name: \"MetaMask\",\n    icon: metamaskIcon,\n    connector: injected,\n  },\n  WALLET_CONNECT: {\n    name: \"WalletConnect\",\n    icon: walletconnectIcon,\n    connector: walletconnect,\n    isMobile: true,\n  },\n  // WALLET_LINK: {\n  //   name: \"Coinbase Wallet\",\n  //   icon: coinbasewalletIcon,\n  //   connector: walletlink,\n  // },\n}\n\nexport interface ChainInfo {\n  name: string\n  rpc: string\n}\n\nexport type SignedSignatureRes = {\n  r: string\n  s: string\n  v: number\n}\n\nexport interface DashboardItems {\n  tokenName: string\n  amount: string\n  icon: string\n}\n\nexport const FARM_SORT_FIELDS_TO_LABEL: {\n  [sortField in FarmSortFields]: string\n} = {\n  apr: \"APR\",\n  name: \"Name\",\n  tvl: \"TVL\",\n  rewards: \"Rewards\",\n  deposit: \"Deposited\",\n  balance: \"Balance\",\n}\n\nexport const FARM_FILTER_FIELDS_TO_LABEL: {\n  [filterField in FarmFilterFields]: string\n} = {\n  noFilter: \"No Filter\",\n  dual: \"Dual Rewards\",\n  deposit: \"Deposited\",\n  balance: \"Balance\",\n}\n\nexport const BORROW_SORT_FIELDS_TO_LABEL: {\n  [sortField in BorrowSortFields]: string\n} = {\n  name: \"Name\",\n  tvl: \"TVL\",\n  collateral: \"Collateral Deposited\",\n  borrow: \"Borrowed\",\n  supply: \"RUSD Left to Borrow\",\n  interest: \"Interest\",\n  liquidationFee: \"Liquidation Fee\",\n}\n\nexport const BORROW_FILTER_FIELDS_TO_LABEL: {\n  [filterField in BorrowFilterFields]: string\n} = {\n  noFilter: \"No Filter\",\n  supply: \"RUSD Left to Borrow\",\n  collateral: \"Collateral Deposited\",\n  borrow: \"Borrowed\",\n}\n\nexport const POOL_SORT_FIELDS_TO_LABEL: {\n  [sortField in PoolSortFields]: string\n} = {\n  name: \"Name\",\n  tvl: \"TVL\",\n  farmDeposit: \"Farm Deposit\",\n  balance: \"Balance\",\n  volume: \"24h Volume\",\n}\n\nexport const POOL_FILTER_FIELDS_TO_LABEL: {\n  [filterField in PoolFilterFields]: string\n} = {\n  noFilter: \"No Filter\",\n  farmDeposit: \"Farm Deposit\",\n  balance: \"Balance\",\n}\n\n// kinda hacky, but will change once we update our chain IDs\nexport type SupportedChains = ChainId.AURORA_MAINNET\nexport const SUPPORTED_CHAINS: {\n  [chainId in SupportedChains]: ChainInfo\n} = {\n  [ChainId.AURORA_MAINNET]: {\n    name: \"Aurora Mainnet\",\n    rpc: \"https://mainnet.aurora.dev\",\n  },\n}\n\n// Rose Pool Type\nexport type RosePool = RoseStablesPool | RoseMetaPool\n\n// \"SADDLE\" in bytes32 form\nexport const SYNTH_TRACKING_ID =\n  \"0x534144444c450000000000000000000000000000000000000000000000000000\"\n\n// FLAGS\nexport const IS_VIRTUAL_SWAP_ACTIVE = true\n// FLAGS END\n","export default __webpack_public_path__ + \"static/media/aleth.3dd80ea7.svg\";","export default __webpack_public_path__ + \"static/media/alusd.d6b57a25.svg\";","export default __webpack_public_path__ + \"static/media/atust.27619054.svg\";","export default __webpack_public_path__ + \"static/media/busd.744adbcf.svg\";","export default __webpack_public_path__ + \"static/media/dai.664df0db.svg\";","export default __webpack_public_path__ + \"static/media/fei.056d822f.svg\";","export default __webpack_public_path__ + \"static/media/frax.bbaec159.svg\";","export default __webpack_public_path__ + \"static/media/lusd.41ed2289.svg\";","export default __webpack_public_path__ + \"static/media/mai.5cdd165e.svg\";","export default __webpack_public_path__ + \"static/media/metamask.45038d58.svg\";","export default __webpack_public_path__ + \"static/media/near_icon.0ff22a8d.svg\";","export default __webpack_public_path__ + \"static/media/renbtc.1e207adc.svg\";","export default __webpack_public_path__ + \"static/media/rose-atust.a480f729.svg\";","export default __webpack_public_path__ + \"static/media/rose-busd.07b2b924.svg\";","export default __webpack_public_path__ + \"static/media/rose-frax.2cb7a06f.svg\";","export default __webpack_public_path__ + \"static/media/rose.54bf1c83.svg\";","export default __webpack_public_path__ + \"static/media/rose-mai.dcd82123.svg\";","export default __webpack_public_path__ + \"static/media/srose.64d5cba0.svg\";","export default __webpack_public_path__ + \"static/media/logo_24.9ac0ef9c.svg\";","export default __webpack_public_path__ + \"static/media/sbtc.0b499bd2.svg\";","export default __webpack_public_path__ + \"static/media/seth.63f5d603.svg\";","export default __webpack_public_path__ + \"static/media/susd.b4cf9ad2.svg\";","export default __webpack_public_path__ + \"static/media/tbtc.73bdb39f.svg\";","export default __webpack_public_path__ + \"static/media/usdc.1fa5e7f4.svg\";","export default __webpack_public_path__ + \"static/media/usdt.2499bf87.svg\";","export default __webpack_public_path__ + \"static/media/veth2.4d368f5e.svg\";","export default __webpack_public_path__ + \"static/media/walletconnect.dfa25e47.svg\";","export default __webpack_public_path__ + \"static/media/wbtc.7b094635.svg\";","export default __webpack_public_path__ + \"static/media/weth.32818c6c.svg\";","export default \"data:image/png;base64,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\"","export function getEtherscanLink(\n  data: string,\n  type: \"tx\" | \"token\" | \"address\" | \"block\",\n  network = \"mainnet\",\n): string {\n  return network === \"testnet\"\n    ? `https://${network}.aurorascan.dev/${type}/${data}`\n    : `https://aurorascan.dev/${type}/${data}`\n}\n","import Notify from \"bnc-notify\"\nimport { getEtherscanLink } from \"../utils/getEtherscanLink\"\nimport i18next from \"i18next\"\n\nconst notifyNetworks = new Set([1, 3, 4, 5, 42, 56, 100])\nconst chainId = parseInt(process.env.REACT_APP_CHAIN_ID ?? \"1\")\n\nexport const notify = Notify({\n  ...(isChainSupportedByNotify(chainId)\n    ? {\n        dappId: process.env.REACT_APP_NOTIFY_DAPP_ID,\n        networkId: chainId,\n      }\n    : {}),\n  desktopPosition: \"topRight\" as const,\n  darkMode: false,\n})\n\nexport function isChainSupportedByNotify(chainId: number | undefined): boolean {\n  if (!chainId) return false\n  return notifyNetworks.has(chainId)\n}\n\nexport function notifyHandler(\n  hash: string,\n  type: \"deposit\" | \"withdraw\" | \"swap\" | \"tokenApproval\" | \"migrate\",\n): void {\n  const { emitter } = notify.hash(hash)\n\n  emitter.on(\"txPool\", (transaction) => {\n    if (transaction.hash) {\n      return {\n        message: i18next.t(\"txPool\", { context: type }),\n        link: getEtherscanLink(transaction.hash, \"tx\"),\n      }\n    }\n  })\n  emitter.on(\"txSent\", () => {\n    return {\n      message: i18next.t(\"txSent\", { context: type }),\n    }\n  })\n  emitter.on(\"txConfirmed\", () => {\n    return {\n      message: i18next.t(\"txConfirmed\", { context: type }),\n    }\n  })\n  emitter.on(\"txSpeedUp\", (transaction) => {\n    if (transaction.hash) {\n      return {\n        message: i18next.t(\"txSpeedUp\", { context: type }),\n        link: getEtherscanLink(transaction.hash, \"tx\"),\n      }\n    }\n  })\n  emitter.on(\"txCancel\", () => {\n    return {\n      message: i18next.t(\"txCancel\", { context: type }),\n    }\n  })\n  emitter.on(\"txFailed\", (transaction) => {\n    if (transaction.hash) {\n      return {\n        message: i18next.t(\"txFailed\", { context: type }),\n        link: getEtherscanLink(transaction.hash, \"tx\"),\n      }\n    }\n  })\n}\n\nexport function notifyCustomError(e: Error): void {\n  notify.notification({\n    eventCode: \"txFailed\",\n    type: \"error\",\n    message: `Your transaction failed. ${e.message}`,\n  })\n}\n","import { BigNumber } from \"@ethersproject/bignumber\"\nimport { TOKENS_MAP } from \"../constants\"\nimport { parseUnits } from \"@ethersproject/units\"\n\n/**\n * Parses a user input string into a BigNumber.\n * Uses the native precision of the token if a tokenSymbol is provided\n * Defaults to a value of 0 if string cannot be parsed\n *\n * @param {string} valueRaw\n * @param {number} precision\n * @param {BigNumber} fallback\n * @return {Object} result\n * @return {BigNumber} result.value\n * @return {boolean} result.isFallback\n * }\n */\nexport default function parseStringToBigNumber(\n  valueRaw: string,\n  precision: number,\n  fallback?: BigNumber,\n): { value: BigNumber; isFallback: boolean } {\n  let valueSafe: BigNumber\n  let isFallback: boolean\n  try {\n    // attempt to parse string. Use fallback value if library error is thrown\n    valueSafe = parseUnits(valueRaw, precision)\n    isFallback = false\n  } catch {\n    valueSafe = fallback ?? BigNumber.from(\"0\")\n    isFallback = true\n  }\n  return { value: valueSafe, isFallback }\n}\n\n/**\n * Parses a user input string into a BigNumber.\n * Uses the native precision of the token if a tokenSymbol is provided\n * Defaults to a value of 0 if string cannot be parsed\n * @param {string} value\n * @param {string} tokenSymbol\n * @return {Object} result\n * @return {BigNumber} result.value\n * @return {boolean} result.isFallback */\nexport function parseStringAndTokenToBigNumber(\n  value: string,\n  tokenSymbol?: string,\n): { value: BigNumber; isFallback: boolean } {\n  return parseStringToBigNumber(\n    value,\n    tokenSymbol ? TOKENS_MAP[tokenSymbol]?.decimals : 18,\n    BigNumber.from(\"0\"),\n  )\n}\n","import { BigNumber } from \"@ethersproject/bignumber\"\nimport { formatUnits } from \"@ethersproject/units\"\nimport parseStringToBigNumber from \"../utils/parseStringToBigNumber\"\n\nexport interface NumberInputState {\n  isEmpty: boolean\n  isValid: boolean\n  precision: number\n  valueRaw: string\n  valueSafe: string // represents a BigNumber\n}\n\n/**\n * A curried function for representing user inputted number values.\n * Can be used to show errors in the UI, as well as safely interacting with the blockchain\n * @param {number} precision\n * @param {BigNumber} fallback\n * @return {function}\n */\nexport function numberInputStateCreator(\n  precision: number,\n  fallback: BigNumber,\n) {\n  /**\n   * Transforms a user inputted string into a more verbose format including BigNumber representation\n   * @param {string} inputValue\n   * @return {NumberInputState}\n   */\n  return function createNumberInputState(\n    inputValue: string | BigNumber,\n  ): NumberInputState {\n    if (BigNumber.isBigNumber(inputValue)) {\n      return {\n        isEmpty: false,\n        isValid: true,\n        precision,\n        valueRaw: formatUnits(inputValue, precision),\n        valueSafe: inputValue.toString(),\n      }\n    } else {\n      const { value: valueSafe, isFallback } = parseStringToBigNumber(\n        inputValue,\n        precision,\n        fallback,\n      )\n      return {\n        isEmpty: inputValue === \"\",\n        isValid: !isFallback,\n        precision,\n        valueRaw: inputValue,\n        valueSafe: valueSafe.toString(),\n      }\n    }\n  }\n}\n","import {\n  NumberInputState,\n  numberInputStateCreator,\n} from \"../utils/numberInputState\"\nimport { PayloadAction, createSlice } from \"@reduxjs/toolkit\"\n\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { Zero } from \"@ethersproject/constants\"\n\nexport enum GasPrices {\n  Standard = \"STANDARD\",\n  Fast = \"FAST\",\n  Instant = \"INSTANT\",\n  Custom = \"CUSTOM\",\n}\n\nexport enum Slippages {\n  One = \"ONE\",\n  OneTenth = \"ONE_TENTH\",\n  Custom = \"CUSTOM\",\n}\n\nexport enum Deadlines {\n  Ten = \"TEN\",\n  Twenty = \"TWENTY\",\n  Thirty = \"THIRTY\",\n  Forty = \"FORTY\",\n  Custom = \"CUSTOM\",\n}\n\nexport enum PoolSortFields {\n  NAME = \"name\",\n  BALANCE = \"balance\",\n  FARM_DEPOSIT = \"farmDeposit\",\n  TVL = \"tvl\",\n  VOLUME = \"volume\",\n}\n\nexport enum PoolFilterFields {\n  NO_FILTER = \"noFilter\",\n  FARM_DEPOSIT = \"farmDeposit\",\n  BALANCE = \"balance\",\n}\n\ninterface PoolPreferences {\n  visibleFields: {\n    [field in PoolSortFields]: number\n  }\n  filterField: PoolFilterFields\n  sortField: PoolSortFields\n}\n\nexport enum FarmSortFields {\n  NAME = \"name\",\n  BALANCE = \"balance\",\n  DEPOSIT = \"deposit\",\n  TVL = \"tvl\",\n  APR = \"apr\",\n  REWARD = \"rewards\",\n}\n\nexport enum FarmFilterFields {\n  DEPOSIT = \"deposit\",\n  BALANCE = \"balance\",\n  DUAL = \"dual\",\n  NO_FILTER = \"noFilter\",\n}\n\ninterface FarmPreferences {\n  visibleFields: {\n    [field in FarmSortFields]: number\n  }\n  filterField: FarmFilterFields\n  sortField: FarmSortFields\n}\n\nexport enum BorrowSortFields {\n  NAME = \"name\",\n  BORROW = \"borrow\",\n  COLLATERAL = \"collateral\",\n  TVL = \"tvl\",\n  SUPPLY = \"supply\",\n  INTEREST = \"interest\",\n  LIQUIDATION_FEE = \"liquidationFee\",\n}\n\nexport enum BorrowFilterFields {\n  BORROW = \"borrow\",\n  SUPPLY = \"supply\",\n  COLLATERAL = \"collateral\",\n  NO_FILTER = \"noFilter\",\n}\n\ninterface BorrowPreferences {\n  visibleFields: {\n    [field in BorrowSortFields]: number\n  }\n  filterField: BorrowFilterFields\n  sortField: BorrowSortFields\n}\n\ninterface UserState {\n  userSwapAdvancedMode: boolean\n  userPoolAdvancedMode: boolean\n  userDarkMode: boolean\n  gasCustom?: NumberInputState\n  gasPriceSelected: GasPrices\n  slippageCustom?: NumberInputState\n  slippageSelected: Slippages\n  infiniteApproval: boolean\n  priceFromOracle: boolean\n  transactionDeadlineSelected: Deadlines\n  transactionDeadlineCustom?: string\n  farmPreferences: FarmPreferences\n  borrowPreferences: BorrowPreferences\n  poolPreferences: PoolPreferences\n}\n\nexport const initialState: UserState = {\n  userSwapAdvancedMode: false,\n  userPoolAdvancedMode: false,\n  userDarkMode: true,\n  gasPriceSelected: GasPrices.Standard,\n  slippageSelected: Slippages.OneTenth,\n  infiniteApproval: false,\n  priceFromOracle: false,\n  transactionDeadlineSelected: Deadlines.Twenty,\n  farmPreferences: {\n    visibleFields: {\n      name: 1,\n      balance: 1,\n      deposit: 1,\n      tvl: 1,\n      apr: 1,\n      rewards: 1,\n    },\n    filterField: FarmFilterFields.NO_FILTER,\n    sortField: FarmSortFields.APR,\n  },\n  borrowPreferences: {\n    visibleFields: {\n      name: 1,\n      borrow: 1,\n      collateral: -1,\n      tvl: 1,\n      supply: 1,\n      interest: 1,\n      liquidationFee: 1,\n    },\n    filterField: BorrowFilterFields.NO_FILTER,\n    sortField: BorrowSortFields.TVL,\n  },\n  poolPreferences: {\n    visibleFields: {\n      name: 1,\n      balance: 1,\n      volume: 1,\n      tvl: 1,\n      farmDeposit: 1,\n    },\n    filterField: PoolFilterFields.NO_FILTER,\n    sortField: PoolSortFields.TVL,\n  },\n}\n\nconst gasCustomStateCreator = numberInputStateCreator(\n  0, // gas is in wei\n  Zero,\n)\nconst slippageCustomStateCreator = numberInputStateCreator(\n  4,\n  BigNumber.from(10).pow(4).mul(1),\n)\n\nconst userSlice = createSlice({\n  name: \"user\",\n  initialState,\n  reducers: {\n    updateSwapAdvancedMode(\n      state: UserState,\n      action: PayloadAction<boolean>,\n    ): void {\n      state.userSwapAdvancedMode = action.payload\n    },\n    updatePoolAdvancedMode(\n      state: UserState,\n      action: PayloadAction<boolean>,\n    ): void {\n      state.userPoolAdvancedMode = action.payload\n    },\n    updateDarkMode(state: UserState, action: PayloadAction<boolean>): void {\n      // this will be phased out in favor of chakra's colorMode\n      state.userDarkMode = action.payload\n    },\n    updateGasPriceCustom(\n      state: UserState,\n      action: PayloadAction<string>,\n    ): void {\n      state.gasCustom = gasCustomStateCreator(action.payload)\n    },\n    updateGasPriceSelected(\n      state: UserState,\n      action: PayloadAction<GasPrices>,\n    ): void {\n      state.gasPriceSelected = action.payload\n      if (action.payload !== GasPrices.Custom) {\n        // clear custom value when standard option selected\n        state.gasCustom = gasCustomStateCreator(\"\")\n      }\n    },\n    updateSlippageSelected(\n      state: UserState,\n      action: PayloadAction<Slippages>,\n    ): void {\n      state.slippageSelected = action.payload\n      if (action.payload !== Slippages.Custom) {\n        // clear custom value when standard option selected\n        state.slippageCustom = slippageCustomStateCreator(\"\")\n      }\n    },\n    updateSlippageCustom(\n      state: UserState,\n      action: PayloadAction<string>,\n    ): void {\n      state.slippageCustom = slippageCustomStateCreator(action.payload)\n    },\n    updateInfiniteApproval(\n      state: UserState,\n      action: PayloadAction<boolean>,\n    ): void {\n      state.infiniteApproval = action.payload\n    },\n    updateTransactionDeadlineSelected(\n      state: UserState,\n      action: PayloadAction<Deadlines>,\n    ): void {\n      state.transactionDeadlineSelected = action.payload\n      // clear custom value when standard option selected\n      if (action.payload !== Deadlines.Custom) {\n        state.transactionDeadlineCustom = \"\"\n      }\n    },\n    updateTransactionDeadlineCustom(\n      state: UserState,\n      action: PayloadAction<string>,\n    ): void {\n      state.transactionDeadlineCustom = action.payload\n    },\n    updateFarmFilterPreferences(\n      state: UserState,\n      action: PayloadAction<FarmFilterFields>,\n    ): void {\n      state.farmPreferences = {\n        ...state.farmPreferences,\n        filterField: action.payload,\n      }\n    },\n    updateFarmSortPreferences(\n      state: UserState,\n      action: PayloadAction<FarmSortFields>,\n    ): void {\n      state.farmPreferences = {\n        ...state.farmPreferences,\n        sortField: action.payload,\n      }\n    },\n    updateFarmVisibleFieldPreferences(\n      state: UserState,\n      action: PayloadAction<{ field: FarmSortFields; value: number }>,\n    ): void {\n      state.farmPreferences = {\n        ...state.farmPreferences,\n        visibleFields: {\n          ...state.farmPreferences.visibleFields,\n          [action.payload.field]: action.payload.value,\n        },\n      }\n    },\n    updateBorrowFilterPreferences(\n      state: UserState,\n      action: PayloadAction<BorrowFilterFields>,\n    ): void {\n      state.borrowPreferences = {\n        ...state.borrowPreferences,\n        filterField: action.payload,\n      }\n    },\n    updateBorrowSortPreferences(\n      state: UserState,\n      action: PayloadAction<BorrowSortFields>,\n    ): void {\n      state.borrowPreferences = {\n        ...state.borrowPreferences,\n        sortField: action.payload,\n      }\n    },\n    updateBorrowVisibleFieldPreferences(\n      state: UserState,\n      action: PayloadAction<{ field: BorrowSortFields; value: number }>,\n    ): void {\n      state.borrowPreferences = {\n        ...state.borrowPreferences,\n        visibleFields: {\n          ...state.borrowPreferences.visibleFields,\n          [action.payload.field]: action.payload.value,\n        },\n      }\n    },\n    updatePoolFilterPreferences(\n      state: UserState,\n      action: PayloadAction<PoolFilterFields>,\n    ): void {\n      state.poolPreferences = {\n        ...state.poolPreferences,\n        filterField: action.payload,\n      }\n    },\n    updatePoolSortPreferences(\n      state: UserState,\n      action: PayloadAction<PoolSortFields>,\n    ): void {\n      state.poolPreferences = {\n        ...state.poolPreferences,\n        sortField: action.payload,\n      }\n    },\n    updatePoolVisibleFieldPreferences(\n      state: UserState,\n      action: PayloadAction<{ field: PoolSortFields; value: number }>,\n    ): void {\n      state.poolPreferences = {\n        ...state.poolPreferences,\n        visibleFields: {\n          ...state.poolPreferences.visibleFields,\n          [action.payload.field]: action.payload.value,\n        },\n      }\n    },\n    updatePriceFromOracle(\n      state: UserState,\n      action: PayloadAction<boolean>,\n    ): void {\n      state.priceFromOracle = action.payload\n    },\n  },\n})\n\nexport const {\n  updateSwapAdvancedMode,\n  updatePoolAdvancedMode,\n  updateDarkMode,\n  updateGasPriceCustom,\n  updateGasPriceSelected,\n  updateSlippageCustom,\n  updateSlippageSelected,\n  updateInfiniteApproval,\n  updateTransactionDeadlineSelected,\n  updateTransactionDeadlineCustom,\n  updateFarmFilterPreferences,\n  updateFarmSortPreferences,\n  updateFarmVisibleFieldPreferences,\n  updateBorrowFilterPreferences,\n  updateBorrowSortPreferences,\n  updateBorrowVisibleFieldPreferences,\n  updatePriceFromOracle,\n  updatePoolSortPreferences,\n  updatePoolFilterPreferences,\n  updatePoolVisibleFieldPreferences,\n} = userSlice.actions\n\nexport default userSlice.reducer\n","import { AddressZero, Zero } from \"@ethersproject/constants\"\nimport {\n  ChainId,\n  PoolTypes,\n  SignedSignatureRes,\n  TOKENS_MAP,\n  Token,\n} from \"../constants\"\nimport { JsonRpcSigner, Web3Provider } from \"@ethersproject/providers\"\nimport { formatUnits, parseUnits } from \"@ethersproject/units\"\n\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { Contract } from \"@ethersproject/contracts\"\nimport { ContractInterface } from \"ethers\"\nimport { Deadlines } from \"../state/user\"\nimport { getAddress } from \"@ethersproject/address\"\n\n// returns the checksummed address if the address is valid, otherwise returns false\nexport function isAddress(value: string): string | false {\n  try {\n    return getAddress(value)\n  } catch {\n    return false\n  }\n}\n\n// account is not optional\nexport function getSigner(\n  library: Web3Provider,\n  account: string,\n): JsonRpcSigner {\n  return library.getSigner(account).connectUnchecked()\n}\n\n// account is optional\nexport function getProviderOrSigner(\n  library: Web3Provider,\n  account?: string,\n): Web3Provider | JsonRpcSigner {\n  return account ? getSigner(library, account) : library\n}\n\n// account is optional\nexport function getContract(\n  address: string,\n  ABI: ContractInterface,\n  library: Web3Provider,\n  account?: string,\n): Contract {\n  if (!isAddress(address) || address === AddressZero) {\n    throw Error(`Invalid 'address' parameter '${address}'.`)\n  }\n\n  return new Contract(address, ABI, getProviderOrSigner(library, account))\n}\n\nexport function formatBNToShortString(\n  bn: BigNumber,\n  nativePrecision: number,\n): string {\n  const bnStr = bn.toString()\n  const numLen = bnStr.length - nativePrecision\n  if (numLen <= 0) return \"0.0\"\n  const div = Math.floor((numLen - 1) / 3)\n  const mod = numLen % 3\n  const suffixes = [\"\", \"k\", \"m\", \"b\", \"t\"]\n  return `${bnStr.substr(0, mod || 3)}.${bnStr[mod || 3]}${suffixes[div]}`\n}\n\nexport function formatBNToString(\n  bn: BigNumber,\n  nativePrecison: number,\n  decimalPlaces?: number,\n): string {\n  const fullPrecision = formatUnits(bn, nativePrecison)\n  const decimalIdx = fullPrecision.indexOf(\".\")\n  return decimalPlaces === undefined || decimalIdx === -1\n    ? fullPrecision\n    : fullPrecision.slice(\n        0,\n        decimalIdx + (decimalPlaces > 0 ? decimalPlaces + 1 : 0), // don't include decimal point if places = 0\n      )\n}\n\nexport function formatBNToPercentString(\n  bn: BigNumber,\n  nativePrecison: number,\n  decimalPlaces = 2,\n): string {\n  return `${formatBNToString(bn, nativePrecison - 2, decimalPlaces)}%`\n}\n\nexport function shiftBNDecimals(bn: BigNumber, shiftAmount: number): BigNumber {\n  if (shiftAmount < 0) throw new Error(\"shiftAmount must be positive\")\n  return bn.mul(BigNumber.from(10).pow(shiftAmount))\n}\n\nexport function calculateExchangeRate(\n  amountFrom: BigNumber,\n  tokenPrecisionFrom: number,\n  amountTo: BigNumber,\n  tokenPrecisionTo: number,\n): BigNumber {\n  return amountFrom.gt(\"0\")\n    ? amountTo\n        .mul(BigNumber.from(10).pow(36 - tokenPrecisionTo)) // convert to standard 1e18 precision\n        .div(amountFrom.mul(BigNumber.from(10).pow(18 - tokenPrecisionFrom)))\n    : BigNumber.from(\"0\")\n}\n\nexport function formatDeadlineToNumber(\n  deadlineSelected: Deadlines,\n  deadlineCustom?: string,\n): number {\n  let deadline = 20\n  switch (deadlineSelected) {\n    case Deadlines.Ten:\n      deadline = 10\n      break\n    case Deadlines.Twenty:\n      deadline = 20\n      break\n    case Deadlines.Thirty:\n      deadline = 30\n      break\n    case Deadlines.Forty:\n      deadline = 40\n      break\n    case Deadlines.Custom:\n      deadline = +(deadlineCustom || formatDeadlineToNumber(Deadlines.Twenty))\n      break\n  }\n  return deadline\n}\n\n// A better version of ether's commify util\nexport function commify(str: string): string {\n  const parts = str.split(\".\")\n  if (parts.length > 2) throw new Error(\"commify string cannot have > 1 period\")\n  const [partA, partB] = parts\n  if (partA.length === 0) return partB === undefined ? \"\" : `.${partB}`\n  const mod = partA.length % 3\n  const div = Math.floor(partA.length / 3)\n  // define a fixed length array given the expected # of commas added\n  const commaAArr = new Array(partA.length + (mod === 0 ? div - 1 : div))\n  // init pointers for original string and for commified array\n  let commaAIdx = commaAArr.length - 1\n  // iterate original string backwards from the decimals since that's how commas are added\n  for (let i = partA.length - 1; i >= 0; i--) {\n    // revIdx is the distance from the decimal place eg \"3210.\"\n    const revIdx = partA.length - 1 - i\n    // add the character to the array\n    commaAArr[commaAIdx--] = partA[i]\n    // add a comma if we are a multiple of 3 from the decimal\n    if ((revIdx + 1) % 3 === 0) {\n      commaAArr[commaAIdx--] = \",\"\n    }\n  }\n  const commifiedA = commaAArr.join(\"\")\n  return partB === undefined ? commifiedA : `${commifiedA}.${partB}`\n}\n\nexport function intersection<T>(set1: Set<T>, set2: Set<T>): Set<T> {\n  return new Set([...set1].filter((item) => set2.has(item)))\n}\n\nexport function getTokenByAddress(\n  address: string,\n  chainId: ChainId,\n): Token | null {\n  return (\n    Object.values(TOKENS_MAP).find(\n      ({ addresses }) =>\n        addresses[chainId] &&\n        address.toLowerCase() === addresses[chainId].toLowerCase(),\n    ) || null\n  )\n}\n\nexport function calculatePrice(\n  amount: BigNumber | string,\n  tokenPrice = 0,\n  decimals?: number,\n): BigNumber {\n  // returns amount * price as BN 18 precision\n  if (typeof amount === \"string\") {\n    if (isNaN(+amount)) return Zero\n    // kind of hacky, but need to prevent underflow error on large numbers\n    return parseUnits(\n      (+amount * tokenPrice).toLocaleString(\"en-US\", { useGrouping: false }),\n      18,\n    )\n  } else if (decimals != null) {\n    return amount\n      .mul(parseUnits(tokenPrice.toFixed(2), 18))\n      .div(BigNumber.from(10).pow(decimals))\n  }\n  return Zero\n}\n\nexport function getTokenSymbolForPoolType(poolType: PoolTypes): string {\n  if (poolType === PoolTypes.BTC) {\n    return \"WBTC\"\n  } else if (poolType === PoolTypes.ETH) {\n    return \"WETH\"\n  } else if (poolType === PoolTypes.USD) {\n    return \"USDC\"\n  } else {\n    return \"\"\n  }\n}\n\nexport const toHex = (num: number): string => {\n  return \"0x\" + num.toString(16)\n}\n\nexport const imageIconToUrl = (tokenIconPath: string): string => {\n  const host = window.location.origin\n  return `${host}/${tokenIconPath}`\n}\n\n/**\n * Parse a signature response from JsonRpcSigner\n * @param signature string\n * @returns SignedSignatureRes\n */\nexport const parseSignature = (signature: string): SignedSignatureRes => {\n  const parsedSignature = signature.substring(2)\n  const r = parsedSignature.substring(0, 64)\n  const s = parsedSignature.substring(64, 128)\n  const v = parsedSignature.substring(128, 130)\n  return {\n    r: \"0x\" + r,\n    s: \"0x\" + s,\n    v: parseInt(v, 16),\n  }\n}\n\nexport function calculatePctOfTotalShare(\n  tokenAmount: BigNumber,\n  totalTokenAmount: BigNumber,\n): BigNumber {\n  // returns the % of total tokens out of a whole\n  return tokenAmount\n    .mul(BigNumber.from(10).pow(18))\n    .div(totalTokenAmount.isZero() ? BigNumber.from(\"1\") : totalTokenAmount)\n}\n\nexport function calculatePositionHealthColor(\n  positionHealth: number,\n  isStable?: boolean,\n): \"red\" | \"green\" | \"orange\" {\n  const [lo, hi] = isStable ? [60, 85] : [40, 80]\n\n  return positionHealth >= hi\n    ? \"red\"\n    : positionHealth <= lo\n    ? \"green\"\n    : \"orange\"\n}\n","import { ReactNode } from \"react\"\nimport { useToast } from \"@chakra-ui/react\"\n\nexport enum TransactionType {\n  STAKE = \"Stake\",\n  UNSTAKE = \"Unstake\",\n  BORROW = \"Borrow\",\n  REPAY = \"Repay\",\n  DEPOSIT = \"Deposit\",\n  WITHDRAW = \"Withdraw\",\n  REWARDS = \"Claim Rewards\",\n  EXIT = \"Withdraw & Claim Rewards\",\n  SWAP = \"Swap\",\n}\n\nenum TransactionErrors {\n  UNDERFLOW = \"BoringMath: Underflow\",\n  LOCKED = \"Locked\",\n}\n\nconst ERROR_MAP: { [error in TransactionErrors]: string } = {\n  [TransactionErrors.UNDERFLOW]: \"Not enough RUSD left to borrow.\",\n  [TransactionErrors.LOCKED]: \"Your stROSE is LOCKED.\",\n}\n\ninterface ToastFunctionProps {\n  txnType: TransactionType\n}\n\ninterface ToastSuccessFunctionProps extends ToastFunctionProps {\n  description: ReactNode\n}\n\ninterface ToastFailedFunctionProps extends ToastFunctionProps {\n  error?: { code: number; message: string }\n  description?: ReactNode\n}\n\ninterface ToastFunctions {\n  transactionPending: (props: ToastFunctionProps) => void\n  approvalRequired: () => void\n  signatureRequired: () => void\n  transactionSuccess: (props: ToastSuccessFunctionProps) => void\n  transactionFailed: (props: ToastFailedFunctionProps) => void\n}\n\nexport default function useChakraToast(): ToastFunctions {\n  const toast = useToast({\n    position: \"top\",\n    isClosable: true,\n    variant: \"solid\",\n  })\n\n  const transactionPending = ({ txnType }: ToastFunctionProps): void => {\n    toast({\n      title: `${txnType} Transaction Pending`,\n      description: \"Confirm the transaction(s) in your wallet.\",\n      duration: null,\n    })\n  }\n\n  const approvalRequired = (): void => {\n    toast({\n      title: \"Approval Required\",\n      description: \"Approve the transaction(s) in your wallet.\",\n    })\n  }\n\n  const signatureRequired = (): void => {\n    toast({\n      title: \"Message Signature Required\",\n      description: \"Complete message signature in your wallet.\",\n    })\n  }\n\n  const transactionSuccess = ({\n    txnType,\n    description,\n  }: ToastSuccessFunctionProps): void => {\n    toast.closeAll()\n    toast({\n      title: `${txnType} Transaction Succeeded!`,\n      description: description,\n      status: \"success\",\n      duration: 8000,\n    })\n  }\n\n  const transactionFailed = ({\n    txnType,\n    error,\n    description,\n  }: ToastFailedFunctionProps): void => {\n    toast.closeAll()\n    const toastData: {\n      title: string\n      status: \"error\" | \"warning\"\n      description: ReactNode\n    } = {\n      title: `${txnType} Transaction Failed!`,\n      status: \"error\",\n      description: \"Unknown Error occurred. Please try again.\",\n    }\n\n    let message\n    try {\n      message =\n        error?.message?.split(\n          \"[ethjs-query] while formatting outputs from RPC \",\n        )?.[1] || \"\"\n      message = JSON.parse(message.substring(1, message.length - 1)) as {\n        value: { data: { message: string } }\n      }\n    } catch (e) {\n      message = { value: { data: { message: \"Internal JSON-RPC error.\" } } }\n    }\n\n    switch (error?.code) {\n      case 4001:\n        toastData.title = `${txnType} Transaction Aborted!`\n        toastData.description = `${error.code}: ${error.message}`\n        toastData.status = \"warning\"\n        break\n      case -32603:\n        toastData.description =\n          description ||\n          `${error.code}: ${\n            ERROR_MAP[message.value.data.message as TransactionErrors] ||\n            message.value.data.message\n          } `\n        break\n    }\n\n    toast({\n      title: toastData.title,\n      description: toastData.description,\n      status: toastData.status,\n      duration: 8000,\n    })\n  }\n\n  return {\n    transactionPending,\n    approvalRequired,\n    signatureRequired,\n    transactionSuccess,\n    transactionFailed,\n  }\n}\n","import React, { ReactElement } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport styles from \"./BackButton.module.scss\"\n\ninterface Props {\n  wrapperClass?: string\n  route: string\n  buttonText: string\n}\n\nexport default function BackButton(props: Props): ReactElement {\n  const { wrapperClass, route, buttonText } = props\n  return (\n    <div className={wrapperClass}>\n      <Link to={route} className={styles.arrowLeft}>\n        <i>{buttonText}</i>\n      </Link>\n    </div>\n  )\n}\n","import { ChainId, NetworkContextName } from \"../constants\"\nimport { useEffect, useState } from \"react\"\n\nimport { Web3Provider } from \"@ethersproject/providers\"\nimport { Web3ReactContextInterface } from \"@web3-react/core/dist/types\"\nimport { injected } from \"../connectors\"\nimport { isMobile } from \"react-device-detect\"\nimport { useWeb3React as useWeb3ReactCore } from \"@web3-react/core\"\n\nexport function useActiveWeb3React(): Web3ReactContextInterface<Web3Provider> & {\n  chainId?: ChainId\n} {\n  const context = useWeb3ReactCore<Web3Provider>()\n  const contextNetwork = useWeb3ReactCore<Web3Provider>(NetworkContextName)\n  return context.active ? context : contextNetwork\n}\n\nexport function useEagerConnect(): boolean {\n  const { activate, active } = useWeb3ReactCore() // specifically using useWeb3ReactCore because of what this hook does\n  const [tried, setTried] = useState(false)\n\n  useEffect(() => {\n    void injected.isAuthorized().then((isAuthorized) => {\n      if (isAuthorized) {\n        activate(injected, undefined, true).catch(() => {\n          setTried(true)\n        })\n      } else {\n        if (isMobile && window.ethereum) {\n          activate(injected, undefined, true).catch(() => {\n            setTried(true)\n          })\n        } else {\n          setTried(true)\n        }\n      }\n    })\n  }, [activate]) // intentionally only running on mount (make sure it's only mounted once :))\n\n  // if the connection worked, wait until we get confirmation of that to flip the flag\n  useEffect(() => {\n    if (active) {\n      setTried(true)\n    }\n  }, [active])\n\n  return tried\n}\n\n/**\n * Use for network and injected - logs user in\n * and out after checking what network theyre on\n * @param {boolean} suppress Suppress useEffect behaviour\n */\nexport function useInactiveListener(suppress = false): void {\n  const { active, error, activate } = useWeb3ReactCore() // specifically using useWeb3React because of what this hook does\n\n  useEffect(() => {\n    const { ethereum } = window\n\n    if (ethereum && ethereum.on && !active && !error && !suppress) {\n      const handleChainChanged = (): void => {\n        // eat errors\n        activate(injected, undefined, true).catch((error) => {\n          console.error(\"Failed to activate after chain changed\", error)\n        })\n      }\n\n      const handleAccountsChanged = (accounts: string[]): void => {\n        if (accounts.length > 0) {\n          // eat errors\n          activate(injected, undefined, true).catch((error) => {\n            console.error(\"Failed to activate after accounts changed\", error)\n          })\n        }\n      }\n\n      ethereum.on(\"chainChanged\", handleChainChanged)\n      ethereum.on(\"accountsChanged\", handleAccountsChanged)\n\n      return (): void => {\n        if (ethereum.removeListener) {\n          ethereum.removeListener(\"chainChanged\", handleChainChanged)\n          ethereum.removeListener(\"accountsChanged\", handleAccountsChanged)\n        }\n      }\n    }\n    return undefined\n  }, [active, error, suppress, activate])\n}\n","import React, { ReactElement } from \"react\"\nimport { Trans, useTranslation } from \"react-i18next\"\nimport { ChainId } from \"../constants\"\nimport { TransactionType } from \"../hooks/useChakraToast\"\nimport { getEtherscanLink } from \"../utils/getEtherscanLink\"\nimport { useActiveWeb3React } from \"../hooks\"\n\ninterface Props {\n  txnType: TransactionType\n  txnHash: string\n  status: \"Failed\" | \"Succeeded\"\n}\n\nconst BlockExplorerLink = ({\n  txnType,\n  txnHash,\n  status,\n}: Props): ReactElement => {\n  const { t } = useTranslation()\n  const { chainId } = useActiveWeb3React()\n  const network = chainId === ChainId.AURORA_MAINNET ? \"mainnet\" : \"testnet\"\n  return (\n    <Trans i18nKey=\"txComplete\" t={t}>\n      {{ tx: txnType }}\n      <a\n        href={getEtherscanLink(txnHash, \"tx\", network)}\n        target=\"_blank\"\n        rel=\"noreferrer\"\n        style={{ textDecoration: \"underline\", margin: 0 }}\n      >\n        aurorascan.\n      </a>\n      {{ status: status }}\n    </Trans>\n  )\n}\n\nexport default BlockExplorerLink\n","import { AppDispatch, AppState } from \"../state\"\nimport { Box, Checkbox, Stack, Text, Tooltip } from \"@chakra-ui/react\"\nimport React, { ReactElement } from \"react\"\nimport { updateInfiniteApproval, updatePriceFromOracle } from \"../state/user\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { useTranslation } from \"react-i18next\"\n\nexport default function BorrowAdvancedOptions(): ReactElement {\n  const { t } = useTranslation()\n  const dispatch = useDispatch<AppDispatch>()\n  const { infiniteApproval, priceFromOracle } = useSelector(\n    (state: AppState) => state.user,\n  )\n\n  return (\n    <Box p=\"15px\">\n      <Stack spacing=\"30px\">\n        <Checkbox\n          size=\"lg\"\n          colorScheme=\"green\"\n          isChecked={infiniteApproval}\n          onChange={() => dispatch(updateInfiniteApproval(!infiniteApproval))}\n        >\n          <Tooltip\n            bgColor=\"#cc3a59\"\n            closeOnClick={false}\n            label={t(\"infiniteApprovalTooltip\")}\n          >\n            <Text borderBottom=\"1px dotted var(--text)\" cursor=\"help\">\n              {t(\"infiniteApproval\")}\n            </Text>\n          </Tooltip>\n        </Checkbox>\n        <Checkbox\n          size=\"lg\"\n          colorScheme=\"green\"\n          isChecked={priceFromOracle}\n          onChange={() => dispatch(updatePriceFromOracle(!priceFromOracle))}\n        >\n          <Tooltip\n            bgColor=\"#cc3a59\"\n            closeOnClick={false}\n            label=\"Update collateral price from the Oracle for a small gas fee!\"\n          >\n            <Text borderBottom=\"1px dotted var(--text)\" cursor=\"help\">\n              Update price\n            </Text>\n          </Tooltip>\n        </Checkbox>\n      </Stack>\n    </Box>\n  )\n}\n","import {\n  BORROW_MARKET_MAP,\n  BRIDGE_CONTRACT_ADDRESSES,\n  BUSD,\n  BorrowMarketName,\n  DAI,\n  FARMS_MAP,\n  FRAX,\n  FarmName,\n  MAI,\n  POOLS_MAP,\n  PoolName,\n  ROSE,\n  ROSE_CONTRACT_ADDRESSES,\n  RUSD,\n  RosePool,\n  SROSE,\n  SROSE_CONTRACT_ADDRESSES,\n  STABLECOIN_SWAP_V2_TOKEN,\n  SWAP_MIGRATOR_USD_CONTRACT_ADDRESSES,\n  SYNTHETIX_CONTRACT_ADDRESSES,\n  SYNTHETIX_EXCHANGE_RATES_CONTRACT_ADDRESSES,\n  Token,\n  USDC,\n  USDT,\n  UST,\n  isMetaPool,\n} from \"../constants\"\n\nimport BRIDGE_CONTRACT_ABI from \"../constants/abis/bridge.json\"\nimport { Bridge } from \"../../types/ethers-contracts/Bridge\"\nimport { Contract } from \"@ethersproject/contracts\"\nimport ERC20_ABI from \"../constants/abis/erc20.json\"\nimport { Erc20 } from \"../../types/ethers-contracts/Erc20\"\nimport GARDEN_ABI from \"../constants/abis/Garden.json\"\nimport { Garden } from \"../../types/ethers-contracts/Garden\"\nimport LPTOKEN_UNGUARDED_ABI from \"../constants/abis/lpTokenUnguarded.json\"\nimport { LpTokenUnguarded } from \"../../types/ethers-contracts/LpTokenUnguarded\"\nimport MIGRATOR_USD_CONTRACT_ABI from \"../constants/abis/swapMigratorUSD.json\"\nimport MULTIMINTER_ABI from \"../constants/abis/multiminter.json\"\nimport ORACLE_ABI from \"../constants/abis/Oracle.json\"\nimport { Oracle } from \"../../types/ethers-contracts/Oracle\"\nimport ROSE_META_POOL_ABI from \"../constants/abis/RoseMetaPool.json\"\nimport ROSE_STABLES_FARM_ABI from \"../constants/abis/RoseStablesFarm.json\"\nimport ROSE_STABLES_POOL_ABI from \"../constants/abis/RoseStablesPool.json\"\nimport { RoseStablesFarm } from \"../../types/ethers-contracts/RoseStablesFarm\"\nimport { RoseStablesLP } from \"../../types/ethers-contracts/RoseStablesLP\"\nimport SROSE_ABI from \"../constants/abis/stRose.json\"\nimport SYNTHETIX_EXCHANGE_RATE_CONTRACT_ABI from \"../constants/abis/synthetixExchangeRate.json\"\nimport SYNTHETIX_NETWORK_TOKEN_CONTRACT_ABI from \"../constants/abis/synthetixNetworkToken.json\"\nimport { StRose } from \"../../types/ethers-contracts/StRose\"\nimport { SwapMigratorUSD } from \"../../types/ethers-contracts/SwapMigratorUSD\"\nimport { SynthetixExchangeRate } from \"../../types/ethers-contracts/SynthetixExchangeRate\"\nimport { SynthetixNetworkToken } from \"../../types/ethers-contracts/SynthetixNetworkToken\"\nimport VASE_ABI from \"../constants/abis/Vase.json\"\nimport { Vase } from \"../../types/ethers-contracts/Vase\"\nimport { getContract } from \"../utils\"\nimport { useActiveWeb3React } from \"./index\"\nimport { useMemo } from \"react\"\n\n// returns null on errors\nfunction useContract(\n  address: string | undefined,\n  ABI: any, // eslint-disable-line @typescript-eslint/no-explicit-any\n  withSignerIfPossible = true,\n): Contract | null {\n  const { library, account } = useActiveWeb3React()\n  return useMemo(() => {\n    if (!address || !ABI || !library) return null\n    try {\n      return getContract(\n        address,\n        ABI,\n        library,\n        withSignerIfPossible && account ? account : undefined,\n      )\n    } catch (error) {\n      console.error(\"Failed to get contract\", error)\n      return null\n    }\n  }, [address, ABI, library, withSignerIfPossible, account])\n}\n\nexport function useFarmContract(farmName: FarmName): RoseStablesFarm | null {\n  const { chainId } = useActiveWeb3React()\n  const contractAddress = chainId\n    ? FARMS_MAP[farmName].addresses[chainId]\n    : undefined\n  return useContract(\n    contractAddress,\n    JSON.stringify(ROSE_STABLES_FARM_ABI.abi),\n  ) as RoseStablesFarm\n}\n\nexport function useRoseContract(): Erc20 | null {\n  const { chainId } = useActiveWeb3React()\n  const contractAddress = chainId ? ROSE_CONTRACT_ADDRESSES[chainId] : undefined\n  return useContract(contractAddress, ERC20_ABI) as Erc20\n}\n\nexport function useStRoseContract(): StRose | null {\n  const { chainId } = useActiveWeb3React()\n  const contractAddress = chainId\n    ? SROSE_CONTRACT_ADDRESSES[chainId]\n    : undefined\n  return useContract(contractAddress, SROSE_ABI.abi) as StRose\n}\n\nexport function useGardenContract(\n  borrowMarket: BorrowMarketName,\n): Garden | null {\n  const { chainId } = useActiveWeb3React()\n  const contractAddress = chainId\n    ? BORROW_MARKET_MAP[borrowMarket].gardenAddresses[chainId]\n    : undefined\n  return useContract(contractAddress, JSON.stringify(GARDEN_ABI)) as Garden\n}\n\nexport function useVaseContract(borrowMarket: BorrowMarketName): Vase | null {\n  const { chainId } = useActiveWeb3React()\n  const contractAddress = chainId\n    ? BORROW_MARKET_MAP[borrowMarket].vaseAddresses[chainId]\n    : undefined\n  return useContract(contractAddress, JSON.stringify(VASE_ABI)) as Vase\n}\n\nexport function useCollateralContract(\n  borrowMarket: BorrowMarketName,\n): Erc20 | null {\n  const { chainId } = useActiveWeb3React()\n  const contractAddress = chainId\n    ? BORROW_MARKET_MAP[borrowMarket].collateralToken.addresses[chainId]\n    : undefined\n  return useContract(contractAddress, JSON.stringify(ERC20_ABI)) as Erc20\n}\n\nexport function useBorrowContract(\n  borrowMarket: BorrowMarketName,\n): Erc20 | null {\n  const { chainId } = useActiveWeb3React()\n  const contractAddress = chainId\n    ? BORROW_MARKET_MAP[borrowMarket].borrowToken.addresses[chainId]\n    : undefined\n  return useContract(contractAddress, JSON.stringify(ERC20_ABI)) as Erc20\n}\n\nexport function useOracleContract(\n  borrowMarket: BorrowMarketName,\n): Oracle | null {\n  const { chainId } = useActiveWeb3React()\n  const contractAddress = chainId\n    ? BORROW_MARKET_MAP[borrowMarket].oracleAddresses[chainId]\n    : undefined\n  return useContract(contractAddress, JSON.stringify(ORACLE_ABI)) as Oracle\n}\n\nexport function useSwapMigratorUSDContract(): SwapMigratorUSD | null {\n  const { chainId } = useActiveWeb3React()\n  const contractAddress = chainId\n    ? SWAP_MIGRATOR_USD_CONTRACT_ADDRESSES[chainId]\n    : undefined\n  return useContract(\n    contractAddress,\n    MIGRATOR_USD_CONTRACT_ABI,\n  ) as SwapMigratorUSD\n}\n\nexport function useBridgeContract(): Bridge | null {\n  const { chainId } = useActiveWeb3React()\n  const contractAddress = chainId\n    ? BRIDGE_CONTRACT_ADDRESSES[chainId]\n    : undefined\n  return useContract(contractAddress, BRIDGE_CONTRACT_ABI) as Bridge\n}\n\nexport function useSynthetixContract(): SynthetixNetworkToken | null {\n  const { chainId } = useActiveWeb3React()\n  const contractAddress = chainId\n    ? SYNTHETIX_CONTRACT_ADDRESSES[chainId]\n    : undefined\n  return useContract(\n    contractAddress,\n    SYNTHETIX_NETWORK_TOKEN_CONTRACT_ABI,\n  ) as SynthetixNetworkToken\n}\n\nexport function useSynthetixExchangeRatesContract(): SynthetixExchangeRate | null {\n  const { chainId } = useActiveWeb3React()\n  const contractAddress = chainId\n    ? SYNTHETIX_EXCHANGE_RATES_CONTRACT_ADDRESSES[chainId]\n    : undefined\n  return useContract(\n    contractAddress,\n    SYNTHETIX_EXCHANGE_RATE_CONTRACT_ABI,\n  ) as SynthetixExchangeRate\n}\n\nexport function useTokenContract(\n  t: Token,\n  withSignerIfPossible?: boolean,\n): Contract | null {\n  const { chainId } = useActiveWeb3React()\n  const tokenAddress = chainId ? t.addresses[chainId] : undefined\n  return useContract(tokenAddress, ERC20_ABI, withSignerIfPossible)\n}\n\nexport function usePoolContract(poolName?: PoolName): RosePool | null {\n  const { chainId } = useActiveWeb3React()\n  const contractAddress =\n    chainId && poolName ? POOLS_MAP[poolName].addresses[chainId] : undefined\n  return useContract(\n    contractAddress,\n    JSON.stringify(\n      isMetaPool(poolName) ? ROSE_META_POOL_ABI : ROSE_STABLES_POOL_ABI,\n    ),\n  ) as RosePool\n}\n\nexport function useLPTokenContract(\n  poolName: PoolName,\n): LpTokenUnguarded | null {\n  const { chainId } = useActiveWeb3React()\n  const contractAddress = chainId\n    ? POOLS_MAP[poolName].lpToken.addresses[chainId]\n    : undefined\n  return useContract(\n    contractAddress,\n    JSON.stringify(LPTOKEN_UNGUARDED_ABI),\n  ) as LpTokenUnguarded\n}\n\nexport function useLPTokenContractForFarm(\n  farmName: FarmName,\n): LpTokenUnguarded | null {\n  const { chainId } = useActiveWeb3React()\n  const contractAddress = chainId\n    ? FARMS_MAP[farmName].lpToken.addresses[chainId]\n    : undefined\n  return useContract(\n    contractAddress,\n    JSON.stringify(LPTOKEN_UNGUARDED_ABI),\n  ) as LpTokenUnguarded\n}\n\ninterface AllContractsObject {\n  [x: string]: RoseStablesLP | Erc20 | null\n}\nexport function useAllContracts(): AllContractsObject | null {\n  const daiContract = useTokenContract(DAI) as Erc20\n  const usdcContract = useTokenContract(USDC) as Erc20\n  const usdtContract = useTokenContract(USDT) as Erc20\n  const fraxContract = useTokenContract(FRAX) as Erc20\n  const roseStablesLPContract = useTokenContract(\n    STABLECOIN_SWAP_V2_TOKEN,\n  ) as RoseStablesLP\n  const roseContract = useTokenContract(ROSE) as Erc20\n  const stroseContract = useTokenContract(SROSE) as Erc20\n  const ustContract = useTokenContract(UST) as Erc20\n  const busdContract = useTokenContract(BUSD) as Erc20\n  const maiContract = useTokenContract(MAI) as Erc20\n  const rusdContract = useTokenContract(RUSD) as Erc20\n\n  return useMemo(() => {\n    if (\n      ![\n        daiContract,\n        usdcContract,\n        usdtContract,\n        roseStablesLPContract,\n        stroseContract,\n        ustContract,\n        roseContract,\n        fraxContract,\n        busdContract,\n        maiContract,\n        rusdContract,\n      ].some(Boolean)\n    )\n      return null\n    return {\n      [DAI.symbol]: daiContract,\n      [USDC.symbol]: usdcContract,\n      [USDT.symbol]: usdtContract,\n      [FRAX.symbol]: fraxContract,\n      [STABLECOIN_SWAP_V2_TOKEN.symbol]: roseStablesLPContract,\n      [ROSE.symbol]: roseContract,\n      [SROSE.symbol]: stroseContract,\n      [UST.symbol]: ustContract,\n      [BUSD.symbol]: busdContract,\n      [MAI.symbol]: maiContract,\n      [RUSD.symbol]: rusdContract,\n    }\n  }, [\n    daiContract,\n    usdcContract,\n    usdtContract,\n    roseStablesLPContract,\n    fraxContract,\n    roseContract,\n    stroseContract,\n    ustContract,\n    busdContract,\n    maiContract,\n    rusdContract,\n  ])\n}\n\nexport function useTestnetMinterContract(): Contract | null {\n  const contractAddress = \"0x2cecd376F19218e9964970d0986ceD32c151BA5a\"\n  return useContract(contractAddress, MULTIMINTER_ABI) as Contract\n}\n","import { BigNumber } from \"@ethersproject/bignumber\"\nimport { ContractReceipt } from \"ethers\"\nimport { ContractTransaction } from \"@ethersproject/contracts\"\nimport { Erc20 } from \"../../types/ethers-contracts/Erc20\"\nimport { LpTokenUnguarded } from \"../../types/ethers-contracts/LpTokenUnguarded\"\nimport { MaxUint256 } from \"@ethersproject/constants\"\nimport { Zero } from \"@ethersproject/constants\"\n\n/**\n * Checks if a spender is allowed to spend some amount of a token.\n * Approves them to spend if they're not already allowed.\n * Won't make requests if spendingValue eq 0\n * @param {Contract} srcTokenContract\n * @param {string} swapAddress\n * @param {string} spenderAddress\n * @param {BigNumber} spendingValue\n * @param {boolean} infiniteApproval\n * @param {{}} callbacks\n * @return {Promise<void>}\n */\nexport default async function checkAndApproveTokenForTrade(\n  srcTokenContract: Erc20 | LpTokenUnguarded,\n  swapAddress: string,\n  spenderAddress: string,\n  spendingValue: BigNumber, // max is MaxUint256\n  infiniteApproval = false,\n  gasPrice: BigNumber,\n  callbacks: {\n    onTransactionStart?: (\n      transaction?: ContractTransaction,\n    ) => (() => void) | undefined\n    onTransactionSuccess?: (transaction: ContractReceipt) => void\n    onTransactionError?: (error: Error | string) => () => void\n  } = {},\n): Promise<boolean> {\n  if (srcTokenContract == null) return false\n  if (spendingValue.eq(0)) return true\n  const tokenName = await srcTokenContract.name()\n  const existingAllowance = await srcTokenContract.allowance(\n    spenderAddress,\n    swapAddress,\n  )\n\n  console.log(`swap address: ${swapAddress}`)\n  console.log(\n    `Existing ${tokenName} Allowance: ${existingAllowance.toString()}`,\n  )\n  console.log(`Spending ${spendingValue.toString()} ${tokenName}`)\n  if (existingAllowance.gte(spendingValue)) return true\n  console.log(`need to approve`)\n  async function approve(amount: BigNumber): Promise<void> {\n    try {\n      const cleanupOnStart = callbacks.onTransactionStart?.()\n      const approvalTransaction = await srcTokenContract.approve(\n        swapAddress,\n        amount,\n        {\n          gasPrice,\n        },\n      )\n      const confirmedTransaction = await approvalTransaction.wait()\n      cleanupOnStart?.()\n      callbacks.onTransactionSuccess?.(confirmedTransaction)\n    } catch (error) {\n      callbacks.onTransactionError?.(error as string)\n      throw error\n    }\n  }\n  if (existingAllowance.gt(\"0\")) {\n    // Reset to 0 before updating approval\n    await approve(Zero)\n  }\n  await approve(infiniteApproval ? MaxUint256 : spendingValue)\n  console.debug(`Approving ${tokenName} spend of ${spendingValue.toString()}`)\n  return false\n}\n","/* eslint-disable */\nimport { BigNumber, ethers } from \"ethers\"\nimport { GasPrices } from \"../state/user\"\nimport { NumberInputState } from \"./numberInputState\"\n\nexport function gasBNFromState(\n  gasPricesGwei: {\n    gasStandard?: number\n    gasFast?: number\n    gasInstant?: number\n  },\n  gasSelected: GasPrices,\n  gasCustom?: NumberInputState,\n): BigNumber {\n  const { gasStandard = 0, gasFast = 0, gasInstant = 0 } = gasPricesGwei\n  let gasPrice\n  if (gasSelected === GasPrices.Custom) {\n    gasPrice = gasCustom?.valueSafe\n  } else if (gasSelected === GasPrices.Fast) {\n    gasPrice = gasFast\n  } else if (gasSelected === GasPrices.Instant) {\n    gasPrice = gasInstant\n  } else {\n    gasPrice = gasStandard\n  }\n  // return BigNumber.from(gasPrice)\n  if (typeof gasPrice === \"number\") {\n    return ethers.utils.parseUnits(gasPrice.toString(), \"gwei\")\n  } else {\n    return BigNumber.from(gasPrice)\n  }\n}\n\nexport function formatGasToString(\n  gasPricesGwei: {\n    gasStandard?: number\n    gasFast?: number\n    gasInstant?: number\n  },\n  gasSelected: GasPrices,\n  gasCustom?: NumberInputState,\n): string {\n  // return gasBNFromState(gasPricesGwei, gasSelected, gasCustom).toString()\n  if (typeof gasPricesGwei.gasStandard === \"number\") {\n    return gasPricesGwei.gasStandard.toString();\n  } else {\n    return \"0.3\";\n  }\n}\n","import { PayloadAction, createSlice } from \"@reduxjs/toolkit\"\nimport { FarmStats } from \"../utils/fetchFarmStats\"\nimport { StakeStats } from \"../utils/fetchStakeStats\"\nimport { SwapStatsReponse } from \"../utils/getSwapStats\"\nimport { TRANSACTION_TYPES } from \"../constants\"\n\ninterface GasPrices {\n  gasStandard?: number\n  gasFast?: number\n  gasInstant?: number\n}\ninterface SwapStats {\n  [swapAddress: string]: {\n    oneDayVolume: string\n    apy: string\n    tvl: string\n    utilization: string\n  }\n}\nexport interface TokenPricesUSD {\n  [tokenSymbol: string]: number\n}\ninterface LastTransactionTimes {\n  [transactionType: string]: number\n}\n\ninterface UpdatedFarmStats {\n  [farmName: string]: FarmStats\n}\n\ninterface RosePriceHistory {\n  time: number\n  price: number\n}\n\ntype ApplicationState = GasPrices & { tokenPricesUSD?: TokenPricesUSD } & {\n  lastTransactionTimes: LastTransactionTimes\n} & { swapStats?: SwapStats } & { farmStats?: UpdatedFarmStats } & {\n  stakeStats?: StakeStats\n} & { rosePriceHistory?: RosePriceHistory[] }\n\nconst initialState: ApplicationState = {\n  lastTransactionTimes: {\n    [TRANSACTION_TYPES.STAKE]: 0,\n    [TRANSACTION_TYPES.DEPOSIT]: 0,\n    [TRANSACTION_TYPES.WITHDRAW]: 0,\n    [TRANSACTION_TYPES.SWAP]: 0,\n    [TRANSACTION_TYPES.BORROW]: 0,\n    [TRANSACTION_TYPES.ROSE_PRICE]: 0,\n    [TRANSACTION_TYPES.MIGRATE]: 0,\n  },\n}\n\nconst applicationSlice = createSlice({\n  name: \"application\",\n  initialState,\n  reducers: {\n    updateGasPrices(state, action: PayloadAction<GasPrices>): void {\n      const { gasStandard, gasFast, gasInstant } = action.payload\n      state.gasStandard = gasStandard\n      state.gasFast = gasFast\n      state.gasInstant = gasInstant\n    },\n    updateFarmStats(state, action: PayloadAction<UpdatedFarmStats>): void {\n      state.farmStats = {\n        ...state.farmStats,\n        ...action.payload,\n      }\n    },\n    updateStakeStats(state, action: PayloadAction<StakeStats>): void {\n      state.stakeStats = {\n        ...state.stakeStats,\n        ...action.payload,\n      }\n    },\n    updateRosePriceHistory(\n      state,\n      action: PayloadAction<RosePriceHistory[]>,\n    ): void {\n      state.rosePriceHistory = action.payload\n    },\n    updateTokensPricesUSD(state, action: PayloadAction<TokenPricesUSD>): void {\n      state.tokenPricesUSD = action.payload\n    },\n    updateLastTransactionTimes(\n      state,\n      action: PayloadAction<LastTransactionTimes>,\n    ): void {\n      state.lastTransactionTimes = {\n        ...state.lastTransactionTimes,\n        ...action.payload,\n      }\n    },\n    updateSwapStats(state, action: PayloadAction<SwapStatsReponse>): void {\n      const formattedPayload = Object.keys(action.payload).reduce(\n        (acc, key) => {\n          const { APY, TVL, oneDayVolume: ODV } = action.payload[key]\n          if (isNaN(APY) || isNaN(TVL) || isNaN(ODV)) {\n            return acc\n          }\n          const apy = APY.toFixed(18)\n          const tvl = TVL.toFixed(18)\n          const oneDayVolume = ODV.toFixed(18)\n          const utilization = (TVL > 0 ? ODV / TVL : 0).toFixed(18)\n          return {\n            ...acc,\n            [key]: {\n              apy,\n              tvl,\n              oneDayVolume,\n              utilization,\n            },\n          }\n        },\n        {},\n      )\n      state.swapStats = formattedPayload\n    },\n  },\n})\n\nexport const {\n  updateGasPrices,\n  updateTokensPricesUSD,\n  updateLastTransactionTimes,\n  updateSwapStats,\n  updateFarmStats,\n  updateStakeStats,\n  updateRosePriceHistory,\n} = applicationSlice.actions\n\nexport default applicationSlice.reducer\n","import { AppDispatch, AppState } from \"../state\"\nimport { BigNumber, BigNumberish } from \"@ethersproject/bignumber\"\nimport {\n  BorrowMarketName,\n  ChainId,\n  SignedSignatureRes,\n  TRANSACTION_TYPES,\n} from \"../constants\"\nimport { BytesLike, ethers } from \"ethers\"\nimport { ContractReceipt, PayableOverrides } from \"@ethersproject/contracts\"\nimport { getSigner, parseSignature } from \"../utils\"\nimport {\n  useBorrowContract,\n  useCollateralContract,\n  useGardenContract,\n  useVaseContract,\n} from \"./useContract\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { Erc20 } from \"../../types/ethers-contracts/Erc20\"\nimport { Garden } from \"../../types/ethers-contracts/Garden\"\nimport { Vase } from \"../../types/ethers-contracts/Vase\"\nimport checkAndApproveTokenForTrade from \"../utils/checkAndApproveTokenForTrade\"\nimport { formatGasToString } from \"../utils/gas\"\nimport { updateLastTransactionTimes } from \"../state/application\"\nimport { useActiveWeb3React } from \".\"\n\nenum GardenActions {\n  REPAY = 2,\n  REMOVE_COLLATERAL = 4,\n  BORROW = 5,\n  REPAY_SHARE = 6,\n  REPAY_PART = 7,\n  ADD_COLLATERAL = 10,\n  UPDATE_EXCHANGE_RATE = 11,\n  VASE_DEPOSIT = 20,\n  VASE_WITHDRAW = 21,\n  VASE_SET_APPROVAL = 24,\n}\n\nexport enum CookAction {\n  BORROW = 0,\n  REPAY = 1,\n}\n\ninterface CookArgsProps {\n  parsedSignature: SignedSignatureRes | null\n  account: string\n  borrowAmount: BigNumber\n  collateralAmount: BigNumber\n  borrowTokenAddress: string\n  collateralTokenAddress: string\n  masterContractAddress: string\n  updateOraclePrice: boolean\n  repayMax?: boolean\n}\n\ninterface CookArgs {\n  actions: BigNumberish[]\n  values: BigNumberish[]\n  datas: BytesLike[]\n  overrides?: PayableOverrides & { from?: string | Promise<string> }\n}\n\nexport function useCook(\n  borrowMarket: BorrowMarketName,\n): (\n  collateral: string,\n  borrow: string,\n  cookAction: CookAction,\n  onMessageSignatureTransactionStart?: () => void,\n  onApprovalTransactionStart?: () => void,\n  repayMax?: boolean,\n) => Promise<ContractReceipt | void> {\n  const gardenContract = useGardenContract(borrowMarket) as Garden\n  const vaseContract = useVaseContract(borrowMarket) as Vase\n  const collateralTokenContract = useCollateralContract(borrowMarket) as Erc20\n  const borrowTokenContract = useBorrowContract(borrowMarket) as Erc20\n\n  const { library, account, chainId } = useActiveWeb3React()\n  const dispatch = useDispatch<AppDispatch>()\n\n  const {\n    infiniteApproval,\n    priceFromOracle,\n    gasPriceSelected,\n    gasCustom,\n  } = useSelector((state: AppState) => state.user)\n  const { gasStandard, gasFast, gasInstant } = useSelector(\n    (state: AppState) => state.application,\n  )\n\n  return async function cook(\n    collateralAmount: string,\n    borrowAmount: string,\n    cookAction: CookAction,\n    onMessageSignatureTransactionStart?: () => void,\n    onApprovalTransactionStart?: () => void,\n    repayMax?: boolean,\n  ): Promise<ContractReceipt | void> {\n    // validation checks\n    if (\n      !account ||\n      !chainId ||\n      !library ||\n      !gardenContract ||\n      !vaseContract ||\n      !collateralTokenContract ||\n      !borrowTokenContract\n    ) {\n      return\n    }\n\n    try {\n      const masterContractAddress = await gardenContract.masterContract()\n      const vaseAddress = await gardenContract.vase()\n\n      const amountToDeposit = BigNumber.from(collateralAmount)\n      const amountToBorrow = BigNumber.from(borrowAmount)\n\n      const gasPrice = ethers.utils.parseUnits(\n        formatGasToString(\n          { gasStandard, gasFast, gasInstant },\n          gasPriceSelected,\n          gasCustom,\n        ),\n        \"gwei\",\n      )\n\n      // approve\n      await checkAndApproveTokenForTrade(\n        cookAction === CookAction.BORROW\n          ? collateralTokenContract\n          : borrowTokenContract,\n        vaseAddress,\n        account,\n        cookAction === CookAction.BORROW ? amountToDeposit : amountToBorrow,\n        infiniteApproval,\n        gasPrice,\n        {\n          onTransactionStart: () => {\n            onApprovalTransactionStart?.()\n            return undefined\n          },\n        },\n      )\n\n      const masterContractApproved = await vaseContract.masterContractApproved(\n        masterContractAddress,\n        account,\n      )\n\n      // signature request if not already approved\n      if (!masterContractApproved) {\n        onMessageSignatureTransactionStart?.()\n      }\n\n      const parsedSignature = masterContractApproved\n        ? null\n        : await requestSignature(\n            chainId,\n            vaseAddress,\n            \"Vase\",\n            \"Give FULL access to funds in (and approved to) Vase?\",\n            masterContractAddress,\n            vaseContract,\n            account,\n            library,\n          )\n\n      // cook\n      const cookArgProps = {\n        parsedSignature: parsedSignature,\n        account: account,\n        borrowAmount: amountToBorrow,\n        collateralAmount: amountToDeposit,\n        borrowTokenAddress: borrowTokenContract.address,\n        collateralTokenAddress: collateralTokenContract.address,\n        masterContractAddress: masterContractAddress,\n        updateOraclePrice: priceFromOracle,\n        repayMax: repayMax,\n      }\n\n      const cookArgs =\n        cookAction === CookAction.BORROW\n          ? getBorrowCookArgs({ ...cookArgProps })\n          : repayCookArgs({ ...cookArgProps })\n\n      const tx = await gardenContract.cook(\n        cookArgs.actions,\n        cookArgs.values,\n        cookArgs.datas,\n      )\n\n      // complete\n      const receipt = await tx.wait()\n      dispatch(\n        updateLastTransactionTimes({ [TRANSACTION_TYPES.BORROW]: Date.now() }),\n      )\n\n      return receipt\n    } catch (e) {\n      const error = e as { code: number; message: string }\n      throw error\n    }\n  }\n}\n\n/**\n * Create a JsonRpcSigner signature request for Rose Garden\n * @param chainId ChainId\n * @param verifyingContractAddress string\n * @param verifyingDomainName string\n * @param messageToSign string\n * @param masterContractAddress string\n * @param verifyingContract Contract\n * @param account string\n * @param library Web3Provider\n * @returns Promise<SignedSignatureRes>\n */\nconst requestSignature = async (\n  chainId: ChainId,\n  verifyingContractAddress: string,\n  verifyingDomainName: string,\n  messageToSign: string,\n  masterContractAddress: string,\n  verifyingContract: Vase,\n  account: string,\n  library: ethers.providers.Web3Provider,\n): Promise<SignedSignatureRes> => {\n  const domain = {\n    name: verifyingDomainName,\n    chainId,\n    verifyingContract: verifyingContractAddress,\n  }\n\n  // The named list of all type definitions\n  const types = {\n    SetMasterContractApproval: [\n      { name: \"warning\", type: \"string\" },\n      { name: \"user\", type: \"address\" },\n      { name: \"masterContract\", type: \"address\" },\n      { name: \"approved\", type: \"bool\" },\n      { name: \"nonce\", type: \"uint256\" },\n    ],\n  }\n  // The data to sign\n  const value = {\n    warning: messageToSign,\n    user: account,\n    masterContract: masterContractAddress,\n    approved: true,\n    nonce: await verifyingContract.nonces(account),\n  }\n\n  const signature = await getSigner(library, account)._signTypedData(\n    domain,\n    types,\n    value,\n  )\n\n  return parseSignature(signature)\n}\n\nconst getDefaultCookArgs = ({\n  parsedSignature,\n  account,\n  masterContractAddress,\n  updateOraclePrice,\n}: CookArgsProps): CookArgs => {\n  const actions: BigNumberish[] = []\n  const values: BigNumberish[] = []\n  const datas: BytesLike[] = []\n\n  // APPROVALS\n  if (parsedSignature) {\n    actions.push(GardenActions.VASE_SET_APPROVAL)\n    values.push(0)\n    datas.push(\n      ethers.utils.defaultAbiCoder.encode(\n        [\"address\", \"address\", \"bool\", \"uint8\", \"bytes32\", \"bytes32\"],\n        [\n          account,\n          masterContractAddress,\n          true,\n          parsedSignature.v,\n          parsedSignature.r,\n          parsedSignature.s,\n        ],\n      ),\n    )\n  }\n\n  // UPDATE EXCHANGE RATE\n  if (updateOraclePrice) {\n    actions.push(GardenActions.UPDATE_EXCHANGE_RATE)\n    values.push(0)\n    datas.push(\n      ethers.utils.defaultAbiCoder.encode(\n        [\"bool\", \"uint256\", \"uint256\"],\n        [true, \"0x00\", \"0x00\"],\n      ),\n    )\n  }\n\n  return {\n    actions,\n    values,\n    datas,\n  }\n}\n\nconst getBorrowCookArgs = (props: CookArgsProps): CookArgs => {\n  const { actions, values, datas } = getDefaultCookArgs(props)\n\n  // BORROW\n  if (!props.borrowAmount.isZero()) {\n    actions.push(GardenActions.BORROW, GardenActions.VASE_WITHDRAW)\n    values.push(0, 0)\n    datas.push(\n      ethers.utils.defaultAbiCoder.encode(\n        [\"int256\", \"address\"],\n        [props.borrowAmount, props.account],\n      ),\n      ethers.utils.defaultAbiCoder.encode(\n        [\"address\", \"address\", \"int256\", \"int256\"],\n        [props.borrowTokenAddress, props.account, props.borrowAmount, \"0x0\"],\n      ),\n    )\n  }\n\n  // DEPOSIT COLLATERAL\n  if (!props.collateralAmount.isZero()) {\n    actions.push(GardenActions.VASE_DEPOSIT, GardenActions.ADD_COLLATERAL)\n    values.push(0, 0)\n    datas.push(\n      ethers.utils.defaultAbiCoder.encode(\n        [\"address\", \"address\", \"int256\", \"int256\"],\n        [\n          props.collateralTokenAddress,\n          props.account,\n          props.collateralAmount,\n          \"0\",\n        ],\n      ),\n      ethers.utils.defaultAbiCoder.encode(\n        [\"int256\", \"address\", \"bool\"],\n        [\"-2\", props.account, false],\n      ),\n    )\n  }\n\n  return {\n    actions,\n    values,\n    datas,\n  }\n}\n\nconst repayCookArgs = (props: CookArgsProps): CookArgs => {\n  const { actions, values, datas } = getDefaultCookArgs(props)\n\n  // REPAY\n  if (props.repayMax) {\n    actions.push(\n      GardenActions.REPAY_SHARE,\n      GardenActions.VASE_DEPOSIT,\n      GardenActions.REPAY,\n    )\n    values.push(0, 0, 0)\n    datas.push(\n      ethers.utils.defaultAbiCoder.encode([\"int256\"], [props.borrowAmount]),\n      ethers.utils.defaultAbiCoder.encode(\n        [\"address\", \"address\", \"int256\", \"int256\"],\n        [props.borrowTokenAddress, props.account, \"0x00\", \"-0x01\"],\n      ),\n      ethers.utils.defaultAbiCoder.encode(\n        [\"int256\", \"address\", \"bool\"],\n        [props.borrowAmount, props.account, false],\n      ),\n    )\n  } else if (!props.borrowAmount.isZero()) {\n    actions.push(\n      GardenActions.VASE_DEPOSIT,\n      GardenActions.REPAY_PART,\n      GardenActions.REPAY,\n    )\n    values.push(0, 0, 0)\n    datas.push(\n      ethers.utils.defaultAbiCoder.encode(\n        [\"address\", \"address\", \"int256\", \"int256\"],\n        [props.borrowTokenAddress, props.account, props.borrowAmount, \"0x0\"],\n      ),\n      ethers.utils.defaultAbiCoder.encode([\"int256\"], [\"-0x01\"]),\n      ethers.utils.defaultAbiCoder.encode(\n        [\"int256\", \"address\", \"bool\"],\n        [\"-0x01\", props.account, false],\n      ),\n    )\n  }\n\n  // WITHDRAW COLLATERAL\n  if (!props.collateralAmount.isZero()) {\n    actions.push(GardenActions.REMOVE_COLLATERAL, GardenActions.VASE_WITHDRAW)\n    values.push(0, 0)\n    datas.push(\n      ethers.utils.defaultAbiCoder.encode(\n        [\"int256\", \"address\"],\n        [props.collateralAmount, props.account],\n      ),\n      ethers.utils.defaultAbiCoder.encode(\n        [\"address\", \"address\", \"int256\", \"int256\"],\n        [\n          props.collateralTokenAddress,\n          props.account,\n          \"0x00\",\n          props.collateralAmount,\n        ],\n      ),\n    )\n  }\n\n  return {\n    actions,\n    values,\n    datas,\n  }\n}\n","import {\n  IconButton,\n  IconButtonProps,\n  Popover,\n  PopoverArrow,\n  PopoverBody,\n  PopoverCloseButton,\n  PopoverContent,\n  PopoverTrigger,\n  Portal,\n} from \"@chakra-ui/react\"\nimport React, { ReactElement, ReactNode } from \"react\"\n\ninterface Props {\n  IconButtonProps: IconButtonProps\n  PopoverBodyContent: ReactNode\n}\n\nexport const IconButtonPopover = ({\n  IconButtonProps,\n  PopoverBodyContent,\n}: Props): ReactElement => {\n  return (\n    <Popover>\n      <PopoverTrigger>\n        <IconButton {...IconButtonProps} />\n      </PopoverTrigger>\n      <Portal>\n        <PopoverContent\n          _focus={{ boxShadow: \"none\" }}\n          _active={{ boxShadow: \"none\" }}\n        >\n          <PopoverArrow />\n          <PopoverCloseButton zIndex={4} />\n          <PopoverBody>{PopoverBodyContent}</PopoverBody>\n        </PopoverContent>\n      </Portal>\n    </Popover>\n  )\n}\n","import { Flex, Text } from \"@chakra-ui/react\"\nimport React, { ReactElement, ReactNode } from \"react\"\nimport { BsSliders } from \"react-icons/bs\"\nimport { IconButtonPopover } from \"./Popover\"\n\nconst FormTitle = ({\n  title,\n  popoverOptions,\n}: {\n  title: string\n  popoverOptions: ReactNode\n}): ReactElement => {\n  return (\n    <Flex justifyContent=\"space-between\" alignItems=\"center\">\n      <Text as=\"h3\" fontWeight=\"700\" fontSize=\"30px\" lineHeight=\"30px\">\n        {title}\n      </Text>\n      <IconButtonPopover\n        IconButtonProps={{\n          \"aria-label\": \"Configure Settings\",\n          variant: \"outline\",\n          size: \"lg\",\n          icon: <BsSliders size=\"25px\" />,\n          title: \"Configure Settings\",\n        }}\n        PopoverBodyContent={popoverOptions}\n      />\n    </Flex>\n  )\n}\n\nexport default FormTitle\n","import React, { ReactElement, ReactNode } from \"react\"\nimport { Box } from \"@chakra-ui/react\"\n\ninterface Props {\n  formTitle: ReactNode\n  formDescription: ReactNode\n}\n\nconst FormWrapper = ({\n  formTitle,\n  formDescription,\n  children,\n}: React.PropsWithChildren<unknown> & Props): ReactElement => {\n  return (\n    <>\n      <Box\n        bg=\"var(--secondary-background)\"\n        border=\"1px solid var(--outline)\"\n        borderRadius=\"10px\"\n        p=\"15px\"\n      >\n        {formTitle}\n      </Box>\n      <Box pt=\"15px\">\n        {formDescription && (\n          <Box\n            mb=\"15px\"\n            bg=\"var(--secondary-background)\"\n            color=\"var(--text-lighter)\"\n            border=\"1px solid var(--outline)\"\n            borderRadius=\"10px\"\n            p=\"24px\"\n            width=\"100%\"\n          >\n            {formDescription}\n          </Box>\n        )}\n        {children}\n      </Box>\n    </>\n  )\n}\n\nexport default FormWrapper\n","import React, { ReactElement } from \"react\"\nimport { Tag } from \"@chakra-ui/react\"\nimport { calculatePositionHealthColor } from \"../utils\"\n\ninterface Props {\n  safetyScore: number\n  isStable?: boolean\n}\n\nconst SafetyTag = ({ safetyScore, isStable }: Props): ReactElement => {\n  const color = calculatePositionHealthColor(safetyScore, isStable)\n  return (\n    <Tag\n      size=\"lg\"\n      borderRadius=\"full\"\n      variant=\"solid\"\n      colorScheme={color}\n      fontSize={{ base: \"11px\", md: \"14px\" }}\n    >\n      {color === \"red\" ? \"High\" : color === \"green\" ? \"Safe\" : \"Moderate\"}\n    </Tag>\n  )\n}\n\nexport default SafetyTag\n","// TODO: create types\n/* eslint @typescript-eslint/no-unsafe-member-access: 0 */\n/* eslint @typescript-eslint/no-unsafe-call: 0 */\n/* eslint @typescript-eslint/no-unsafe-assignment: 0 */\n/* eslint @typescript-eslint/no-explicit-any: 0 */\n\nimport {\n  Box,\n  Button,\n  Flex,\n  FormControl,\n  FormErrorMessage,\n  FormHelperText,\n  FormLabel,\n  HStack,\n  Input,\n  InputGroup,\n  InputLeftElement,\n  InputRightElement,\n  Slider,\n  SliderFilledTrack,\n  SliderMark,\n  SliderThumb,\n  SliderTrack,\n  Stack,\n  Text,\n  Tooltip,\n} from \"@chakra-ui/react\"\nimport { Field, FieldAttributes, Form, Formik } from \"formik\"\nimport React, { ReactElement, ReactNode, useState } from \"react\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport BorrowAdvancedOptions from \"../components/BorrowAdvancedOptions\"\nimport { ContractReceipt } from \"@ethersproject/contracts\"\nimport { CookAction } from \"../hooks/useCook\"\nimport { FaHandHoldingUsd } from \"react-icons/fa\"\nimport FormTitle from \"./FormTitleOptions\"\nimport FormWrapper from \"./wrappers/FormWrapper\"\nimport SafetyTag from \"./SafetyTag\"\nimport { TransactionType } from \"../hooks/useChakraToast\"\nimport { formatBNToString } from \"../utils\"\nimport parseStringToBigNumber from \"../utils/parseStringToBigNumber\"\nimport { parseUnits } from \"@ethersproject/units\"\nimport { useTranslation } from \"react-i18next\"\n\nexport interface BorrowFormTokenDetails {\n  symbol: string\n  icon: string\n  decimals: number\n}\n\ninterface Props {\n  borrowToken: BorrowFormTokenDetails\n  collateralToken: BorrowFormTokenDetails\n  max: string\n  collateralUSDPrice: number\n  formDescription?: ReactNode\n  isStable?: boolean\n  updateLiquidationPrice: (\n    borrowAmount: string,\n    collateralAmount: string,\n  ) => string\n  updatePositionHealth: (\n    borrowAmount: string,\n    collateralAmount: string,\n  ) => number\n  getMaxBorrow: (collateralAmount: string) => BigNumber\n  borrowValidator: (\n    borrowAmount: string,\n    collateralAmount: string,\n  ) => string | undefined\n  collateralValidator: (amount: string) => string | undefined\n  handleSubmit: (\n    collateralAmount: string,\n    borrowAmount: string,\n    cookAction: CookAction,\n    onMessageSignatureTransactionStart?: () => void,\n    onApprovalTransactionStart?: () => void,\n  ) => Promise<ContractReceipt | void>\n  handleWhileSubmitting?: {\n    onMessageSignatureTransactionStart?: () => void\n    onApprovalTransactionStart?: () => void\n  }\n  handlePreSubmit?: (txnType: TransactionType) => void\n  handlePostSubmit?: (\n    receipt: ContractReceipt | null,\n    transactionType: TransactionType,\n    error?: { code: number; message: string },\n  ) => void\n  submitButtonLabelText: (\n    borrow: string,\n    collateral: string,\n    borrowError: string | undefined,\n    collateralError: string | undefined,\n    txnType: TransactionType,\n  ) => string | undefined\n}\n\nconst BorrowForm = (props: Props): ReactElement => {\n  const {\n    borrowToken,\n    collateralToken,\n    max,\n    formDescription,\n    collateralUSDPrice,\n    handleWhileSubmitting,\n    isStable,\n    updateLiquidationPrice,\n    updatePositionHealth,\n    getMaxBorrow,\n    borrowValidator,\n    collateralValidator,\n    handleSubmit,\n    handlePreSubmit,\n    handlePostSubmit,\n    submitButtonLabelText,\n  } = props\n\n  const { t } = useTranslation()\n  const [sliderValue, setSliderValue] = useState(0)\n  const [showTooltip, setShowTooltip] = useState(false)\n\n  return (\n    <FormWrapper\n      formDescription={formDescription}\n      formTitle={\n        <FormTitle\n          title={`Borrow ${borrowToken.symbol}`}\n          popoverOptions={<BorrowAdvancedOptions />}\n        />\n      }\n    >\n      <Formik\n        initialValues={{ collateral: \"\", borrow: \"\" }}\n        onSubmit={async (values, actions) => {\n          handlePreSubmit?.(TransactionType.BORROW)\n          const collateralValueSafe = parseStringToBigNumber(\n            values?.collateral,\n            collateralToken.decimals,\n          )\n          const borrowValueSafe = parseStringToBigNumber(\n            values?.borrow,\n            borrowToken.decimals,\n          )\n          let receipt: ContractReceipt | null = null\n          try {\n            receipt = (await handleSubmit(\n              collateralValueSafe.value.toString(),\n              borrowValueSafe.value.toString(),\n              CookAction.BORROW,\n              handleWhileSubmitting?.onMessageSignatureTransactionStart,\n              handleWhileSubmitting?.onApprovalTransactionStart,\n            )) as ContractReceipt\n            handlePostSubmit?.(receipt, TransactionType.BORROW)\n          } catch (e) {\n            console.error(e)\n            const error = e as { code: number; message: string }\n            handlePostSubmit?.(receipt, TransactionType.BORROW, {\n              code: error.code,\n              message: error.message,\n            })\n          }\n          actions.resetForm({ values: { collateral: \"\", borrow: \"\" } })\n          setSliderValue(0)\n        }}\n        validate={(values) => {\n          const collateral = collateralValidator(values.collateral)\n          const borrow = borrowValidator(values.borrow, values.collateral)\n          if (collateral || borrow) {\n            return {\n              collateral,\n              borrow,\n            }\n          } else {\n            setSliderValue(\n              Math.round(\n                Math.min(\n                  +values?.borrow && values?.collateral\n                    ? (+values.borrow /\n                        collateralUSDPrice /\n                        +values.collateral) *\n                        100\n                    : 0,\n                  100,\n                ),\n              ),\n            )\n          }\n        }}\n      >\n        {(props) => (\n          <Form onSubmit={props.handleSubmit}>\n            <Field name=\"collateral\">\n              {({ field, form }: FieldAttributes<any>) => (\n                <FormControl\n                  padding=\"10px\"\n                  bgColor=\"var(--secondary-background)\"\n                  borderRadius=\"10px\"\n                  isInvalid={form.errors?.collateral}\n                >\n                  <FormLabel fontWeight={700} htmlFor=\"amount\">\n                    Deposit Collateral\n                  </FormLabel>\n                  <InputGroup mt=\"25px\">\n                    <InputLeftElement\n                      pointerEvents=\"none\"\n                      color=\"gray.300\"\n                      fontSize=\"2em\"\n                      marginLeft=\"5px\"\n                    >\n                      <img src={collateralToken.icon} alt=\"tokenIcon\" />\n                    </InputLeftElement>\n                    <Input\n                      {...field}\n                      paddingLeft=\"60px\"\n                      autoComplete=\"off\"\n                      autoCorrect=\"off\"\n                      fontSize={{ base: \"12px\", md: \"16px\" }}\n                      type=\"text\"\n                      isInvalid={form.errors?.collateral}\n                      placeholder=\"0.0\"\n                      variant=\"primary\"\n                    />\n                    <InputRightElement width=\"6rem\" padding=\"10px\">\n                      <Button\n                        variant=\"light\"\n                        size=\"sm\"\n                        onClick={() => {\n                          props.setFieldTouched(\"collateral\", true)\n                          props.setFieldValue(\"collateral\", max)\n                          props.setFieldValue(\"borrow\", \"\")\n                        }}\n                      >\n                        {t(\"max\")}\n                      </Button>\n                    </InputRightElement>\n                  </InputGroup>\n                  {form.errors?.collateral ? (\n                    <FormErrorMessage color=\"#cc3a59\">\n                      {form.errors?.collateral}\n                    </FormErrorMessage>\n                  ) : (\n                    <FormHelperText mt=\"15px\" fontSize=\"sm\" as=\"p\">\n                      {+props.values.collateral !== 0 &&\n                        `You are about to deposit \n                      $${(\n                        collateralUSDPrice * +props.values.collateral\n                      ).toFixed(2)}\n                      ${collateralToken.symbol} as collateral.`}\n                    </FormHelperText>\n                  )}\n                </FormControl>\n              )}\n            </Field>\n            <Field name=\"borrow\">\n              {({ field, form }: FieldAttributes<any>) => (\n                <FormControl\n                  padding=\"10px\"\n                  mt=\"15px\"\n                  bgColor=\"var(--secondary-background)\"\n                  borderRadius=\"10px\"\n                  isInvalid={form.errors?.borrow}\n                >\n                  <Flex\n                    justifyContent=\"space-between\"\n                    alignItems=\"baseline\"\n                    flexWrap={{ base: \"wrap\", md: \"nowrap\" }}\n                  >\n                    <FormLabel fontWeight={700} htmlFor=\"amount\">\n                      Borrow RUSD\n                    </FormLabel>\n                    <HStack spacing=\"20px\" alignItems=\"center\">\n                      <Stack spacing=\"5px\">\n                        <Flex>\n                          <Text\n                            color=\"var(--text-lighter)\"\n                            fontSize={{ base: \"14px\", lg: \"16px\" }}\n                          >\n                            Updated Liquidation Price:&nbsp;\n                          </Text>\n                          <Text fontWeight={700}>\n                            {!form.errors.borrow && !form.errors.collateral\n                              ? updateLiquidationPrice(\n                                  props.values.borrow,\n                                  props.values.collateral,\n                                )\n                              : \"$xx.xxx\"}\n                          </Text>\n                        </Flex>\n                        <Flex>\n                          <Text\n                            color=\"var(--text-lighter)\"\n                            fontSize={{ base: \"14px\", lg: \"16px\" }}\n                          >\n                            Updated Position Health:&nbsp;\n                          </Text>\n                          <Text fontWeight={700}>\n                            {!form.errors.borrow && !form.errors.collateral\n                              ? `${updatePositionHealth(\n                                  props.values.borrow,\n                                  props.values.collateral,\n                                ).toFixed(0)}%`\n                              : \"xx%\"}\n                          </Text>\n                        </Flex>\n                      </Stack>\n                      <SafetyTag\n                        safetyScore={updatePositionHealth(\n                          props.values.borrow,\n                          props.values.collateral,\n                        )}\n                        isStable={isStable}\n                      />\n                    </HStack>\n                  </Flex>\n                  <Box p=\"10px\">\n                    <Slider\n                      id=\"slider\"\n                      value={sliderValue}\n                      min={0}\n                      max={100}\n                      mb=\"40px\"\n                      mt=\"20px\"\n                      isDisabled={\n                        form.errors?.collateral ||\n                        +props.values.collateral === 0\n                      }\n                      focusThumbOnChange={false}\n                      onChange={(v) => {\n                        setSliderValue(v)\n                        props.setFieldValue(\n                          \"borrow\",\n                          formatBNToString(\n                            parseUnits(props.values?.collateral || \"0\", 18)\n                              .mul(\n                                parseUnits(String(collateralUSDPrice || 0), 18),\n                              )\n                              .div(BigNumber.from(10).pow(18))\n                              .mul(BigNumber.from(v).shl(18))\n                              .div(BigNumber.from(100).shl(18)),\n                            18,\n                          ),\n                        )\n                      }}\n                      onMouseEnter={() => setShowTooltip(true)}\n                      onMouseLeave={() => setShowTooltip(false)}\n                    >\n                      <SliderMark value={25} mt=\"3\" ml=\"-2.5\" fontSize=\"sm\">\n                        25%\n                      </SliderMark>\n                      <SliderMark value={50} mt=\"3\" ml=\"-2.5\" fontSize=\"sm\">\n                        50%\n                      </SliderMark>\n                      <SliderMark value={75} mt=\"3\" ml=\"-2.5\" fontSize=\"sm\">\n                        75%\n                      </SliderMark>\n                      <SliderTrack>\n                        <SliderFilledTrack bg=\"#cc3a59\" />\n                      </SliderTrack>\n                      <Tooltip\n                        hasArrow\n                        bg=\"#cc3a59\"\n                        color=\"white\"\n                        placement=\"top\"\n                        isOpen={showTooltip}\n                        label={`${sliderValue}%`}\n                      >\n                        <SliderThumb boxSize={6}>\n                          <Box color=\"#cc3a59\" as={FaHandHoldingUsd} />\n                        </SliderThumb>\n                      </Tooltip>\n                    </Slider>\n                  </Box>\n                  <InputGroup>\n                    <InputLeftElement\n                      pointerEvents=\"none\"\n                      color=\"gray.300\"\n                      fontSize=\"2em\"\n                      marginLeft=\"5px\"\n                    >\n                      <img src={borrowToken.icon} alt=\"tokenIcon\" />\n                    </InputLeftElement>\n                    <Input\n                      {...field}\n                      paddingLeft=\"60px\"\n                      autoComplete=\"off\"\n                      autoCorrect=\"off\"\n                      fontSize={{ base: \"12px\", md: \"16px\" }}\n                      type=\"text\"\n                      isInvalid={form.errors?.borrow}\n                      placeholder=\"0.0\"\n                      variant=\"primary\"\n                      onChange={(e) => {\n                        props.handleChange(e)\n                        const decimalRegex = /^[0-9]\\d*(\\.\\d{1,18})?$/\n                        const formattedVal = decimalRegex.exec(e.target.value)\n                          ? +e.target.value\n                          : 0\n                        setSliderValue(\n                          Math.round(\n                            Math.min(\n                              (formattedVal /\n                                collateralUSDPrice /\n                                (+props.values?.collateral || 1)) *\n                                100,\n                              100,\n                            ),\n                          ),\n                        )\n                      }}\n                    />\n                    <InputRightElement width=\"6rem\" padding=\"10px\">\n                      <Button\n                        variant=\"light\"\n                        size=\"sm\"\n                        onClick={() => {\n                          const borrowMax = formatBNToString(\n                            getMaxBorrow(props.values.collateral),\n                            18,\n                          )\n                          props.setFieldTouched(\"borrow\", true)\n                          props.setFieldValue(\"borrow\", borrowMax)\n                        }}\n                      >\n                        {t(\"max\")}\n                      </Button>\n                    </InputRightElement>\n                  </InputGroup>\n                  {form.errors?.borrow ? (\n                    <FormErrorMessage color=\"#cc3a59\">\n                      {form.errors?.borrow}\n                    </FormErrorMessage>\n                  ) : (\n                    <FormHelperText mt=\"15px\" fontSize=\"sm\" as=\"p\">\n                      {+props.values.borrow !== 0 &&\n                        `You are about to borrow \n                      ${(+props.values.borrow).toFixed(2)} ${\n                          borrowToken.symbol\n                        }.`}\n                    </FormHelperText>\n                  )}\n                </FormControl>\n              )}\n            </Field>\n            <Flex\n              mt=\"20px\"\n              alignItems=\"center\"\n              justifyContent=\"center\"\n              flexDirection=\"column\"\n              bg=\"var(--secondary-background)\"\n              border=\"1px solid var(--outline)\"\n              borderRadius=\"10px\"\n              padding=\"10px\"\n            >\n              <Button\n                variant=\"primary\"\n                fontSize={{ base: \"12px\", sm: \"16px\" }}\n                size=\"lg\"\n                width=\"100%\"\n                type=\"submit\"\n                disabled={\n                  props.errors.borrow !== undefined ||\n                  props.errors.collateral !== undefined ||\n                  (+props.values.borrow === 0 && +props.values.collateral === 0)\n                }\n              >\n                {submitButtonLabelText(\n                  props.values.borrow,\n                  props.values.collateral,\n                  props.errors.borrow,\n                  props.errors.collateral,\n                  TransactionType.BORROW,\n                )}\n              </Button>\n              <Box p=\"15px\">\n                <Text\n                  as=\"p\"\n                  p=\"20px 0 10px\"\n                  textAlign=\"center\"\n                  color=\"var(--text-lighter)\"\n                  fontSize=\"14px\"\n                >\n                  Note: The &quot;Approve&quot; transaction is only needed the\n                  first time; subsequent actions will not require approval.\n                </Text>\n              </Box>\n            </Flex>\n          </Form>\n        )}\n      </Formik>\n    </FormWrapper>\n  )\n}\n\nexport default BorrowForm\n","import { Box, Grid, GridItem } from \"@chakra-ui/react\"\nimport React, { ReactElement, ReactNode } from \"react\"\n\ninterface Props {\n  left: ReactNode\n  right: ReactNode\n  top?: ReactNode\n  bottom?: ReactNode\n}\n\nconst ComponentWrapper = ({\n  top,\n  left,\n  right,\n  bottom,\n}: Props): ReactElement => {\n  const defaultBoxProps = {\n    bg: \"var(--background-element)\",\n    boxShadow: \"var(--shadow)\",\n    border: \"1px solid var(--outline)\",\n    borderRadius: \"10px\",\n    p: \"10px\",\n  }\n  return (\n    <Grid\n      gridTemplateColumns=\"55% 41%\"\n      gridTemplateRows=\"auto\"\n      gap=\"10px\"\n      justifyContent=\"center\"\n    >\n      {top && <GridItem colSpan={2}>{top}</GridItem>}\n      <GridItem rowSpan=\"auto\" colSpan={{ base: 2, lg: 1 }}>\n        <Box {...defaultBoxProps}>{left}</Box>\n      </GridItem>\n      <GridItem rowSpan=\"auto\" colSpan={{ base: 2, lg: 1 }}>\n        <Box {...defaultBoxProps}>{right}</Box>\n      </GridItem>\n      {bottom && (\n        <GridItem colSpan={2}>\n          <Box {...defaultBoxProps}>{bottom}</Box>\n        </GridItem>\n      )}\n    </Grid>\n  )\n}\n\nexport default ComponentWrapper\n","import {\n  Box,\n  Collapse,\n  Divider,\n  Flex,\n  Grid,\n  GridItem,\n  IconButton,\n  List,\n  ListIcon,\n  ListItem,\n  Text,\n} from \"@chakra-ui/react\"\nimport React, { ReactElement, ReactNode, useState } from \"react\"\nimport { BsChevronExpand } from \"react-icons/bs\"\nimport { IconType } from \"react-icons\"\n\ninterface InfoSection {\n  title: string\n  items: {\n    icon: IconType | undefined\n    text: ReactNode\n  }[]\n}\n\ninterface Props {\n  sections: InfoSection[]\n  infoType: \"Farm\" | \"Pool\" | \"Borrow\"\n}\n\nconst OverviewInfo = ({ sections, infoType }: Props): ReactElement => {\n  const [howTo, setHowTo] = useState<{ [key: number]: boolean }>(\n    sections.reduce(\n      (acc, _, index) => ({\n        ...acc,\n        [index]: index === 0 ? true : false,\n      }),\n      {},\n    ),\n  )\n\n  return (\n    <Box p=\"30px\" borderRadius=\"10px\" background=\"var(--background-element)\">\n      <Grid gridTemplateRows=\"auto\" rowGap=\"15px\">\n        <GridItem>\n          <Text fontSize=\"25px\" fontWeight=\"700\">\n            {infoType} Information\n          </Text>\n        </GridItem>\n        <Divider />\n        {sections.map(({ title, items }, i) => {\n          return (\n            <GridItem key={i}>\n              <Flex>\n                <Text mb=\"10px\" fontWeight=\"600\" fontSize=\"20px\">\n                  {title}\n                </Text>\n                <IconButton\n                  onClick={() =>\n                    setHowTo((prev) => ({ ...prev, [i]: !howTo[i] }))\n                  }\n                  aria-label={howTo[i] ? \"Collapse\" : \"Expand\"}\n                  variant=\"outline\"\n                  size=\"xs\"\n                  marginLeft=\"5px\"\n                  icon={<BsChevronExpand />}\n                  title={howTo[i] ? \"Collapse\" : \"Expand\"}\n                />\n              </Flex>\n              <Collapse in={howTo[i]} animateOpacity>\n                <List color=\"var(--text-lighter)\" spacing={3}>\n                  {items.map(({ icon, text }, j) => {\n                    return (\n                      <ListItem key={j}>\n                        <ListIcon as={icon} color=\"var(--text-primary)\" />\n                        {text}\n                      </ListItem>\n                    )\n                  })}\n                </List>\n              </Collapse>\n              {i !== sections.length - 1 && <Divider m=\"10px 0\" />}\n            </GridItem>\n          )\n        })}\n      </Grid>\n    </Box>\n  )\n}\n\nexport default OverviewInfo\n","import { FaDiscord, FaGithub, FaTelegram, FaTwitter } from \"react-icons/fa\"\nimport React, { ReactElement } from \"react\"\nimport { BsMedium } from \"react-icons/bs\"\nimport styles from \"./BottomMenu.module.scss\"\n\nfunction BottomMenu(): ReactElement | null {\n  return (\n    <div className={styles.bottommenu}>\n      <div className={styles.socials}>\n        <a\n          href=\"https://twitter.com/roseonaurora\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <FaTwitter fontSize=\"25px\" />\n        </a>\n        <a\n          href=\"https://medium.com/@roseonaurora\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <BsMedium fontSize=\"25px\" />\n        </a>\n        <a href=\"https://t.me/RoseOnAurora\" target=\"_blank\" rel=\"noreferrer\">\n          <FaTelegram fontSize=\"25px\" />\n        </a>\n        <a\n          href=\"https://discord.gg/dG6mWH4rHj\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <FaDiscord fontSize=\"25px\" />\n        </a>\n        <a\n          href=\"https://github.com/RoseOnAurora\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <FaGithub fontSize=\"25px\" />\n        </a>\n      </div>\n    </div>\n  )\n}\n\nexport default BottomMenu\n","/* eslint @typescript-eslint/no-unsafe-assignment: 0 */\n/* eslint @typescript-eslint/no-explicit-any: 0 */\n/* eslint @typescript-eslint/no-unsafe-member-access: 0 */\n/* eslint @typescript-eslint/no-unsafe-return: 0 */\nimport \"chartjs-adapter-moment\"\nimport React, { ReactElement, useMemo } from \"react\"\nimport { Line } from \"react-chartjs-2\"\nimport { useColorModeValue } from \"@chakra-ui/react\"\n\ninterface Props {\n  chart: Chart\n}\n\ninterface Chart {\n  datasets: ChartInfo\n  timeUnit: string\n}\n\ninterface ChartInfo {\n  label: string\n  data: AxisData[]\n}\n\ninterface AxisData {\n  x: number\n  y: number\n}\n\ninterface ChartColors {\n  datasets: string\n  grid: string\n  ticks: string\n}\n\nconst LineChart = (props: Props): ReactElement => {\n  const { chart } = props\n  const colors = {\n    datasets: useColorModeValue(\"#070605\", \"#f8f9fa\"),\n    grid: useColorModeValue(\"rgba(0, 0, 0, .2)\", \"rgba(255, 255, 255, .2)\"),\n    ticks: useColorModeValue(\"#070605\", \"#f8f9fa\"),\n  }\n  const { data, options } = configs(chart, colors)\n  return useMemo(() => <Line data={data} options={options} />, [data, options])\n}\n\nfunction configs(chart: Chart, colors: ChartColors): { [key: string]: any } {\n  return {\n    data: {\n      datasets: [\n        {\n          label: chart.datasets.label,\n          tension: 0,\n          pointRadius: 1,\n          pointBorderColor: \"transparent\",\n          pointBackgroundColor: colors.datasets,\n          borderColor: colors.datasets,\n          borderWidth: 4,\n          backgroundColor: \"transparent\",\n          fill: true,\n          data: chart.datasets.data,\n          maxBarThickness: 6,\n        },\n      ],\n    },\n    options: {\n      responsive: true,\n      maintainAspectRatio: false,\n      plugins: {\n        legend: {\n          display: false,\n        },\n        tooltip: {\n          callbacks: {\n            label: (context: { [key: string]: any }) => {\n              let label = context.dataset.label || \"\"\n              if (label) {\n                label += \": \"\n              }\n              if (context.parsed.y !== null) {\n                label += new Intl.NumberFormat(\"en-US\", {\n                  style: \"currency\",\n                  currency: \"USD\",\n                  maximumSignificantDigits: 3,\n                }).format(context.parsed.y)\n              }\n              return label\n            },\n          },\n        },\n      },\n      interaction: {\n        intersect: false,\n        mode: \"index\",\n      },\n      scales: {\n        y: {\n          grid: {\n            drawBorder: false,\n            display: true,\n            drawOnChartArea: true,\n            drawTicks: false,\n            borderDash: [3, 3],\n            color: colors.grid,\n          },\n          ticks: {\n            display: true,\n            color: colors.ticks,\n            padding: 10,\n            font: {\n              size: 12,\n              weight: 300,\n              family: \"Neue Machina, sans-serif\",\n              style: \"normal\",\n              lineHeight: 2,\n            },\n            callback: (value: number) => \"$\" + value.toFixed(3),\n          },\n        },\n        x: {\n          type: \"time\",\n          time: {\n            unit: chart.timeUnit,\n          },\n          grid: {\n            drawBorder: false,\n            display: false,\n            drawOnChartArea: false,\n            drawTicks: false,\n            borderDash: [5, 5],\n          },\n          ticks: {\n            display: true,\n            color: colors.ticks,\n            padding: 10,\n            autoSkip: true,\n            maxTicksLimit: 7,\n            font: {\n              size: 14,\n              weight: 300,\n              family: \"Neue Machina, sans-serif\",\n              style: \"normal\",\n              lineHeight: 2,\n            },\n          },\n        },\n      },\n    },\n  }\n}\n\nexport default LineChart\n","import { Token } from \"../constants\"\nimport { imageIconToUrl } from \"../utils\"\nimport { useActiveWeb3React } from \"./index\"\nimport { useCallback } from \"react\"\n\nexport default function useAddTokenToMetamask(\n  token: Token | undefined,\n): () => Promise<void> {\n  const { library, chainId } = useActiveWeb3React()\n\n  const addToken = useCallback(async (): Promise<void> => {\n    if (library && window.ethereum && token && chainId) {\n      try {\n        await window.ethereum.request({\n          method: \"wallet_watchAsset\",\n          params: {\n            //@ts-ignore // need this for incorrect ethers provider type\n            type: \"ERC20\",\n            options: {\n              address: token.addresses[chainId],\n              symbol: token.symbol,\n              decimals: token.decimals,\n              image: imageIconToUrl(token.icon),\n            },\n          },\n        })\n      } catch (e) {\n        console.log(e)\n      }\n    }\n  }, [library, token, chainId])\n\n  return addToken\n}\n","import {\n  Box,\n  Button,\n  Flex,\n  Icon,\n  Menu,\n  MenuButton,\n  MenuDivider,\n  MenuGroup,\n  MenuItem,\n  MenuList,\n  Radio,\n  RadioGroup,\n  Spinner,\n  Stack,\n  Stat,\n  StatArrow,\n  StatGroup,\n  StatNumber,\n  Text,\n  useColorModeValue,\n} from \"@chakra-ui/react\"\nimport { ROSE, SROSE, TRANSACTION_TYPES } from \"../constants\"\nimport React, { ReactElement, useState } from \"react\"\nimport { AppState } from \"../state\"\nimport { BsClock } from \"react-icons/bs\"\nimport LineChart from \"./LineChart\"\nimport styles from \"./RosePriceButton.module.scss\"\nimport useAddTokenToMetamask from \"../hooks/useAddTokenToMetamask\"\nimport { useSelector } from \"react-redux\"\n\nexport default function RosePriceButton(): ReactElement {\n  const { stakeStats, rosePriceHistory, lastTransactionTimes } = useSelector(\n    (state: AppState) => state.application,\n  )\n  const { priceOfRose } = { ...stakeStats }\n  const addRoseToken = useAddTokenToMetamask(ROSE)\n  const addStRoseToken = useAddTokenToMetamask(SROSE)\n  const [timeUnit, setTimeUnit] = useState(\"hour\")\n  const priceChartLastUpdate = Math.round(\n    (Date.now() - lastTransactionTimes[TRANSACTION_TYPES.ROSE_PRICE]) /\n      1000 /\n      60,\n  )\n  const formattedPriceData =\n    timeUnit === \"hour\" && rosePriceHistory\n      ? rosePriceHistory.slice(-rosePriceHistory.length / 6)\n      : rosePriceHistory\n  const priceChange = formattedPriceData\n    ? ((formattedPriceData[formattedPriceData.length - 1].price -\n        formattedPriceData[0].price) /\n        formattedPriceData[0].price) *\n      100\n    : 0\n\n  return (\n    <div style={{ marginRight: \"10px\" }}>\n      <Menu isLazy>\n        <MenuButton\n          variant=\"outline\"\n          lineHeight=\"unset\"\n          as={Button}\n          className={styles.addToken}\n          leftIcon={\n            <Icon viewBox=\"0 0 180 150\">\n              <text fontSize=\"180px\" y=\"89%\">\n                \n              </text>\n            </Icon>\n          }\n        >\n          {priceOfRose ? `$${Number(priceOfRose).toFixed(2)}` : \"-\"}\n        </MenuButton>\n        <MenuList bg={useColorModeValue(\"#fff\", \"rgb(28, 29, 33)\")}>\n          <Box p=\"10px\" textAlign=\"center\" height=\"100%\">\n            {formattedPriceData ? (\n              <>\n                <RadioGroup value={timeUnit} onChange={setTimeUnit}>\n                  <Stack spacing={5} direction=\"row\" p=\"10px\">\n                    <Text>Rose Price Chart</Text>\n                    <Radio colorScheme=\"green\" value=\"hour\">\n                      24h\n                    </Radio>\n                    <Radio colorScheme=\"green\" value=\"day\">\n                      7d\n                    </Radio>\n                  </Stack>\n                </RadioGroup>\n                <Box height=\"12.5rem\">\n                  <LineChart\n                    chart={{\n                      datasets: {\n                        label: \"ROSE  Price\",\n                        data: formattedPriceData.map(({ time, price }) => ({\n                          x: time,\n                          y: price,\n                        })),\n                      },\n                      timeUnit,\n                    }}\n                  />\n                </Box>\n                <Flex justifyContent=\"space-between\" p=\"10px\" mt=\"5px\">\n                  <StatGroup>\n                    <Stat>\n                      <StatNumber fontSize=\"16px\">\n                        <StatArrow\n                          type={priceChange > 0 ? \"increase\" : \"decrease\"}\n                        />\n                        {priceChange.toFixed(2)}%\n                      </StatNumber>\n                    </Stat>\n                  </StatGroup>\n                  <Flex\n                    alignItems=\"center\"\n                    gridGap=\"5px\"\n                    color=\"var(--text-lighter)\"\n                    fontSize=\"12px\"\n                  >\n                    <BsClock />\n                    <Text as=\"span\">\n                      updated{\" \"}\n                      {priceChartLastUpdate\n                        ? `${priceChartLastUpdate} min ago`\n                        : \"just now\"}{\" \"}\n                    </Text>\n                  </Flex>\n                </Flex>\n              </>\n            ) : (\n              <Spinner size=\"xl\" color=\"#cc3a59\" />\n            )}\n          </Box>\n          <MenuDivider />\n          <MenuGroup title=\"ROSE TOKEN\">\n            <MenuItem\n              icon={\n                <Icon viewBox=\"0 0 125 99\" fill=\"none\">\n                  <g clipPath=\"url(#clip0)\">\n                    <path\n                      d=\"M17.9456 95.4377C17.9456 87.5692 24.3639 81.1886 32.279 81.1886H42.1944C48.7998 81.1886 54.1389 86.5105 54.1389 93.0628C54.1389 96.339 51.4621 99 48.1666 99H21.5289C19.543 99 17.9456 97.412 17.9456 95.4377Z\"\n                      fill=\"#D0C5F8\"\n                    />\n                    <path\n                      fillRule=\"evenodd\"\n                      clipRule=\"evenodd\"\n                      d=\"M54.2684 93.2202C54.2684 93.163 54.2684 93.1201 54.2684 93.0628C54.2684 86.4962 48.915 81.1886 42.3239 81.1886H32.4085C31.2573 81.1886 30.1348 81.3173 29.0698 81.5748C35.9343 87.7409 44.6409 91.9183 54.2684 93.2202Z\"\n                      fill=\"#BBB3F4\"\n                    />\n                    <path\n                      d=\"M103.745 95.4377C103.745 87.5692 97.3262 81.1886 89.4112 81.1886H79.4958C72.8903 81.1886 67.5513 86.5105 67.5513 93.0628C67.5513 96.339 70.228 99 73.5235 99H100.176C102.133 99 103.745 97.412 103.745 95.4377Z\"\n                      fill=\"#D0C5F8\"\n                    />\n                    <path\n                      fillRule=\"evenodd\"\n                      clipRule=\"evenodd\"\n                      d=\"M34.2793 99C28.451 96.711 23.6588 92.3762 20.8094 86.8825C19.0105 89.2717 17.9456 92.2188 17.9456 95.4377C17.9456 97.412 19.5573 99 21.5289 99H34.2793Z\"\n                      fill=\"url(#paint0_linear)\"\n                    />\n                    <path\n                      fillRule=\"evenodd\"\n                      clipRule=\"evenodd\"\n                      d=\"M67.4218 93.2202C67.4218 93.163 67.4218 93.1201 67.4218 93.0628C67.4218 86.4962 72.7752 81.1886 79.3663 81.1886H89.2817C90.4329 81.1886 91.5554 81.3173 92.6204 81.5748C85.7415 87.7409 77.0349 91.9183 67.4218 93.2202Z\"\n                      fill=\"#BBB3F4\"\n                    />\n                    <path\n                      fillRule=\"evenodd\"\n                      clipRule=\"evenodd\"\n                      d=\"M87.3965 99C93.2248 96.711 98.017 92.3762 100.866 86.8825C102.665 89.2717 103.73 92.2188 103.73 95.4377C103.73 97.412 102.118 99 100.147 99H87.3965Z\"\n                      fill=\"url(#paint1_linear)\"\n                    />\n                    <path\n                      d=\"M60.8738 90.0156C85.8997 90.0156 106.162 69.8722 106.162 45.0078C106.162 20.1434 85.8566 0 60.8738 0C35.8479 0 15.571 20.1434 15.571 45.0078C15.571 69.8722 35.8479 90.0156 60.8738 90.0156Z\"\n                      fill=\"#DDD5FF\"\n                    />\n                    <path\n                      d=\"M60.8739 84.8653C83.0072 84.8653 100.982 67.011 100.982 45.0221C100.982 23.0333 83.0072 5.16461 60.8739 5.16461C38.7118 5.16461 20.7662 23.0189 20.7662 45.0078C20.7662 66.9967 38.7118 84.8653 60.8739 84.8653Z\"\n                      fill=\"#CBC1F7\"\n                    />\n                    <path\n                      d=\"M60.8163 79.3288C79.8699 79.3288 95.3546 63.978 95.3546 45.0078C95.3546 26.0376 79.8987 10.6869 60.8163 10.6869C41.7626 10.6869 26.278 26.0376 26.278 45.0078C26.278 63.978 41.7626 79.3288 60.8163 79.3288Z\"\n                      fill=\"url(#paint2_linear)\"\n                    />\n                    <g style={{ mixBlendMode: \"screen\" }} opacity=\"0.1\">\n                      <path\n                        d=\"M61.6836 75.1655C61.6836 75.1655 51.0517 75.3672 41.9064 67.373C32.5662 59.2805 33.7572 52.1444 33.7572 52.1444C33.7572 52.1444 39.3107 54.2183 44.4594 61.4069C49.6081 68.5955 56.1301 73.0916 61.6836 75.1655Z\"\n                        fill=\"url(#paint3_linear)\"\n                      />\n                    </g>\n                    <path\n                      style={{ mixBlendMode: \"screen\" }}\n                      opacity=\"0.5\"\n                      d=\"M34.1642 28.4696C33.5166 32.4754 41.2014 32.0033 53.3905 31.6314C68.1269 31.1592 82.9352 43.7488 91.5842 34.7215C92.9945 33.2337 78.9201 13.6626 61.838 14.0345C44.8711 14.4923 34.7254 24.936 34.1642 28.4696Z\"\n                      fill=\"url(#paint4_linear)\"\n                    />\n                    <path\n                      d=\"M75.0489 33.8774H73.1925C71.1346 33.8774 69.494 35.537 69.494 37.5542V49.7289C69.494 51.7747 71.1634 53.4056 73.1925 53.4056H75.0489C77.1068 53.4056 78.7474 51.7461 78.7474 49.7289V37.5542C78.7762 35.537 77.1068 33.8774 75.0489 33.8774Z\"\n                      fill=\"#200D67\"\n                    />\n                    <path\n                      d=\"M75.9412 35.7516H75.0489C74.5308 35.7516 74.0991 36.1665 74.0991 36.6958V39.0134C74.0991 39.5285 74.5165 39.9577 75.0489 39.9577H75.9412C76.4592 39.9577 76.891 39.5428 76.891 39.0134V36.6958C76.891 36.1808 76.4592 35.7516 75.9412 35.7516Z\"\n                      fill=\"#CEF2E7\"\n                    />\n                    <path\n                      d=\"M48.7855 34.0062H46.9291C44.8712 34.0062 43.2306 35.6658 43.2306 37.683V49.8577C43.2306 51.9035 44.8999 53.5344 46.9291 53.5344H48.7855C50.8434 53.5344 52.484 51.8749 52.484 49.8577V37.683C52.5128 35.6658 50.8434 34.0062 48.7855 34.0062Z\"\n                      fill=\"#200D67\"\n                    />\n                    <path\n                      d=\"M49.6777 35.8804H48.7855C48.2674 35.8804 47.8357 36.2953 47.8357 36.8246V39.1422C47.8357 39.6572 48.253 40.0864 48.7855 40.0864H49.6777C50.1958 40.0864 50.6275 39.6716 50.6275 39.1422V36.8246C50.5988 36.3096 50.1814 35.8804 49.6777 35.8804Z\"\n                      fill=\"#CEF2E7\"\n                    />\n                    <path\n                      fillRule=\"evenodd\"\n                      clipRule=\"evenodd\"\n                      d=\"M105.932 40.4298C105.687 38.7988 105.443 36.6815 105.069 35.0077C112.624 36.0949 108.465 35.4512 113.948 36.4526C116.754 37.1393 119.215 38.012 121.086 39.1994C122.971 40.3582 124.54 41.9892 124.914 44.1351C125.504 47.4113 123.1 50.3012 120.222 52.49C117.186 54.7934 112.825 57.0251 107.529 59.071C96.8801 63.2341 82.0286 66.9538 65.3782 69.3429C48.7567 71.7321 33.3295 72.3759 21.7736 71.446C16.0316 70.9738 11.0955 70.0869 7.4114 68.7707C3.92878 67.4688 0.647641 65.423 0.0863926 62.1468C-0.287773 60.0009 0.63325 58.0123 2.00039 56.3814C3.39632 54.7504 5.38227 53.1624 7.84313 51.7604C12.2899 49.2282 9.35418 50.6016 15.6718 47.7975C15.8157 49.6574 15.9884 51.2025 16.305 53.0337C11.9158 55.2369 14.1608 54.078 10.9372 55.9951C8.80732 57.2684 7.33944 58.4272 6.49038 59.4286C5.64131 60.4301 5.59814 61.0309 5.64131 61.3457C5.74205 61.8321 6.43281 62.9337 9.57005 64.0639C12.5202 65.1369 16.8519 65.9666 22.3348 66.4101C33.272 67.2971 48.2242 66.7249 64.5292 64.35C80.8342 62.0038 95.2395 58.3699 105.328 54.4357C110.393 52.4757 114.192 50.4585 116.639 48.6273C119.229 46.6673 119.503 45.437 119.416 44.9506C119.373 44.6358 119.1 44.0779 117.948 43.3626C116.812 42.6473 115.013 41.9606 112.537 41.3597C108.407 40.5871 111.789 41.2023 105.932 40.4298Z\"\n                      fill=\"#29E7F6\"\n                    />\n                    <path\n                      fillRule=\"evenodd\"\n                      clipRule=\"evenodd\"\n                      d=\"M24.8389 69.1283C24.8677 68.742 25.2418 68.4845 25.6592 68.4988C31.1278 68.8565 37.4598 68.8851 44.3962 68.4988C44.8136 68.4702 45.1733 68.7706 45.1877 69.1283C45.2165 69.5146 44.8855 69.815 44.497 69.8436C37.5173 70.2299 31.099 70.2299 25.5584 69.8436C25.1123 69.815 24.7957 69.4717 24.8389 69.1283ZM48.8143 68.8708C48.7855 68.4845 49.0877 68.1841 49.505 68.1412C50.1958 68.0982 50.901 68.0267 51.6205 67.9695C52.0378 67.9266 52.412 68.2127 52.4408 68.5704C52.484 68.9566 52.1674 69.2857 51.7644 69.3C51.0449 69.3715 50.3541 69.4144 49.6489 69.4717C49.2172 69.5289 48.843 69.2571 48.8143 68.8708Z\"\n                      fill=\"white\"\n                    />\n                    <path\n                      opacity=\"0.16\"\n                      fillRule=\"evenodd\"\n                      clipRule=\"evenodd\"\n                      d=\"M7.82874 51.7461C12.2755 49.2139 9.33979 50.5873 15.6574 47.7832C15.8013 49.6431 15.974 51.1882 16.2906 53.0194C11.9014 55.2225 14.1464 54.0637 10.9228 55.9808L7.82874 51.7461Z\"\n                      fill=\"black\"\n                    />\n                    <path\n                      opacity=\"0.16\"\n                      fillRule=\"evenodd\"\n                      clipRule=\"evenodd\"\n                      d=\"M112.509 41.3454C108.407 40.5871 111.789 41.2023 105.932 40.4298C105.687 38.7988 105.443 36.6815 105.068 35.0077C112.624 36.0949 108.465 35.4512 113.948 36.4526L112.509 41.3454Z\"\n                      fill=\"black\"\n                    />\n                  </g>\n                  <defs>\n                    <linearGradient\n                      id=\"paint0_linear\"\n                      x1=\"21.0995\"\n                      y1=\"86.673\"\n                      x2=\"26.6002\"\n                      y2=\"98.8131\"\n                      gradientUnits=\"userSpaceOnUse\"\n                    >\n                      <stop stopColor=\"#ACA4F1\" />\n                      <stop offset=\"1\" stopColor=\"#D3C9F9\" stopOpacity=\"0.4\" />\n                    </linearGradient>\n                    <linearGradient\n                      id=\"paint1_linear\"\n                      x1=\"91.2907\"\n                      y1=\"86.3394\"\n                      x2=\"96.791\"\n                      y2=\"98.4795\"\n                      gradientUnits=\"userSpaceOnUse\"\n                    >\n                      <stop stopColor=\"#ACA4F1\" />\n                      <stop offset=\"1\" stopColor=\"#D3C9F9\" stopOpacity=\"0.4\" />\n                    </linearGradient>\n                    <linearGradient\n                      id=\"paint2_linear\"\n                      x1=\"60.8174\"\n                      y1=\"10.6907\"\n                      x2=\"60.8174\"\n                      y2=\"79.3279\"\n                      gradientUnits=\"userSpaceOnUse\"\n                    >\n                      <stop stopColor=\"#322F82\" />\n                      <stop offset=\"1\" stopColor=\"#6366F1\" />\n                    </linearGradient>\n                    <linearGradient\n                      id=\"paint3_linear\"\n                      x1=\"42.9705\"\n                      y1=\"68.5365\"\n                      x2=\"48.3956\"\n                      y2=\"62.758\"\n                      gradientUnits=\"userSpaceOnUse\"\n                    >\n                      <stop stopColor=\"#D4E2FF\" />\n                      <stop offset=\"1\" />\n                    </linearGradient>\n                    <linearGradient\n                      id=\"paint4_linear\"\n                      x1=\"34.099\"\n                      y1=\"25.9943\"\n                      x2=\"91.7154\"\n                      y2=\"25.9943\"\n                      gradientUnits=\"userSpaceOnUse\"\n                    >\n                      <stop />\n                      <stop offset=\"1\" stopColor=\"#6A9BFF\" />\n                    </linearGradient>\n                    <clipPath id=\"clip0\">\n                      <rect width=\"125\" height=\"99\" fill=\"white\" />\n                    </clipPath>\n                  </defs>\n                </Icon>\n              }\n              href=\"https://dex.nearpad.io/swap?outputCurrency=0xdcD6D4e2B3e1D1E1E6Fa8C21C8A323DcbecfF970\"\n              as=\"a\"\n              margin=\"0\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Buy ROSE\n            </MenuItem>\n            <MenuItem\n              icon={\n                <Icon\n                  width=\"1em\"\n                  height=\"1em\"\n                  fill={useColorModeValue(\"#000\", \"#fff\")}\n                  fillRule=\"evenodd\"\n                  viewBox=\"0 0 252 300\"\n                  focusable=\"false\"\n                >\n                  <path d=\"M151.818 106.866c9.177-4.576 20.854-11.312 32.545-20.541 2.465 5.119 2.735 9.586 1.465 13.193-.9 2.542-2.596 4.753-4.826 6.512-2.415 1.901-5.431 3.285-8.765 4.033-6.326 1.425-13.712.593-20.419-3.197m1.591 46.886l12.148 7.017c-24.804 13.902-31.547 39.716-39.557 64.859-8.009-25.143-14.753-50.957-39.556-64.859l12.148-7.017a5.95 5.95 0 003.84-5.845c-1.113-23.547 5.245-33.96 13.821-40.498 3.076-2.342 6.434-3.518 9.747-3.518s6.671 1.176 9.748 3.518c8.576 6.538 14.934 16.951 13.821 40.498a5.95 5.95 0 003.84 5.845zM126 0c14.042.377 28.119 3.103 40.336 8.406 8.46 3.677 16.354 8.534 23.502 14.342 3.228 2.622 5.886 5.155 8.814 8.071 7.897.273 19.438-8.5 24.796-16.709-9.221 30.23-51.299 65.929-80.43 79.589-.012-.005-.02-.012-.029-.018-5.228-3.992-11.108-5.988-16.989-5.988s-11.76 1.996-16.988 5.988c-.009.005-.017.014-.029.018-29.132-13.66-71.209-49.359-80.43-79.589 5.357 8.209 16.898 16.982 24.795 16.709 2.929-2.915 5.587-5.449 8.814-8.071C69.31 16.94 77.204 12.083 85.664 8.406 97.882 3.103 111.959.377 126 0m-25.818 106.866c-9.176-4.576-20.854-11.312-32.544-20.541-2.465 5.119-2.735 9.586-1.466 13.193.901 2.542 2.597 4.753 4.826 6.512 2.416 1.901 5.432 3.285 8.766 4.033 6.326 1.425 13.711.593 20.418-3.197\"></path>\n                  <path d=\"M197.167 75.016c6.436-6.495 12.107-13.684 16.667-20.099l2.316 4.359c7.456 14.917 11.33 29.774 11.33 46.494l-.016 26.532.14 13.754c.54 33.766 7.846 67.929 24.396 99.193l-34.627-27.922-24.501 39.759-25.74-24.231L126 299.604l-41.132-66.748-25.739 24.231-24.501-39.759L0 245.25c16.55-31.264 23.856-65.427 24.397-99.193l.14-13.754-.016-26.532c0-16.721 3.873-31.578 11.331-46.494l2.315-4.359c4.56 6.415 10.23 13.603 16.667 20.099l-2.01 4.175c-3.905 8.109-5.198 17.176-2.156 25.799 1.961 5.554 5.54 10.317 10.154 13.953 4.48 3.531 9.782 5.911 15.333 7.161 3.616.814 7.3 1.149 10.96 1.035-.854 4.841-1.227 9.862-1.251 14.978L53.2 160.984l25.206 14.129a41.926 41.926 0 015.734 3.869c20.781 18.658 33.275 73.855 41.861 100.816 8.587-26.961 21.08-82.158 41.862-100.816a41.865 41.865 0 015.734-3.869l25.206-14.129-32.665-18.866c-.024-5.116-.397-10.137-1.251-14.978 3.66.114 7.344-.221 10.96-1.035 5.551-1.25 10.854-3.63 15.333-7.161 4.613-3.636 8.193-8.399 10.153-13.953 3.043-8.623 1.749-17.689-2.155-25.799l-2.01-4.175z\"></path>\n                </Icon>\n              }\n              href=\"https://dexscreener.com/aurora/0xc6c3cc84eabd4643c382c988fa2830657fc70a6b\"\n              as=\"a\"\n              margin=\"0\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              DexScreener\n            </MenuItem>\n            <MenuItem\n              icon={\n                <Icon viewBox=\"0 0 276 276\" focusable=\"false\">\n                  <path\n                    fill=\"#8dc63f\"\n                    d=\"M276,137.39A138,138,0,1,1,137.39,0h0A138,138,0,0,1,276,137.39Z\"\n                    transform=\"translate(0 0)\"\n                  />\n                  <path\n                    fill=\"#f9e988\"\n                    d=\"M265.65,137.44a127.63,127.63,0,1,1-128.21-127h0A127.65,127.65,0,0,1,265.65,137.44Z\"\n                    transform=\"translate(0 0)\"\n                  />\n                  <path\n                    fill=\"#fff\"\n                    d=\"M140.35,18.66a70.18,70.18,0,0,1,24.53,0,74.75,74.75,0,0,1,23.43,7.85c7.28,4,13.57,9.43,19.83,14.52s12.49,10.3,18.42,16a93.32,93.32,0,0,1,15.71,19,108.28,108.28,0,0,1,11,22.17c5.33,15.66,7.18,32.53,4.52,48.62H257c-2.67-15.95-6.29-31.15-12-45.61A177.51,177.51,0,0,0,235.56,80,209.1,209.1,0,0,0,223.14,60a72.31,72.31,0,0,0-16.64-16.8c-6.48-4.62-13.93-7.61-21.14-10.45S171,27,163.48,24.84s-15.16-3.78-23.14-5.35Z\"\n                    transform=\"translate(0 0)\"\n                  />\n                  <path\n                    fill=\"#8bc53f\"\n                    d=\"M202.74,92.39c-9.26-2.68-18.86-6.48-28.58-10.32-.56-2.44-2.72-5.48-7.09-9.19-6.35-5.51-18.28-5.37-28.59-2.93-11.38-2.68-22.62-3.63-33.41-1C16.82,93.26,66.86,152.57,34.46,212.19c4.61,9.78,54.3,66.84,126.2,51.53,0,0-24.59-59.09,30.9-87.45C236.57,153.18,269.09,110.46,202.74,92.39Z\"\n                    transform=\"translate(0 0)\"\n                  />\n                  <path\n                    fill=\"#fff\"\n                    d=\"M213.64,131.2a5.35,5.35,0,1,1-5.38-5.32A5.36,5.36,0,0,1,213.64,131.2Z\"\n                    transform=\"translate(0 0)\"\n                  />\n                  <path\n                    fill=\"#009345\"\n                    d=\"M138.48,69.91c6.43.46,29.68,8,35.68,12.12-5-14.5-21.83-16.43-35.68-12.12Z\"\n                    transform=\"translate(0 0)\"\n                  />\n                  <path\n                    fill=\"#fff\"\n                    d=\"M144.6,106.58a24.68,24.68,0,1,1-24.69-24.67h0a24.68,24.68,0,0,1,24.68,24.66Z\"\n                    transform=\"translate(0 0)\"\n                  />\n                  <path\n                    fill=\"#58595b\"\n                    d=\"M137.28,106.8a17.36,17.36,0,1,1-17.36-17.36h0A17.36,17.36,0,0,1,137.28,106.8Z\"\n                    transform=\"translate(0 0)\"\n                  />\n                  <path\n                    fill=\"#8bc53f\"\n                    d=\"M233.63,142.08c-20,14.09-42.74,24.78-75,24.78-15.1,0-18.16-16-28.14-8.18-5.15,4.06-23.31,13.14-37.72,12.45S55,162,48.49,131.23C45.91,162,44.59,184.65,33,210.62c23,36.83,77.84,65.24,127.62,53C155.31,226.27,188,189.69,206.34,171c7-7.09,20.3-18.66,27.29-28.91Z\"\n                    transform=\"translate(0 0)\"\n                  />\n                  <path\n                    fill=\"#58595b\"\n                    d=\"M232.85,143c-6.21,5.66-13.6,9.85-21.12,13.55a134.9,134.9,0,0,1-23.7,8.63c-8.16,2.11-16.67,3.7-25.29,2.92s-17.43-3.71-23.14-10.17l.27-.31c7,4.54,15.08,6.14,23.12,6.37a108.27,108.27,0,0,0,24.3-2,132.71,132.71,0,0,0,23.61-7.3c7.63-3.15,15.18-6.8,21.68-12Z\"\n                    transform=\"translate(0 0)\"\n                  />\n                </Icon>\n              }\n              href=\"https://www.coingecko.com/en/coins/rose\"\n              as=\"a\"\n              margin=\"0\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              CoinGecko\n            </MenuItem>\n          </MenuGroup>\n          <MenuDivider />\n          <MenuGroup title=\"ADD TOKEN TO WALLET\">\n            <MenuItem\n              onClick={async () => {\n                await addRoseToken()\n              }}\n              icon={\n                <Icon viewBox=\"0 0 180 150\">\n                  <text fontSize=\"180px\" y=\"89%\">\n                    \n                  </text>\n                </Icon>\n              }\n            >\n              ROSE\n            </MenuItem>\n            <MenuItem\n              icon={\n                <Icon viewBox=\"0 0 180 150\">\n                  <text fontSize=\"180px\" y=\"89%\">\n                    \n                  </text>\n                </Icon>\n              }\n              onClick={async () => await addStRoseToken()}\n            >\n              stROSE\n            </MenuItem>\n          </MenuGroup>\n        </MenuList>\n      </Menu>\n    </div>\n  )\n}\n","import { AppDispatch, AppState } from \"../state\"\nimport { BsMoon, BsSun } from \"react-icons/bs\"\nimport { IconButton, useColorMode } from \"@chakra-ui/react\"\nimport React, { ReactElement, useEffect } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\n\nimport { updateDarkMode } from \"../state/user\"\n\nconst ThemeChanger = (): ReactElement => {\n  const dispatch = useDispatch<AppDispatch>()\n  const { colorMode, toggleColorMode } = useColorMode()\n  const { userDarkMode } = useSelector((state: AppState) => state.user)\n\n  useEffect(() => {\n    if (userDarkMode) {\n      document.body.classList.add(\"dark\")\n    } else {\n      document.body.classList.remove(\"dark\")\n    }\n  }, [userDarkMode])\n\n  return (\n    <IconButton\n      aria-label=\"Change Theme\"\n      variant=\"outline\"\n      size=\"md\"\n      icon={userDarkMode ? <BsSun /> : <BsMoon />}\n      title=\"Connected Network\"\n      marginLeft=\"10px\"\n      onClick={(): void => {\n        dispatch(updateDarkMode(!userDarkMode))\n        if (\n          (userDarkMode && colorMode === \"dark\") ||\n          (!userDarkMode && colorMode === \"light\")\n        ) {\n          toggleColorMode()\n        }\n      }}\n    />\n  )\n}\n\nexport default ThemeChanger\n","import React, { ReactElement } from \"react\"\nimport useCopyClipboard from \"../hooks/useCopyClipboard\"\n\nexport default function CopyHelper(props: {\n  toCopy: string\n  children?: React.ReactNode\n}): ReactElement {\n  const [isCopied, setCopied] = useCopyClipboard()\n\n  return (\n    <button className=\"textStyle\" onClick={() => setCopied(props.toCopy)}>\n      {isCopied ? (\n        <>\n          {/* Shows check icon after copied */}\n          <svg\n            width=\"16\"\n            height=\"16\"\n            viewBox=\"0 0 16 16\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"buttonGroupIcon\"\n          >\n            <path d=\"M13.4063 4L12.7 4.7125C10.7532 6.66354 8.67606 8.87808 6.73125 10.8563L4.04375 8.64376L3.26875 8.00625L2 9.55L2.76875 10.1875L6.16875 12.9875L6.875 13.5687L7.5125 12.925C9.6663 10.7666 11.9996 8.24244 14.1125 6.125L14.8188 5.4125L13.4063 4V4Z\" />\n          </svg>\n          <span className=\"textStyle\">Copied!</span>\n        </>\n      ) : (\n        // Shows copy icon when isCopied = false\n        <svg\n          width=\"16\"\n          height=\"16\"\n          viewBox=\"0 0 16 16\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className=\"buttonGroupIcon\"\n        >\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M5.99998 2H12.6667C13.4 2 14 2.6 14 3.33333V10C14 10.7333 13.4 11.3333 12.6667 11.3333H11.2667V12.1333C11.2667 13.1274 10.4608 13.9333 9.46665 13.9333H3.86665C2.87254 13.9333 2.06665 13.1274 2.06665 12.1333V6.53333C2.06665 5.53922 2.87254 4.73333 3.86665 4.73333H4.66665V3.33333C4.66665 2.6 5.25998 2 5.99998 2ZM4.66665 5.93333H3.86665C3.53528 5.93333 3.26665 6.20196 3.26665 6.53333V12.1333C3.26665 12.4647 3.53528 12.7333 3.86665 12.7333H9.46665C9.79802 12.7333 10.0667 12.4647 10.0667 12.1333V11.3333H5.99998C5.25998 11.3333 4.66665 10.7333 4.66665 10V5.93333ZM5.99998 10H12.6667V3.33333H5.99998V10Z\"\n          />\n        </svg>\n      )}\n      {isCopied ? \"\" : props.children}\n    </button>\n  )\n}\n","import { useCallback, useEffect, useState } from \"react\"\nimport copy from \"copy-to-clipboard\"\n\nexport default function useCopyClipboard(\n  timeout = 500,\n): [boolean, (toCopy: string) => void] {\n  const [isCopied, setIsCopied] = useState(false)\n  const staticCopy = useCallback((text) => {\n    const didCopy = copy(text)\n    setIsCopied(didCopy)\n  }, [])\n\n  useEffect(() => {\n    if (isCopied) {\n      const hide = setTimeout(() => {\n        setIsCopied(false)\n      }, timeout)\n\n      return () => {\n        clearTimeout(hide)\n      }\n    }\n    return undefined\n  }, [isCopied, setIsCopied, timeout])\n\n  return [isCopied, staticCopy]\n}\n","import React, { ReactElement, useEffect, useRef } from \"react\"\n\nimport Jazzicon from \"@metamask/jazzicon\"\nimport styled from \"@emotion/styled\"\nimport { useActiveWeb3React } from \"../hooks\"\n\nconst StyledIdenticonContainer = styled.div`\n  height: 24px;\n  width: 24px;\n  border-radius: 1.125rem;\n  display: inline-block;\n  vertical-align: text-bottom;\n`\n\nexport default function Identicon(): ReactElement {\n  const ref = useRef<HTMLDivElement>()\n\n  const { account } = useActiveWeb3React()\n\n  useEffect(() => {\n    if (account && ref.current) {\n      ref.current.innerHTML = \"\"\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n      ref.current.appendChild(Jazzicon(24, parseInt(account.slice(2, 10), 16)))\n    }\n  }, [account])\n\n  // https://github.com/DefinitelyTyped/DefinitelyTyped/issues/30451\n  return (\n    <StyledIdenticonContainer ref={ref as React.RefObject<HTMLDivElement>} />\n  )\n}\n","import { isAddress } from \"./index\"\n\nexport function shortenAddress(address: string, chars = 4): string {\n  const parsed = isAddress(address)\n  if (!parsed) {\n    throw Error(`Invalid 'address' parameter '${address}'.`)\n  }\n  return `${parsed.substring(0, chars + 2)}...${parsed.substring(42 - chars)}`\n}\n","import { useEffect, useRef } from \"react\"\n\n// Source: https://github.com/austintgriffith/eth-hooks/blob/master/src/Poller.ts\n\nconst usePoller = (fn: () => void, delay: number): void => {\n  const savedCallback = useRef<() => void>()\n\n  // Remember the latest fn.\n  useEffect((): void => {\n    savedCallback.current = fn\n  }, [fn])\n\n  // Set up the interval.\n  useEffect((): void | (() => void) => {\n    // eslint-disable-next-line @typescript-eslint/explicit-function-return-type\n    function tick() {\n      if (savedCallback.current) savedCallback.current()\n    }\n\n    if (delay !== null) {\n      const id = setInterval(tick, delay)\n      // eslint-disable-next-line @typescript-eslint/explicit-function-return-type\n      return () => clearInterval(id)\n    }\n  }, [delay])\n\n  // run at start too\n  useEffect(() => {\n    fn()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n}\n\nexport default usePoller\n","import {\n  BLOCK_TIME,\n  ChainId,\n  LP_TOKEN_MAP,\n  ROSE_TOKENS_MAP,\n  TOKENS_MAP,\n  TokensMap,\n} from \"../../constants\"\nimport { Contract, Provider } from \"ethcall\"\nimport { MulticallContract, MulticallProvider } from \"../../types/ethcall\"\n\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport ERC20_ABI from \"../../constants/abis/erc20.json\"\nimport { Erc20 } from \"../../../types/ethers-contracts/Erc20\"\nimport { useActiveWeb3React } from \"../../hooks\"\nimport usePoller from \"../../hooks/usePoller\"\nimport { useState } from \"react\"\n\nconst useTokenBalancesHelper = (\n  tokenMap: TokensMap,\n): { [token: string]: BigNumber } | null => {\n  const { account, chainId, library } = useActiveWeb3React()\n  const [balances, setBalances] = useState<{ [token: string]: BigNumber }>({})\n\n  const ethcallProvider = new Provider() as MulticallProvider\n\n  usePoller((): void => {\n    async function pollBalances(): Promise<void> {\n      if (!library || !chainId || !account) return\n\n      await ethcallProvider.init(library)\n      // override the contract address when using aurora\n      if (chainId == ChainId.AURORA_TESTNET) {\n        ethcallProvider.multicallAddress =\n          \"0x508B1508AAd923fB24F6d13cD74Ac640fD8B66E8\"\n      } else if (chainId == ChainId.AURORA_MAINNET) {\n        ethcallProvider.multicallAddress =\n          \"0x49eb1F160e167aa7bA96BdD88B6C1f2ffda5212A\"\n      }\n\n      const tokens = Object.values(tokenMap)\n      const balanceCalls = tokens\n        .map((t) => {\n          return new Contract(\n            t.addresses[chainId],\n            ERC20_ABI,\n          ) as MulticallContract<Erc20>\n        })\n        .map((c) => c.balanceOf(account))\n      try {\n        const balances = await ethcallProvider.all(balanceCalls, \"latest\")\n        const ethBalance = await library.getBalance(account)\n        setBalances(\n          tokens.reduce(\n            (acc, t, i) => ({\n              ...acc,\n              [t.symbol]: balances[i],\n            }),\n            { ETH: ethBalance },\n          ),\n        )\n      } catch (e) {\n        console.error(e)\n      }\n    }\n    if (account) {\n      void pollBalances()\n    }\n  }, BLOCK_TIME)\n\n  return balances\n}\n\nexport function usePoolTokenBalances(): { [token: string]: BigNumber } | null {\n  return useTokenBalancesHelper(TOKENS_MAP)\n}\n\nexport function useRoseTokenBalances(): { [token: string]: BigNumber } | null {\n  return useTokenBalancesHelper(ROSE_TOKENS_MAP)\n}\n\nexport function useFarmLPTokenBalances(): {\n  [token: string]: BigNumber\n} | null {\n  const balances = useTokenBalancesHelper(LP_TOKEN_MAP)\n  delete balances?.ETH\n  return balances\n}\n","import \"./AccountDetails.scss\"\n\nimport React, { ReactElement } from \"react\"\nimport { commify, formatBNToString } from \"../utils\"\nimport Copy from \"./Copy\"\nimport Identicon from \"./Identicon\"\nimport { SUPPORTED_WALLETS } from \"../constants\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { find } from \"lodash\"\nimport { getEtherscanLink } from \"../utils/getEtherscanLink\"\nimport { shortenAddress } from \"../utils/shortenAddress\"\nimport { useActiveWeb3React } from \"../hooks\"\nimport { useRoseTokenBalances } from \"../state/wallet/hooks\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  openOptions: () => void\n}\n\nexport default function AccountDetail({ openOptions }: Props): ReactElement {\n  const { t } = useTranslation()\n  const { account, connector } = useActiveWeb3React()\n  const tokenBalances = useRoseTokenBalances()\n  const roseBalanceFormatted = commify(\n    formatBNToString(tokenBalances?.ROSE || Zero, 18, 5),\n  )\n\n  const connectorName = find(SUPPORTED_WALLETS, [\"connector\", connector])?.name\n\n  return (\n    <div className=\"accountDetail\">\n      <div className=\"upperSection\">\n        <h3 className=\"accountTitle\">{t(\"account\")}</h3>\n        <div className=\"accountControl\">\n          <span className=\"label\">\n            {t(\"connectedWith\")}&nbsp;\n            {connectorName}\n          </span>\n          <span className=\"label\">{t(\"balance\")}</span>\n          <div className=\"data\">\n            <Identicon />\n            <span className=\"address\">\n              {account && shortenAddress(account)}\n            </span>\n            {account && (\n              <a\n                href={getEtherscanLink(account, \"address\")}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                {/* link icon */}\n                <svg\n                  width=\"16\"\n                  height=\"16\"\n                  viewBox=\"0 0 16 16\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <path d=\"M11.6667 11.6667H4.33333V4.33333H8V3H4.33333C3.59333 3 3 3.6 3 4.33333V11.6667C3 12.4 3.59333 13 4.33333 13H11.6667C12.4 13 13 12.4 13 11.6667V8H11.6667V11.6667ZM9.33333 2V3.33333H11.7267L6.17333 8.88667L7.11333 9.82667L12.6667 4.27333V6.66667H14V2H9.33333Z\" />\n                </svg>\n              </a>\n            )}\n          </div>\n          <span className=\"data\">{roseBalanceFormatted}</span>\n          <div className=\"buttonGroup\">\n            {account && (\n              <Copy toCopy={account}>\n                <span className=\"textStyle\">{t(\"copyAddress\")}</span>\n              </Copy>\n            )}\n          </div>\n          <div className=\"buttonGroup\">\n            <button\n              className=\"textStyle\"\n              onClick={() => {\n                openOptions()\n              }}\n            >\n              {/* change Icon */}\n              <svg\n                width=\"16\"\n                height=\"16\"\n                viewBox=\"0 0 16 16\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"buttonGroupIcon\"\n              >\n                <g clipPath=\"url(#clip0)\">\n                  <path d=\"M6.07194 14.0719C6.19014 14.1901 6.35016 14.2568 6.5168 14.2574C6.68343 14.2579 6.84304 14.1922 6.9605 14.0747L13.2552 7.78006L13.2659 11.2235C13.2693 11.3883 13.3372 11.5455 13.4551 11.6613C13.573 11.7772 13.7313 11.8424 13.8961 11.8429C14.0608 11.8434 14.2188 11.7792 14.3359 11.6641C14.453 11.549 14.52 11.3922 14.5223 11.2274L14.5065 6.26722C14.5061 6.14303 14.4688 6.02154 14.3995 5.91808C14.3301 5.81462 14.2318 5.73384 14.1169 5.68595C14.0021 5.63805 13.8758 5.62518 13.754 5.64897C13.6323 5.67275 13.5206 5.73212 13.433 5.81959L6.06916 13.1834C5.9517 13.3008 5.88601 13.4605 5.88653 13.6271C5.88705 13.7937 5.95374 13.9537 6.07194 14.0719ZM10.2919 2.6785L2.92808 10.0423C2.84046 10.1298 2.72873 10.1891 2.60699 10.2129C2.48525 10.2367 2.35897 10.2238 2.24409 10.1759C2.12922 10.128 2.0309 10.0473 1.96156 9.9438C1.89221 9.84034 1.85496 9.71885 1.85449 9.59466L1.83869 4.63443C1.83698 4.55101 1.8519 4.46819 1.88258 4.3908C1.91326 4.31341 1.95908 4.243 2.01737 4.18368C2.07566 4.12435 2.14526 4.07731 2.2221 4.04529C2.29894 4.01327 2.38148 3.99691 2.46491 3.99717C2.54833 3.99743 2.63098 4.01431 2.70802 4.04681C2.78506 4.07931 2.85495 4.12679 2.91362 4.18648C2.97228 4.24616 3.01854 4.31686 3.04971 4.39445C3.08087 4.47203 3.0963 4.55495 3.09512 4.63836L3.10588 8.08182L9.40054 1.78716C9.518 1.6697 9.6776 1.604 9.84424 1.60452C10.0109 1.60505 10.1709 1.67174 10.2891 1.78994C10.4073 1.90814 10.474 2.06816 10.4745 2.23479C10.475 2.40143 10.4093 2.56103 10.2919 2.6785Z\" />\n                </g>\n                <defs>\n                  <clipPath id=\"clip0\">\n                    <rect width=\"16\" height=\"16\" />\n                  </clipPath>\n                </defs>\n              </svg>\n              {t(\"changeAccount\")}\n            </button>\n          </div>\n        </div>\n      </div>\n      {/* TO-DO: REPLACE THIS WITH OUR SUBGRAPH */}\n      {/* <div className=\"lowerSection\">\n        <Transactions />\n      </div> */}\n    </div>\n  )\n}\n","import { Metric } from \"web-vitals\"\n\nexport function logEvent(name: string, params: Record<string, unknown>): void {\n  // gtag is only loaded in index.html when NODE_ENV is set to production, so check if it's a function\n  if (typeof window.gtag === \"function\") {\n    window.gtag(\"event\", name, params)\n  } else {\n    console.debug(`Logging event ${name} with parameters:`, params)\n  }\n}\n\nexport function logError(error: ErrorEvent): void {\n  logEvent(\"exception\", {\n    description: `${error.message} @ ${error.filename}:${error.lineno}:${error.colno}`,\n    fatal: true,\n  })\n}\n\n// See: https://github.com/GoogleChrome/web-vitals#using-gtagjs-google-analytics-4\nexport function sendWebVitalsToGA({ name, delta, value, id }: Metric): void {\n  logEvent(name, {\n    // Use the metric delta as the event's value parameter.\n    value: delta,\n    // Everything below is a custom event parameter.\n    web_vitals_metric_id: id, // Needed to aggregate events.\n    web_vitals_metric_value: value, // Optional\n    // Any additional params or metadata (e.g. debug information) can be\n    // set here as well, within the following limitations:\n    // https://support.google.com/analytics/answer/9267744\n  })\n}\n","import \"./ConnectWallet.scss\"\n\nimport React, { ReactElement } from \"react\"\nimport { UnsupportedChainIdError, useWeb3React } from \"@web3-react/core\"\nimport { SUPPORTED_WALLETS } from \"../constants\"\nimport { logEvent } from \"../utils/googleAnalytics\"\nimport { map } from \"lodash\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  onClose: () => void\n}\n\nfunction ConnectWallet({ onClose }: Props): ReactElement {\n  const { t } = useTranslation()\n  const { activate } = useWeb3React()\n\n  return (\n    <div className=\"connectWallet\">\n      <h3>{t(\"connectWallet\")}</h3>\n      <div className=\"walletList\">\n        {map(SUPPORTED_WALLETS, (wallet, index) => (\n          <button\n            key={index}\n            onClick={(): void => {\n              activate(wallet.connector, undefined, true).catch((error) => {\n                if (error instanceof UnsupportedChainIdError) {\n                  void activate(wallet.connector) // a little janky...can't use setError because the connector isn't set\n                } else {\n                  // TODO: handle error\n                }\n              })\n              logEvent(\"change_wallet\", { name: wallet.name })\n              onClose()\n            }}\n          >\n            <span>{wallet.name}</span>\n            <img src={wallet.icon} alt=\"icon\" className=\"icon\" />\n          </button>\n        ))}\n      </div>\n      <p>\n        {t(\"dontHaveWallet\") + \" \"}\n        <a href=\"https://ethereum.org/en/wallets/\" target=\"blank\">\n          {t(\"getWallet\")}\n        </a>\n      </p>\n    </div>\n  )\n}\n\nexport default ConnectWallet\n","import \"./Modal.scss\"\n\nimport React, { ReactElement, ReactNode } from \"react\"\n\ninterface Props {\n  isOpen: boolean\n  onClose: () => void\n  children: ReactNode\n  height?: string\n}\n\nfunction Modal({ isOpen, onClose, children }: Props): ReactElement | null {\n  if (!isOpen) return null\n  else\n    return (\n      // Modal container, provide the dark background\n      <div\n        className=\"modal\"\n        onClick={(e: React.MouseEvent<HTMLSpanElement, MouseEvent>): void => {\n          if (e.target === e.currentTarget) {\n            onClose()\n          }\n        }}\n      >\n        {/* Modal content */}\n        <div className=\"modalContent\">\n          <span\n            className=\"close\"\n            onClick={(\n              e: React.MouseEvent<HTMLSpanElement, MouseEvent>,\n            ): void => {\n              e.stopPropagation()\n              onClose()\n            }}\n          >\n            &times;\n          </span>\n          {children}\n        </div>\n      </div>\n    )\n}\n\nexport default Modal\n","import React, { ReactElement } from \"react\"\nimport { Button } from \"@chakra-ui/react\"\nimport { SUPPORTED_CHAINS } from \"../constants\"\nimport styles from \"./SupportedChains.module.scss\"\nimport useAddNetworkToMetamask from \"../hooks/useAddNetworkToMetamask\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  openOptions: () => void\n}\n\nexport default function SupportedChains({ openOptions }: Props): ReactElement {\n  const { t } = useTranslation()\n  const addNetwork = useAddNetworkToMetamask()\n  return (\n    <div className={styles.supportedChains}>\n      <h3>{t(\"supportedChains\")}</h3>\n      <h5>{t(\"supportedChainsDescription\")}</h5>\n      <div className={styles.chainList}>\n        {Object.entries(SUPPORTED_CHAINS).map(([key, val], index) => (\n          <div key={index} className={styles.chain}>\n            <div className={styles.chainInfo}>\n              <h4>{val.name}</h4>\n              <span>{key}</span>\n            </div>\n            <div className={styles.chainInfo}>\n              <p>\n                <i>{val.rpc}</i>\n              </p>\n              <div className={styles.addNetwork}>\n                <Button\n                  variant=\"light\"\n                  size=\"md\"\n                  width=\"150px\"\n                  onClick={() => addNetwork(+key)}\n                >\n                  {t(\"addToWallet\")}\n                </Button>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n      <button\n        className={styles.textStyle}\n        onClick={() => {\n          openOptions()\n        }}\n      >\n        {/* change Icon */}\n        <svg\n          width=\"16\"\n          height=\"16\"\n          viewBox=\"0 0 16 16\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className={styles.buttonGroupIcon}\n        >\n          <g clipPath=\"url(#clip1)\">\n            <path d=\"M6.07194 14.0719C6.19014 14.1901 6.35016 14.2568 6.5168 14.2574C6.68343 14.2579 6.84304 14.1922 6.9605 14.0747L13.2552 7.78006L13.2659 11.2235C13.2693 11.3883 13.3372 11.5455 13.4551 11.6613C13.573 11.7772 13.7313 11.8424 13.8961 11.8429C14.0608 11.8434 14.2188 11.7792 14.3359 11.6641C14.453 11.549 14.52 11.3922 14.5223 11.2274L14.5065 6.26722C14.5061 6.14303 14.4688 6.02154 14.3995 5.91808C14.3301 5.81462 14.2318 5.73384 14.1169 5.68595C14.0021 5.63805 13.8758 5.62518 13.754 5.64897C13.6323 5.67275 13.5206 5.73212 13.433 5.81959L6.06916 13.1834C5.9517 13.3008 5.88601 13.4605 5.88653 13.6271C5.88705 13.7937 5.95374 13.9537 6.07194 14.0719ZM10.2919 2.6785L2.92808 10.0423C2.84046 10.1298 2.72873 10.1891 2.60699 10.2129C2.48525 10.2367 2.35897 10.2238 2.24409 10.1759C2.12922 10.128 2.0309 10.0473 1.96156 9.9438C1.89221 9.84034 1.85496 9.71885 1.85449 9.59466L1.83869 4.63443C1.83698 4.55101 1.8519 4.46819 1.88258 4.3908C1.91326 4.31341 1.95908 4.243 2.01737 4.18368C2.07566 4.12435 2.14526 4.07731 2.2221 4.04529C2.29894 4.01327 2.38148 3.99691 2.46491 3.99717C2.54833 3.99743 2.63098 4.01431 2.70802 4.04681C2.78506 4.07931 2.85495 4.12679 2.91362 4.18648C2.97228 4.24616 3.01854 4.31686 3.04971 4.39445C3.08087 4.47203 3.0963 4.55495 3.09512 4.63836L3.10588 8.08182L9.40054 1.78716C9.518 1.6697 9.6776 1.604 9.84424 1.60452C10.0109 1.60505 10.1709 1.67174 10.2891 1.78994C10.4073 1.90814 10.474 2.06816 10.4745 2.23479C10.475 2.40143 10.4093 2.56103 10.2919 2.6785Z\" />\n          </g>\n          <defs>\n            <clipPath id=\"clip1\">\n              <rect width=\"16\" height=\"16\" />\n            </clipPath>\n          </defs>\n        </svg>\n        {t(\"changeAccount\")}\n      </button>\n    </div>\n  )\n}\n","// TODO: create types\n/* eslint @typescript-eslint/no-unsafe-member-access: 0 */\nimport { SUPPORTED_CHAINS, SupportedChains } from \"../constants\"\nimport { toHex } from \"../utils\"\nimport { useCallback } from \"react\"\n\nexport default function useAddNetworkToMetamask(): (\n  chainId: SupportedChains,\n) => void {\n  const { ethereum } = window\n\n  const addNetwork = useCallback(\n    async (chainId: SupportedChains) => {\n      if (ethereum) {\n        try {\n          await ethereum.request({\n            method: \"wallet_switchEthereumChain\",\n            params: [\n              {\n                chainId: toHex(chainId),\n              },\n            ],\n          })\n          // eslint-disable-next-line\n        } catch (error: any) {\n          // This error code indicates that the chain has not been added to MetaMask.\n          if (error.code === 4902) {\n            await ethereum.request({\n              method: \"wallet_addEthereumChain\",\n              params: [\n                {\n                  chainId: toHex(chainId),\n                  chainName: SUPPORTED_CHAINS[chainId].name,\n                  rpcUrls: [SUPPORTED_CHAINS[chainId].rpc],\n                },\n              ],\n            })\n          }\n        }\n      }\n    },\n    [ethereum],\n  )\n\n  return addNetwork\n}\n","import \"./Web3Status.scss\"\n\nimport { Box, Button, Flex, Icon, useBreakpointValue } from \"@chakra-ui/react\"\nimport { FaExclamationTriangle, FaWallet } from \"react-icons/fa\"\nimport React, { ReactElement, useEffect, useState } from \"react\"\nimport AccountDetails from \"./AccountDetails\"\nimport { AppState } from \"../state\"\nimport { ChainId } from \"../constants\"\nimport ConnectWallet from \"./ConnectWallet\"\nimport { IconButtonPopover } from \"./Popover\"\nimport Identicon from \"./Identicon\"\nimport Modal from \"./Modal\"\nimport SupportedChains from \"./SupportedChains\"\nimport { injected } from \"../connectors\"\nimport { useSelector } from \"react-redux\"\nimport { useTranslation } from \"react-i18next\"\nimport { useWeb3React } from \"@web3-react/core\"\n\nconst WALLET_VIEWS = {\n  OPTIONS: \"options\",\n  ACCOUNT: \"account\",\n}\n\nfunction chainIdToName(chainId: number | undefined) {\n  if (typeof chainId == undefined) {\n    return \"\"\n  }\n  switch (chainId) {\n    case ChainId.AURORA_TESTNET:\n      return \"Aurora Testnet\"\n    case ChainId.AURORA_MAINNET:\n      return \"Aurora\"\n    default:\n      return \"Unknown Network\"\n  }\n}\n\nconst Web3Status = (): ReactElement => {\n  const { account, chainId, error } = useWeb3React()\n  const [modalOpen, setModalOpen] = useState(false)\n  const [walletConnected, setWalletConnected] = useState(false)\n  void injected.isAuthorized().then((isAuthorized) => {\n    setWalletConnected(isAuthorized)\n  })\n  const [walletView, setWalletView] = useState(WALLET_VIEWS.ACCOUNT)\n  const { t } = useTranslation()\n  const { userDarkMode } = useSelector((state: AppState) => state.user)\n  const variant = useBreakpointValue({ base: \"primary\", lg: \"outline\" })\n  const padding = useBreakpointValue({ base: \"20px\", lg: \"16px\" })\n  const color = useBreakpointValue({ base: \"white\", lg: \"inherit\" })\n\n  // always reset to account view\n  useEffect(() => {\n    if (modalOpen) {\n      setWalletView(WALLET_VIEWS.ACCOUNT)\n    }\n  }, [modalOpen])\n\n  return (\n    <div className=\"walletStatus\">\n      {account ? (\n        <IconButtonPopover\n          IconButtonProps={{\n            \"aria-label\": \"Connected Network\",\n            variant: \"outline\",\n            size: \"md\",\n            title: chainIdToName(chainId),\n            marginRight: \"10px\",\n            icon: (\n              <Icon viewBox=\"-5 -1 37 37\">\n                <path\n                  d=\"M15 2.292a3.317 3.317 0 012.981 1.841l9.375 18.75a3.333 3.333 0 01-2.981 4.825H5.625a3.333 3.333 0 01-2.98-4.825l9.374-18.75A3.317 3.317 0 0115 2.292M15 0a5.625 5.625 0 00-5.031 3.108L.594 21.858A5.625 5.625 0 005.625 30h18.75a5.625 5.625 0 005.03-8.142l-9.374-18.75A5.625 5.625 0 0015 0z\"\n                  stroke={userDarkMode ? \"rgba(120,214,75)\" : \"rgba(70,164,25)\"}\n                  fill={userDarkMode ? \"rgba(120,214,75)\" : \"rgba(70,164,25)\"}\n                />\n              </Icon>\n            ),\n          }}\n          PopoverBodyContent={\n            <Flex flexDirection=\"column\">\n              <Flex justifyContent=\"space-between\" fontSize=\"15px\">\n                You are connected on the\n              </Flex>\n              <Flex\n                fontSize=\"21px\"\n                fontWeight=\"700\"\n                alignItems=\"center\"\n                marginTop=\"5px\"\n              >\n                <Box>{chainIdToName(chainId)} Network &nbsp;</Box>\n                <Icon viewBox=\"-5 -1 37 37\">\n                  <path\n                    d=\"M15 2.292a3.317 3.317 0 012.981 1.841l9.375 18.75a3.333 3.333 0 01-2.981 4.825H5.625a3.333 3.333 0 01-2.98-4.825l9.374-18.75A3.317 3.317 0 0115 2.292M15 0a5.625 5.625 0 00-5.031 3.108L.594 21.858A5.625 5.625 0 005.625 30h18.75a5.625 5.625 0 005.03-8.142l-9.374-18.75A5.625 5.625 0 0015 0z\"\n                    stroke={\n                      userDarkMode ? \"rgba(120,214,75)\" : \"rgba(70,164,25)\"\n                    }\n                    fill={userDarkMode ? \"rgba(120,214,75)\" : \"rgba(70,164,25)\"}\n                  />\n                </Icon>\n              </Flex>\n            </Flex>\n          }\n        />\n      ) : null}\n      <Button\n        variant={variant}\n        lineHeight=\"unset\"\n        size=\"md\"\n        p={padding}\n        color={color}\n        onClick={(): void => setModalOpen(true)}\n        rightIcon={\n          account ? (\n            <Identicon />\n          ) : error || walletConnected ? (\n            <FaExclamationTriangle size=\"20px\" />\n          ) : (\n            <FaWallet size=\"20px\" />\n          )\n        }\n      >\n        {account ? (\n          <span className=\"userAddress\">\n            {account.substring(0, 6)}...\n            {account.substring(account.length - 4, account.length)}\n          </span>\n        ) : error || walletConnected ? (\n          t(\"unsupported\")\n        ) : (\n          t(\"connectWallet\")\n        )}\n      </Button>\n      <Modal isOpen={modalOpen} onClose={(): void => setModalOpen(false)}>\n        {account && walletView === WALLET_VIEWS.ACCOUNT ? (\n          <AccountDetails\n            openOptions={() => setWalletView(WALLET_VIEWS.OPTIONS)}\n          />\n        ) : (error || walletConnected) &&\n          walletView !== WALLET_VIEWS.OPTIONS ? (\n          <SupportedChains\n            openOptions={() => setWalletView(WALLET_VIEWS.OPTIONS)}\n          />\n        ) : (\n          <ConnectWallet onClose={(): void => setModalOpen(false)} />\n        )}\n      </Modal>\n    </div>\n  )\n}\n\nexport default Web3Status\n","import \"./TopMenu.scss\"\n\nimport {\n  Box,\n  IconButton,\n  Menu,\n  MenuButton,\n  MenuDivider,\n  MenuGroup,\n  MenuItem,\n  MenuList,\n  useColorModeValue,\n} from \"@chakra-ui/react\"\nimport {\n  BsArrowLeftRight,\n  BsMedium,\n  BsRainbow,\n  BsReceipt,\n} from \"react-icons/bs\"\nimport { CloseIcon, HamburgerIcon } from \"@chakra-ui/icons\"\nimport {\n  FaChartPie,\n  FaDiscord,\n  FaGift,\n  FaGithub,\n  FaHandHoldingUsd,\n  FaRegCircle,\n  FaTelegram,\n  FaTwitter,\n} from \"react-icons/fa\"\nimport React, { ReactElement } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport RosePriceButton from \"./RosePriceButton\"\nimport ThemeChanger from \"./ThemeChanger\"\nimport Web3Status from \"./Web3Status\"\nimport classNames from \"classnames\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  activeTab: string\n}\n\nfunction TopMenu({ activeTab }: Props): ReactElement {\n  const { t } = useTranslation()\n  const menuColor = useColorModeValue(\"#fff\", \"rgb(28, 29, 33)\")\n\n  return (\n    <header className=\"top\">\n      <h1>\n        <Link to=\"/\">Rose</Link>\n      </h1>\n      <div style={{ zIndex: 3, display: \"flex\" }}>\n        <Menu>\n          {({ isOpen }) => (\n            <>\n              <MenuButton\n                isActive={isOpen}\n                as={IconButton}\n                aria-label=\"Open Menu\"\n                display={{ lg: \"none\" }}\n                variant=\"outline\"\n                lineHeight=\"unset\"\n              >\n                {isOpen ? <CloseIcon /> : <HamburgerIcon />}\n              </MenuButton>\n              <MenuList bg={menuColor}>\n                <MenuGroup title=\"Pages\">\n                  <MenuItem\n                    icon={<BsArrowLeftRight />}\n                    as={Link}\n                    to=\"/\"\n                    margin=\"0\"\n                  >\n                    {t(\"swap\")}\n                  </MenuItem>\n                  <MenuItem\n                    icon={<FaChartPie />}\n                    as={Link}\n                    to=\"/pools\"\n                    margin=\"0\"\n                  >\n                    {t(\"pools\")}\n                  </MenuItem>\n                  <MenuItem icon={<FaGift />} as={Link} to=\"/farms\" margin=\"0\">\n                    {t(\"farms\")}\n                  </MenuItem>\n                  <MenuItem\n                    icon={<BsReceipt />}\n                    as={Link}\n                    to=\"/stake\"\n                    margin=\"0\"\n                  >\n                    {t(\"stake\")}\n                  </MenuItem>\n                  <MenuItem\n                    icon={<FaHandHoldingUsd />}\n                    as={Link}\n                    to=\"/borrow\"\n                    margin=\"0\"\n                  >\n                    {t(\"borrow\")}\n                  </MenuItem>\n                </MenuGroup>\n                <MenuDivider />\n                <MenuGroup title=\"Bridges\">\n                  <MenuItem\n                    icon={<BsRainbow />}\n                    href=\"https://rainbowbridge.app/transfer\"\n                    as=\"a\"\n                    margin=\"0\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                  >\n                    Rainbow Bridge\n                  </MenuItem>\n                  <MenuItem\n                    icon={<FaRegCircle />}\n                    href=\"https://app.allbridge.io/bridge\"\n                    as=\"a\"\n                    margin=\"0\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                  >\n                    Allbridge\n                  </MenuItem>\n                </MenuGroup>\n                <MenuDivider />\n                <MenuGroup title=\"Socials\">\n                  <MenuItem\n                    icon={<FaTwitter />}\n                    href=\"https://twitter.com/roseonaurora\"\n                    as=\"a\"\n                    margin=\"0\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                  >\n                    Twitter\n                  </MenuItem>\n                  <MenuItem\n                    icon={<BsMedium />}\n                    href=\"https://medium.com/@roseonaurora\"\n                    as=\"a\"\n                    margin=\"0\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                  >\n                    Medium\n                  </MenuItem>\n                  <MenuItem\n                    icon={<FaTelegram />}\n                    href=\"https://t.me/RoseOnAurora\"\n                    as=\"a\"\n                    margin=\"0\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                  >\n                    Telegram\n                  </MenuItem>\n                  <MenuItem\n                    icon={<FaDiscord />}\n                    href=\"https://discord.gg/dG6mWH4rHj\"\n                    as=\"a\"\n                    margin=\"0\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                  >\n                    Discord\n                  </MenuItem>\n                  <MenuItem\n                    icon={<FaGithub />}\n                    href=\"https://github.com/RoseOnAurora\"\n                    as=\"a\"\n                    margin=\"0\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                  >\n                    Github\n                  </MenuItem>\n                </MenuGroup>\n              </MenuList>\n            </>\n          )}\n        </Menu>\n        <Box display={{ lg: \"none\" }}>\n          <ThemeChanger />\n        </Box>\n      </div>\n      <ul className=\"nav\">\n        <li>\n          <Link to=\"/\" className={classNames({ active: activeTab === \"swap\" })}>\n            {t(\"swap\")}\n          </Link>\n        </li>\n        <li>\n          <Link\n            to=\"/pools\"\n            className={classNames({\n              active:\n                activeTab === \"pools\" ||\n                activeTab === \"deposit\" ||\n                activeTab === \"withdraw\",\n            })}\n          >\n            {t(\"pools\")}\n          </Link>\n        </li>\n        <li>\n          <Link\n            to=\"/farms\"\n            className={classNames({\n              active: activeTab === \"farms\" || activeTab === \"farm\",\n            })}\n          >\n            {t(\"farms\")}\n          </Link>\n        </li>\n        <li>\n          <Link\n            to=\"/stake\"\n            className={classNames({\n              active: activeTab === \"stake\",\n              // add additional checks here in case stake will require subpages\n            })}\n          >\n            {t(\"stake\")}\n          </Link>\n        </li>\n        <li>\n          <Link\n            to=\"/borrow\"\n            className={classNames({\n              active: activeTab === \"borrow\",\n            })}\n          >\n            {t(\"borrow\")}\n          </Link>\n        </li>\n        <li>\n          <Menu>\n            <MenuButton>\n              <Link to=\"#\">Bridge</Link>\n            </MenuButton>\n            <MenuList bg={useColorModeValue(\"#fff\", \"rgb(28, 29, 33)\")}>\n              <MenuGroup>\n                <MenuItem>\n                  <a\n                    href=\"https://rainbowbridge.app/transfer\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                  >\n                    Rainbow Bridge\n                  </a>\n                </MenuItem>\n                <MenuItem>\n                  <a\n                    href=\"https://app.allbridge.io/bridge\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                  >\n                    Allbridge\n                  </a>\n                </MenuItem>\n              </MenuGroup>\n            </MenuList>\n          </Menu>\n        </li>\n      </ul>\n      <div className=\"topMenuBar\">\n        <RosePriceButton />\n        <Web3Status />\n        <ThemeChanger />\n      </div>\n    </header>\n  )\n}\n\nexport default TopMenu\n","import { Box, Container } from \"@chakra-ui/react\"\nimport React, { ReactElement } from \"react\"\nimport BottomMenu from \"../BottomMenu\"\nimport TopMenu from \"../TopMenu\"\n\nconst PageWrapper = ({\n  children,\n  activeTab,\n  maxW = \"1095px\",\n}: React.PropsWithChildren<unknown> & {\n  activeTab: string\n  maxW?: string\n}): ReactElement => {\n  return (\n    <>\n      <Box\n        minH=\"100vh\"\n        bg=\"var(--background-main)\"\n        color=\"var(--text)\"\n        fontSize=\"16px\"\n        pb=\"300px\"\n      >\n        <TopMenu activeTab={activeTab} />\n        <Container\n          maxW={maxW}\n          mt=\"40px\"\n          paddingInlineStart={\"0.5em\"}\n          paddingInlineEnd={\"0.5em\"}\n        >\n          {children}\n        </Container>\n      </Box>\n      <BottomMenu />\n    </>\n  )\n}\n\nexport default PageWrapper\n","// TODO: create types\n/* eslint @typescript-eslint/no-unsafe-member-access: 0 */\n/* eslint @typescript-eslint/no-unsafe-call: 0 */\n/* eslint @typescript-eslint/no-unsafe-assignment: 0 */\n/* eslint @typescript-eslint/no-explicit-any: 0 */\nimport {\n  Button,\n  Flex,\n  FormControl,\n  FormErrorMessage,\n  FormHelperText,\n  FormLabel,\n  HStack,\n  Input,\n  InputGroup,\n  InputLeftElement,\n  InputRightElement,\n  Stack,\n  Text,\n} from \"@chakra-ui/react\"\nimport { Field, FieldAttributes, Form, Formik } from \"formik\"\nimport React, { ReactElement, ReactNode } from \"react\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport BorrowAdvancedOptions from \"./BorrowAdvancedOptions\"\nimport { ContractReceipt } from \"@ethersproject/contracts\"\nimport { CookAction } from \"../hooks/useCook\"\nimport FormTitle from \"./FormTitleOptions\"\nimport FormWrapper from \"./wrappers/FormWrapper\"\nimport SafetyTag from \"./SafetyTag\"\nimport { TransactionType } from \"../hooks/useChakraToast\"\nimport { formatBNToString } from \"../utils\"\nimport parseStringToBigNumber from \"../utils/parseStringToBigNumber\"\nimport { useTranslation } from \"react-i18next\"\n\nexport interface RepayFormTokenDetails {\n  symbol: string\n  icon: string\n  decimals: number\n}\n\ninterface Props {\n  borrowToken: RepayFormTokenDetails\n  collateralToken: RepayFormTokenDetails\n  max: string\n  collateralUSDPrice: number\n  isStable?: boolean\n  formDescription?: ReactNode\n  maxRepayBn: BigNumber\n  maxCollateralBn: BigNumber\n  updateLiquidationPrice: (\n    borrowAmount: string,\n    collateralAmount: string,\n    negate: boolean,\n  ) => string\n  updatePositionHealth: (\n    borrowAmount: string,\n    collateralAmount: string,\n    negate: boolean,\n  ) => number\n  getMaxWithdraw: (repayAmount: string) => BigNumber\n  repayValidator: (amount: string) => string | undefined\n  collateralValidator: (\n    borrowAmount: string,\n    collateralAmount: string,\n  ) => string | undefined\n  handleSubmit: (\n    collateralAmount: string,\n    borrowAmount: string,\n    cookAction: CookAction,\n    onMessageSignatureTransactionStart?: () => void,\n    onApprovalTransactionStart?: () => void,\n    repayMax?: boolean,\n  ) => Promise<ContractReceipt | void>\n  handleWhileSubmitting?: {\n    onMessageSignatureTransactionStart?: () => void\n    onApprovalTransactionStart?: () => void\n  }\n  handlePreSubmit?: (transactionType: TransactionType) => void\n  handlePostSubmit?: (\n    receipt: ContractReceipt | null,\n    transactionType: TransactionType,\n    error?: { code: number; message: string },\n  ) => void\n  submitButtonLabelText: (\n    borrow: string,\n    collateral: string,\n    borrowError: string | undefined,\n    collateralError: string | undefined,\n    txnType: TransactionType,\n  ) => string | undefined\n}\n\nconst RepayForm = (props: Props): ReactElement => {\n  const {\n    borrowToken,\n    collateralToken,\n    max,\n    formDescription,\n    collateralUSDPrice,\n    isStable,\n    handleWhileSubmitting,\n    maxRepayBn,\n    maxCollateralBn,\n    updateLiquidationPrice,\n    updatePositionHealth,\n    getMaxWithdraw,\n    repayValidator,\n    collateralValidator,\n    handleSubmit,\n    handlePreSubmit,\n    handlePostSubmit,\n    submitButtonLabelText,\n  } = props\n\n  const { t } = useTranslation()\n\n  return (\n    <FormWrapper\n      formDescription={formDescription}\n      formTitle={\n        <FormTitle\n          title={`Repay ${borrowToken.symbol}`}\n          popoverOptions={<BorrowAdvancedOptions />}\n        />\n      }\n    >\n      <Formik\n        initialValues={{ collateral: \"\", borrow: \"\" }}\n        onSubmit={async (values, actions) => {\n          handlePreSubmit?.(TransactionType.REPAY)\n          const collateralValueSafe = parseStringToBigNumber(\n            values?.collateral,\n            collateralToken.decimals,\n          )\n          const borrowValueSafe = parseStringToBigNumber(\n            values?.borrow,\n            borrowToken.decimals,\n          )\n          let receipt: ContractReceipt | null = null\n          try {\n            receipt = (await handleSubmit(\n              collateralValueSafe.value.toString(),\n              borrowValueSafe.value.toString(),\n              CookAction.REPAY,\n              handleWhileSubmitting?.onMessageSignatureTransactionStart,\n              handleWhileSubmitting?.onApprovalTransactionStart,\n              parseStringToBigNumber(values?.borrow, 18).value.eq(maxRepayBn) &&\n                parseStringToBigNumber(values?.collateral, 18).value.eq(\n                  maxCollateralBn,\n                ),\n            )) as ContractReceipt\n            handlePostSubmit?.(receipt, TransactionType.REPAY)\n          } catch (e) {\n            const error = e as { code: number; message: string }\n            handlePostSubmit?.(receipt, TransactionType.REPAY, {\n              code: error.code,\n              message: error.message,\n            })\n          }\n          actions.resetForm({ values: { collateral: \"\", borrow: \"\" } })\n        }}\n        validate={(values) => {\n          const collateral = collateralValidator(\n            values.borrow,\n            values.collateral,\n          )\n          const borrow = repayValidator(values.borrow)\n          if (collateral || borrow) {\n            return {\n              collateral,\n              borrow,\n            }\n          }\n        }}\n      >\n        {(props) => (\n          <Form onSubmit={props.handleSubmit}>\n            <Field name=\"borrow\">\n              {({ field, form }: FieldAttributes<any>) => (\n                <FormControl\n                  padding=\"10px\"\n                  mt=\"15px\"\n                  bgColor=\"var(--secondary-background)\"\n                  borderRadius=\"10px\"\n                  isInvalid={form.errors?.borrow}\n                >\n                  <Flex\n                    justifyContent=\"space-between\"\n                    alignItems=\"baseline\"\n                    flexWrap={{ base: \"wrap\", md: \"nowrap\" }}\n                  >\n                    <FormLabel fontWeight={700} htmlFor=\"amount\">\n                      Repay RUSD\n                    </FormLabel>\n                    <HStack spacing=\"20px\" alignItems=\"center\">\n                      <Stack spacing=\"5px\">\n                        <Flex>\n                          <Text\n                            color=\"var(--text-lighter)\"\n                            fontSize={{ base: \"14px\", lg: \"16px\" }}\n                          >\n                            Updated Liquidation Price:&nbsp;\n                          </Text>\n                          <Text fontWeight={700}>\n                            {!form.errors.borrow && !form.errors.collateral\n                              ? updateLiquidationPrice(\n                                  props.values.borrow,\n                                  props.values.collateral,\n                                  true,\n                                )\n                              : \"$xx.xxx\"}\n                          </Text>\n                        </Flex>\n                        <Flex>\n                          <Text\n                            color=\"var(--text-lighter)\"\n                            fontSize={{ base: \"14px\", lg: \"16px\" }}\n                          >\n                            Updated Position Health:&nbsp;\n                          </Text>\n                          <Text fontWeight={700}>\n                            {!form.errors.borrow && !form.errors.collateral\n                              ? `${updatePositionHealth(\n                                  props.values.borrow,\n                                  props.values.collateral,\n                                  true,\n                                ).toFixed(0)}%`\n                              : \"xx%\"}\n                          </Text>\n                        </Flex>\n                      </Stack>\n                      <SafetyTag\n                        safetyScore={updatePositionHealth(\n                          props.values.borrow,\n                          props.values.collateral,\n                          true,\n                        )}\n                        isStable={isStable}\n                      />\n                    </HStack>\n                  </Flex>\n                  <InputGroup mt=\"25px\">\n                    <InputLeftElement\n                      pointerEvents=\"none\"\n                      color=\"gray.300\"\n                      fontSize=\"2em\"\n                      marginLeft=\"5px\"\n                    >\n                      <img src={borrowToken.icon} alt=\"tokenIcon\" />\n                    </InputLeftElement>\n                    <Input\n                      {...field}\n                      paddingLeft=\"60px\"\n                      autoComplete=\"off\"\n                      autoCorrect=\"off\"\n                      type=\"text\"\n                      isInvalid={form.errors?.borrow}\n                      placeholder=\"0.0\"\n                      variant=\"primary\"\n                    />\n                    <InputRightElement width=\"6rem\" padding=\"10px\">\n                      <Button\n                        variant=\"light\"\n                        size=\"sm\"\n                        onClick={() => {\n                          props.setFieldTouched(\"borrow\", true)\n                          props.setFieldValue(\"borrow\", max)\n                          props.setFieldValue(\"collateral\", \"\")\n                        }}\n                      >\n                        {t(\"max\")}\n                      </Button>\n                    </InputRightElement>\n                  </InputGroup>\n                  {form.errors?.borrow ? (\n                    <FormErrorMessage color=\"#cc3a59\">\n                      {form.errors?.borrow}\n                    </FormErrorMessage>\n                  ) : (\n                    <FormHelperText mt=\"15px\" fontSize=\"sm\" as=\"p\">\n                      {+props.values.borrow !== 0 &&\n                        `You are about to repay \n                      ${(+props.values.borrow).toFixed(2)} ${\n                          borrowToken.symbol\n                        }.`}\n                    </FormHelperText>\n                  )}\n                </FormControl>\n              )}\n            </Field>\n            <Field name=\"collateral\">\n              {({ field, form }: FieldAttributes<any>) => (\n                <FormControl\n                  padding=\"10px\"\n                  mt=\"15px\"\n                  bgColor=\"var(--secondary-background)\"\n                  borderRadius=\"10px\"\n                  isInvalid={form.errors?.collateral}\n                >\n                  <FormLabel fontWeight={700} htmlFor=\"amount\">\n                    Withdraw Collateral\n                  </FormLabel>\n                  <InputGroup mt=\"25px\">\n                    <InputLeftElement\n                      pointerEvents=\"none\"\n                      color=\"gray.300\"\n                      fontSize=\"2em\"\n                      marginLeft=\"5px\"\n                    >\n                      <img src={collateralToken.icon} alt=\"tokenIcon\" />\n                    </InputLeftElement>\n                    <Input\n                      {...field}\n                      paddingLeft=\"60px\"\n                      autoComplete=\"off\"\n                      autoCorrect=\"off\"\n                      type=\"text\"\n                      isInvalid={form.errors?.collateral}\n                      placeholder=\"0.0\"\n                      variant=\"primary\"\n                    />\n                    <InputRightElement width=\"6rem\" padding=\"10px\">\n                      <Button\n                        variant=\"light\"\n                        size=\"sm\"\n                        onClick={() => {\n                          const withdrawMax = formatBNToString(\n                            getMaxWithdraw(props.values.borrow),\n                            18,\n                          )\n                          props.setFieldTouched(\"collateral\", true)\n                          props.setFieldValue(\"collateral\", withdrawMax)\n                        }}\n                      >\n                        {t(\"max\")}\n                      </Button>\n                    </InputRightElement>\n                  </InputGroup>\n                  {form.errors?.collateral ? (\n                    <FormErrorMessage color=\"#cc3a59\">\n                      {form.errors?.collateral}\n                    </FormErrorMessage>\n                  ) : (\n                    <FormHelperText mt=\"15px\" fontSize=\"sm\" as=\"p\">\n                      {+props.values.collateral !== 0 &&\n                        `You are about to withdraw \n                      $${(\n                        collateralUSDPrice * +props.values?.collateral\n                      ).toFixed(2)}\n                      ${collateralToken.symbol} as collateral.`}\n                    </FormHelperText>\n                  )}\n                </FormControl>\n              )}\n            </Field>\n            <Flex\n              mt=\"20px\"\n              alignItems=\"center\"\n              justifyContent=\"center\"\n              flexDirection=\"column\"\n              bg=\"var(--secondary-background)\"\n              border=\"1px solid var(--outline)\"\n              borderRadius=\"10px\"\n              padding=\"10px\"\n            >\n              <Button\n                variant=\"primary\"\n                size=\"lg\"\n                width=\"100%\"\n                type=\"submit\"\n                fontSize={{ base: \"12px\", sm: \"16px\" }}\n                disabled={\n                  props.errors.borrow !== undefined ||\n                  props.errors.collateral !== undefined ||\n                  (+props.values.borrow === 0 && +props.values.collateral === 0)\n                }\n              >\n                {submitButtonLabelText(\n                  props.values.borrow,\n                  props.values.collateral,\n                  props.errors.borrow,\n                  props.errors.collateral,\n                  TransactionType.REPAY,\n                )}\n              </Button>\n              <Text\n                as=\"p\"\n                p=\"20px 0 10px\"\n                textAlign=\"center\"\n                color=\"var(--text-lighter)\"\n                fontSize=\"14px\"\n              >\n                Note: The &quot;Approve&quot; transaction is only needed the\n                first time; subsequent actions will not require approval.\n              </Text>\n            </Flex>\n          </Form>\n        )}\n      </Formik>\n    </FormWrapper>\n  )\n}\n\nexport default RepayForm\n","import {\n  Box,\n  Collapse,\n  Flex,\n  Grid,\n  GridItem,\n  IconButton,\n  Skeleton,\n  Stat,\n  StatGroup,\n  StatLabel,\n  StatNumber,\n  Text,\n  Tooltip,\n  useDisclosure,\n} from \"@chakra-ui/react\"\nimport React, { ReactElement, ReactNode } from \"react\"\nimport { BsChevronExpand } from \"react-icons/bs\"\n\ninterface StakeStatLabel {\n  statLabel: ReactNode\n  statTooltip?: string\n  statPopOver?: ReactNode\n  onClick?: () => void\n}\ninterface StakeStats {\n  statLabel: string\n  statValue: string\n  statTooltip?: string\n  statPopOver?: ReactNode\n}\ninterface StakedDetailsView {\n  items: {\n    tokenName: string\n    amount: string\n    icon: string\n    collapseContent?: ReactNode\n  }[]\n  title?: string\n}\ninterface Props {\n  balanceView: StakedDetailsView\n  stakedView: StakedDetailsView\n  extraStakeDetailChild?: ReactNode\n  bottom?: ReactNode\n  stats?: StakeStats[]\n  loading?: boolean\n}\n\nconst StakeBalanceView = ({\n  items,\n  title,\n}: StakedDetailsView): ReactElement => {\n  const { isOpen, onToggle } = useDisclosure()\n  return (\n    <Box\n      bg=\"var(--secondary-background)\"\n      p=\"15px\"\n      border=\"1px solid var(--outline)\"\n      borderRadius=\"10px\"\n    >\n      <Flex justifyContent=\"space-between\" alignItems=\"center\" m=\"8px 0\">\n        <Text fontSize=\"25px\" fontWeight={700} lineHeight=\"30px\">\n          {title}\n        </Text>\n      </Flex>\n      {items.length ? (\n        <Grid gridTemplateRows=\"auto\" rowGap=\"15px\" m=\"8px 0\">\n          {items.map(({ icon, tokenName, amount, collapseContent }, index) => {\n            return (\n              <GridItem key={index}>\n                <Grid\n                  gridTemplateColumns=\"70px auto\"\n                  gridTemplateRows=\"auto\"\n                  alignItems=\"center\"\n                  columnGap=\"5px\"\n                >\n                  <GridItem>\n                    <Box\n                      width={\n                        /rose-/.exec(icon)\n                          ? \"70px\"\n                          : /dai-usdt-usdc/.exec(icon)\n                          ? \"60px\"\n                          : \"40px\"\n                      }\n                    >\n                      <img src={icon} alt=\"tokenIcon\" width=\"100%\" />\n                    </Box>\n                  </GridItem>\n                  <GridItem key={`${tokenName}-${index}`}>\n                    <Box>\n                      <StatGroup>\n                        <Stat>\n                          <Flex alignItems=\"center\">\n                            <StatLabel color=\"var(--text-lighter)\">\n                              {tokenName}\n                            </StatLabel>\n                            {collapseContent && (\n                              <IconButton\n                                onClick={onToggle}\n                                aria-label=\"Expand\"\n                                variant=\"outline\"\n                                size=\"xs\"\n                                marginLeft=\"5px\"\n                                icon={<BsChevronExpand />}\n                                title=\"Expand\"\n                              />\n                            )}\n                          </Flex>\n                          <Collapse in={isOpen} animateOpacity>\n                            {collapseContent}\n                          </Collapse>\n                          <StatNumber fontSize=\"18px\">{amount}</StatNumber>\n                        </Stat>\n                      </StatGroup>\n                    </Box>\n                  </GridItem>\n                </Grid>\n              </GridItem>\n            )\n          })}\n        </Grid>\n      ) : (\n        <Box p=\"20px\">\n          <Text textAlign=\"center\" color=\"var(--text-lighter)\">\n            {`${title || \"Your Balances\"} will appear here.`}\n          </Text>\n        </Box>\n      )}\n    </Box>\n  )\n}\n\nconst StakeStatLabel = (props: StakeStatLabel): ReactElement => {\n  const { statLabel, statTooltip, statPopOver, onClick } = props\n  if (statTooltip) {\n    return (\n      <Tooltip bgColor=\"#cc3a59\" closeOnClick={false} label={statTooltip}>\n        <Text cursor=\"help\" borderBottom=\"1px dotted var(--text)\">\n          {statLabel}\n        </Text>\n      </Tooltip>\n    )\n  } else if (statPopOver) {\n    return (\n      <Flex alignItems=\"center\">\n        <Text>{statLabel}</Text>\n        <IconButton\n          onClick={onClick}\n          aria-label=\"Expand\"\n          variant=\"outline\"\n          size=\"xs\"\n          marginLeft=\"5px\"\n          icon={<BsChevronExpand />}\n          title=\"Expand\"\n        />\n      </Flex>\n    )\n  } else {\n    return <Text>{statLabel}</Text>\n  }\n}\nconst StakeDetails = (props: Props): ReactElement => {\n  const {\n    balanceView,\n    stakedView,\n    stats,\n    extraStakeDetailChild,\n    bottom,\n    loading,\n  } = props\n  const { isOpen, onToggle } = useDisclosure()\n  return (\n    <Grid gridGap=\"10px\">\n      {extraStakeDetailChild && (\n        <GridItem>\n          {loading === true ? (\n            <Skeleton minH=\"80px\" height=\"100%\" borderRadius=\"10px\" />\n          ) : (\n            <Box\n              bg=\"var(--secondary-background)\"\n              p=\"15px\"\n              border=\"1px solid var(--outline)\"\n              borderRadius=\"10px\"\n            >\n              {extraStakeDetailChild}\n            </Box>\n          )}\n        </GridItem>\n      )}\n      <GridItem>\n        {loading === true ? (\n          <Skeleton minH=\"80px\" height=\"100%\" borderRadius=\"10px\" />\n        ) : (\n          <StakeBalanceView\n            items={balanceView.items}\n            title={balanceView.title}\n          />\n        )}\n      </GridItem>\n      <GridItem>\n        {loading === true ? (\n          <Skeleton minH=\"80px\" height=\"100%\" borderRadius=\"10px\" />\n        ) : (\n          <StakeBalanceView items={stakedView.items} title={stakedView.title} />\n        )}\n      </GridItem>\n      {stats && (\n        <GridItem>\n          {loading === true ? (\n            <Skeleton minH=\"80px\" height=\"100%\" borderRadius=\"10px\" />\n          ) : (\n            <Box\n              borderRadius=\"10px\"\n              border=\"1px solid var(--outline)\"\n              p=\"15px\"\n              bg=\"var(--secondary-background)\"\n            >\n              <Grid rowGap=\"15px\" gridTemplateRows=\"auto\">\n                {stats.map(\n                  (\n                    { statLabel, statValue, statTooltip, statPopOver },\n                    index,\n                  ) => {\n                    return (\n                      <GridItem key={index}>\n                        <Flex\n                          fontSize=\"18px\"\n                          justifyContent=\"space-between\"\n                          alignItems=\"center\"\n                        >\n                          <StakeStatLabel\n                            statLabel={statLabel}\n                            statTooltip={statTooltip}\n                            statPopOver={statPopOver}\n                            onClick={onToggle}\n                          />\n                          <Text fontWeight=\"600\">{statValue}</Text>\n                        </Flex>\n                        {statPopOver && (\n                          <Collapse in={isOpen} animateOpacity>\n                            {statPopOver}\n                          </Collapse>\n                        )}\n                      </GridItem>\n                    )\n                  },\n                )}\n              </Grid>\n            </Box>\n          )}\n        </GridItem>\n      )}\n      {bottom && (\n        <GridItem>\n          {loading === true ? (\n            <Skeleton minH=\"80px\" height=\"100%\" borderRadius=\"10px\" />\n          ) : (\n            <Box\n              bg=\"var(--secondary-background)\"\n              p=\"15px\"\n              border=\"1px solid var(--outline)\"\n              borderRadius=\"10px\"\n            >\n              {bottom}\n            </Box>\n          )}\n        </GridItem>\n      )}\n    </Grid>\n  )\n}\n\nexport default StakeDetails\n","import React, { ReactElement, ReactNode } from \"react\"\nimport {\n  Tab,\n  TabList,\n  TabPanel,\n  TabPanels,\n  Tabs,\n  TabsProps,\n  useColorModeValue,\n} from \"@chakra-ui/react\"\n\ninterface TabProps {\n  name: string\n  content: ReactNode\n}\n\ninterface Props {\n  tabsProps: Pick<TabsProps, \"variant\">\n  tab1: TabProps\n  tab2: TabProps\n}\n\nconst TabsWrapper = ({ tabsProps, tab1, tab2 }: Props): ReactElement => {\n  return (\n    <Tabs\n      {...tabsProps}\n      isFitted\n      height=\"100%\"\n      bg={useColorModeValue(\n        \"rgba(250, 250, 250, 0.6)\",\n        \"rgba(28, 29, 33, 0.3)\",\n      )}\n      borderRadius=\"10px\"\n    >\n      <TabList mb=\"1em\">\n        <Tab>{tab1.name}</Tab>\n        <Tab>{tab2.name}</Tab>\n      </TabList>\n      <TabPanels>\n        <TabPanel>{tab1.content}</TabPanel>\n        <TabPanel>{tab2.content}</TabPanel>\n      </TabPanels>\n    </Tabs>\n  )\n}\n\nexport default TabsWrapper\n","import { AddressZero, One, Zero } from \"@ethersproject/constants\"\nimport {\n  BORROW_MARKET_MAP,\n  BorrowMarketName,\n  TRANSACTION_TYPES,\n} from \"../constants\"\nimport {\n  useBorrowContract,\n  useCollateralContract,\n  useGardenContract,\n  useOracleContract,\n  useVaseContract,\n} from \"./useContract\"\nimport { useEffect, useState } from \"react\"\nimport { AppState } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { Erc20 } from \"../../types/ethers-contracts/Erc20\"\nimport { Garden } from \"../../types/ethers-contracts/Garden\"\nimport { Oracle } from \"../../types/ethers-contracts/Oracle\"\nimport { Vase } from \"../../types/ethers-contracts/Vase\"\nimport { useActiveWeb3React } from \".\"\nimport { useSelector } from \"react-redux\"\n\nexport interface BorrowDataType {\n  marketName: BorrowMarketName\n  collateralTokenBalance: BigNumber\n  collateralDeposited: BigNumber\n  borrowed: BigNumber\n  liquidationMultiplier: BigNumber\n  mcr: BigNumber\n  borrowFee: BigNumber\n  liquidationFee: BigNumber\n  rusdLeftToBorrow: BigNumber\n  interest: BigNumber\n  collateralDepositedUSDPrice: BigNumber\n  positionHealth: BigNumber\n  borrowedUSDPrice: BigNumber\n  priceOfCollateral: BigNumber\n  totalRUSDLeftToBorrow: BigNumber\n  tvl: BigNumber\n  rusdUserBalance: BigNumber\n  feesOwed: BigNumber\n}\n\ntype BorrowDataHookReturnType = [BorrowDataType, boolean]\n\nconst emptyBorrowData = {\n  collateralTokenBalance: Zero,\n  collateralDeposited: Zero,\n  borrowed: Zero,\n  liquidationMultiplier: Zero,\n  mcr: Zero,\n  borrowFee: Zero,\n  liquidationFee: Zero,\n  rusdLeftToBorrow: Zero,\n  interest: Zero,\n  collateralDepositedUSDPrice: Zero,\n  positionHealth: Zero,\n  borrowedUSDPrice: Zero,\n  priceOfCollateral: Zero,\n  totalRUSDLeftToBorrow: Zero,\n  tvl: Zero,\n  rusdUserBalance: Zero,\n  feesOwed: Zero,\n} as BorrowDataType\n\nexport default function useBorrowData(\n  borrowMarket: BorrowMarketName,\n): BorrowDataHookReturnType {\n  const { account } = useActiveWeb3React()\n  const gardenContract = useGardenContract(borrowMarket) as Garden\n  const collateralTokenContract = useCollateralContract(borrowMarket) as Erc20\n  const oracleContract = useOracleContract(borrowMarket) as Oracle\n  const vaseContract = useVaseContract(borrowMarket) as Vase\n  const rusdContract = useBorrowContract(borrowMarket) as Erc20\n  const { lastTransactionTimes } = useSelector(\n    (state: AppState) => state.application,\n  )\n  const lastBorrowTime = lastTransactionTimes[TRANSACTION_TYPES.BORROW]\n\n  const [borrowData, setBorrowData] = useState<BorrowDataHookReturnType>([\n    {\n      ...emptyBorrowData,\n      marketName: borrowMarket,\n    },\n    true,\n  ])\n\n  useEffect(() => {\n    async function getBorrowData(): Promise<void> {\n      if (\n        !collateralTokenContract ||\n        !gardenContract ||\n        !oracleContract ||\n        !vaseContract ||\n        !rusdContract\n      ) {\n        setBorrowData([\n          {\n            ...emptyBorrowData,\n            marketName: borrowMarket,\n          },\n          false,\n        ])\n        return\n      }\n\n      const BORROW_MARKET = BORROW_MARKET_MAP[borrowMarket]\n\n      if (account && account != AddressZero && account != null) {\n        try {\n          // borrow data\n          const fees = await gardenContract.accrueInfo()\n          const [\n            ,\n            ,\n            ,\n            ,\n            mcr,\n            liquidationMultiplier,\n            borrowFee,\n            interstPerSecond,\n          ] = await gardenContract.cloneInfo()\n          const exchangeRate = await oracleContract.latestAnswer()\n          const totalRUSDLeft = await vaseContract.balanceOf(\n            await gardenContract.roseUsd(),\n            gardenContract.address,\n          )\n          const tvl = await vaseContract.balanceOf(\n            collateralTokenContract.address,\n            gardenContract.address,\n          )\n          const rusdBalance = await rusdContract.balanceOf(account)\n          const collateralBalance = await collateralTokenContract.balanceOf(\n            account,\n          )\n          const collateralDeposited = await gardenContract.userCollateralShare(\n            account,\n          )\n          const borrowed = await gardenContract.userBorrowPart(account)\n\n          // cast to 18 precision to facilitate BN math\n          const exchangeRateAdj = exchangeRate.mul(BigNumber.from(10).pow(10)) // exchange rate is e^8 precision\n\n          // usd conversion using exchange rate\n          const USD_CONVERSION_BN = (factor: BigNumber) =>\n            factor.mul(exchangeRateAdj).div(BigNumber.from(10).pow(18))\n\n          // token conversions\n          const borrowTokenConversion = BigNumber.from(10).pow(\n            Math.abs(18 - BORROW_MARKET.borrowToken.decimals),\n          )\n          const collateralTokenConversion = BigNumber.from(10).pow(\n            Math.abs(18 - BORROW_MARKET.collateralToken.decimals),\n          )\n          const tvlUsd = USD_CONVERSION_BN(tvl)\n          const mcrAdj = mcr.mul(BigNumber.from(10).pow(13)) // mcr is e^5 precision\n          const borrowFeeAdj = borrowFee.mul(BigNumber.from(10).pow(13)) // borrowfee is e^5 precision\n          const liquidationMultiplierAdj = liquidationMultiplier.mul(\n            BigNumber.from(10).pow(13),\n          ) // liquidationMultiplier is e^5 precision\n\n          // interest per year using 31557600 sec in a year\n          const interestPerYear = interstPerSecond.mul(\n            BigNumber.from(\"31557600\"),\n          )\n          const borrowedAdj = borrowed.mul(borrowTokenConversion)\n          const collateralDepositedAdj =\n            BORROW_MARKET.collateralToken.decimals > 18\n              ? collateralDeposited.div(collateralTokenConversion)\n              : collateralDeposited.mul(collateralTokenConversion)\n          const collateralBalanceAdj =\n            BORROW_MARKET.collateralToken.decimals > 18\n              ? collateralBalance.div(collateralTokenConversion)\n              : collateralBalance.mul(collateralTokenConversion)\n\n          const collateralDepositedUSDPrice = USD_CONVERSION_BN(\n            collateralDepositedAdj,\n          )\n          const positionHealth = collateralDepositedAdj.isZero()\n            ? BigNumber.from(0)\n            : borrowedAdj\n                .mul(BigNumber.from(10).pow(18))\n                .div(collateralDepositedUSDPrice)\n\n          const borrowedUSDPrice = USD_CONVERSION_BN(borrowedAdj)\n          const rusdLeftToBorrow = mcrAdj\n            .sub(\n              borrowed\n                .mul(BigNumber.from(10).pow(18))\n                .div(\n                  collateralDepositedUSDPrice.isZero()\n                    ? One\n                    : collateralDepositedUSDPrice,\n                ),\n            )\n            .mul(\n              collateralDepositedAdj\n                .mul(exchangeRateAdj)\n                .div(BigNumber.from(10).pow(18)),\n            )\n            .div(BigNumber.from(10).pow(18))\n          const rusdLeftToBorrowAdj = rusdLeftToBorrow.sub(\n            rusdLeftToBorrow.mul(borrowFeeAdj).div(BigNumber.from(10).pow(18)),\n          )\n\n          // set borrow data state\n          setBorrowData((prevState) => [\n            {\n              ...prevState[0],\n              marketName: borrowMarket,\n              collateralTokenBalance: collateralBalanceAdj,\n              collateralDeposited: collateralDepositedAdj,\n              collateralDepositedUSDPrice: collateralDepositedUSDPrice,\n              borrowed: borrowedAdj,\n              rusdLeftToBorrow: rusdLeftToBorrowAdj,\n              positionHealth: positionHealth,\n              borrowedUSDPrice: borrowedUSDPrice,\n              totalRUSDLeftToBorrow: totalRUSDLeft,\n              liquidationMultiplier: liquidationMultiplierAdj,\n              interest: interestPerYear,\n              mcr: mcrAdj,\n              borrowFee: borrowFeeAdj,\n              liquidationFee: liquidationMultiplierAdj\n                .sub(BigNumber.from(\"10\").pow(18))\n                .abs(),\n              priceOfCollateral: exchangeRateAdj,\n              tvl: tvlUsd,\n              rusdUserBalance: rusdBalance,\n              feesOwed: fees[1], // [1] is feesEarned in garden (i.e. fees owed)\n            },\n            false,\n          ])\n        } catch (e) {\n          console.log(e)\n          setBorrowData((prevState) => [prevState[0], false])\n        }\n      } else {\n        setBorrowData([\n          {\n            ...emptyBorrowData,\n            marketName: borrowMarket,\n          },\n          false,\n        ])\n      }\n    }\n    void getBorrowData()\n  }, [\n    lastBorrowTime,\n    borrowMarket,\n    account,\n    gardenContract,\n    collateralTokenContract,\n    oracleContract,\n    vaseContract,\n    rusdContract,\n  ])\n\n  return borrowData\n}\n","import { BORROW_MARKET_MAP, BorrowMarketName } from \"../constants\"\nimport {\n  Box,\n  Drawer,\n  DrawerBody,\n  DrawerCloseButton,\n  DrawerContent,\n  DrawerFooter,\n  DrawerOverlay,\n  Flex,\n  IconButton,\n  Link,\n  Progress,\n  Text,\n  useColorModeValue,\n  useDisclosure,\n} from \"@chakra-ui/react\"\nimport { BsCurrencyDollar, BsExclamationTriangle } from \"react-icons/bs\"\nimport {\n  FaDivide,\n  FaGlassWhiskey,\n  FaHandHoldingMedical,\n  FaHandHoldingUsd,\n  FaInfoCircle,\n} from \"react-icons/fa\"\nimport { One, Zero } from \"@ethersproject/constants\"\nimport React, { ReactElement, useRef } from \"react\"\nimport {\n  calculatePositionHealthColor,\n  commify,\n  formatBNToPercentString,\n  formatBNToString,\n} from \"../utils\"\nimport useChakraToast, { TransactionType } from \"../hooks/useChakraToast\"\nimport BackButton from \"../components/BackButton\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport BlockExplorerLink from \"../components/BlockExplorerLink\"\nimport BorrowForm from \"../components/BorrowForm\"\nimport ComponentWrapper from \"../components/wrappers/ComponentWrapper\"\nimport { ContractReceipt } from \"ethers\"\nimport OverviewInfo from \"../components/OverviewInfo\"\nimport PageWrapper from \"../components/wrappers/PageWrapper\"\nimport RepayForm from \"../components/RepayForm\"\nimport StakeDetails from \"../components/StakeDetails\"\nimport TabsWrapper from \"../components/wrappers/TabsWrapper\"\nimport parseStringToBigNumber from \"../utils/parseStringToBigNumber\"\nimport { parseUnits } from \"@ethersproject/units\"\nimport useBorrowData from \"../hooks/useBorrowData\"\nimport { useCook } from \"../hooks/useCook\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  borrowName: BorrowMarketName\n  isStable?: boolean\n}\n\nconst Borrow = ({ borrowName, isStable }: Props): ReactElement => {\n  const { t } = useTranslation()\n  const { isOpen, onOpen, onClose } = useDisclosure()\n  const [borrowData] = useBorrowData(borrowName)\n  const btnRef = useRef<HTMLButtonElement>(null)\n  const toast = useChakraToast()\n  const cook = useCook(borrowName)\n\n  const drawerBg = useColorModeValue(\n    \"linear-gradient(to bottom, #f7819a, #ebd9c2, #e9e0d9)\",\n    \"linear-gradient(to right, #141414, #200122, #791038)\",\n  )\n  const borrowCollapseTextColor = useColorModeValue(\"#555555\", \"#bbbbbb\")\n\n  const { borrowToken, collateralToken } = BORROW_MARKET_MAP[borrowName]\n\n  const calculateMaxBorrowHelper = (\n    collateralAmount: string,\n    totalBorrowed = Zero,\n    totalCollateralDeposited = Zero,\n  ): BigNumber => {\n    const totalCollateral = totalCollateralDeposited.add(\n      parseStringToBigNumber(collateralAmount, 18, Zero).value,\n    )\n    const totalCollateralUSD = totalCollateral\n      .mul(borrowData.priceOfCollateral)\n      .div(BigNumber.from(10).pow(18))\n    if (totalCollateral.isZero()) return Zero\n    const maxBorrow = borrowData.mcr\n      .sub(\n        totalBorrowed\n          .mul(BigNumber.from(10).pow(18))\n          .div(totalCollateralUSD.isZero() ? One : totalCollateralUSD),\n      )\n      .mul(\n        totalCollateral\n          .mul(borrowData.priceOfCollateral)\n          .div(BigNumber.from(10).pow(18)),\n      )\n      .div(BigNumber.from(10).pow(18))\n\n    const maxBorrowAdj = maxBorrow.sub(\n      maxBorrow.mul(borrowData.borrowFee).div(BigNumber.from(10).pow(18)),\n    )\n\n    return maxBorrowAdj\n  }\n\n  const calculateMaxBorrow = (collateralAmount: string): BigNumber => {\n    return calculateMaxBorrowHelper(\n      collateralAmount,\n      borrowData.borrowed,\n      borrowData.collateralDeposited,\n    )\n  }\n\n  const calculateMaxWithdraw = (repayAmount: string): BigNumber => {\n    const totalBorrowed = borrowData.borrowed.sub(\n      parseUnits(repayAmount || \"0\"),\n    )\n    if (totalBorrowed.isZero()) return borrowData.collateralDeposited\n    return borrowData.collateralDepositedUSDPrice\n      .sub(totalBorrowed.mul(BigNumber.from(10).pow(18)).div(borrowData.mcr))\n      .mul(BigNumber.from(10).pow(18))\n      .div(borrowData.priceOfCollateral)\n  }\n\n  const validateBorrow = (\n    borrowAmount: string,\n    collateralAmount: string,\n  ): string | undefined => {\n    const generalValidation = validateAmount(borrowAmount)\n    if (validateDepositCollateral(collateralAmount)) {\n      return \"Collateral field has errors.\"\n    }\n    if (generalValidation || borrowAmount === \"\") {\n      return generalValidation || undefined\n    }\n\n    const currentBorrow = parseUnits(borrowAmount, 18)\n    const maxBorrow = calculateMaxBorrow(collateralAmount)\n\n    if (maxBorrow.isZero()) {\n      return \"Deposit collateral first to borrow.\"\n    }\n    if (currentBorrow.gt(maxBorrow)) {\n      return `Must be less than ${formatBNToString(maxBorrow, 18, 5)} RUSD.`\n    }\n  }\n\n  const validateDepositCollateral = (amount: string): string | undefined => {\n    const generalValidation = validateAmount(amount)\n    if (generalValidation || amount === \"\") {\n      return generalValidation || undefined\n    }\n    if (parseUnits(amount, 18).gt(borrowData.collateralTokenBalance)) {\n      return t(\"insufficientBalance\")\n    }\n  }\n\n  const validateRepay = (borrowAmount: string): string | undefined => {\n    const generalValidation = validateAmount(borrowAmount)\n    if (generalValidation || borrowAmount === \"\") {\n      return generalValidation || undefined\n    }\n    if (parseUnits(borrowAmount, 18).gt(borrowData.borrowed)) {\n      return t(\"insufficientBalance\")\n    }\n  }\n\n  const validateWithdrawCollateral = (\n    borrowAmount: string,\n    collateralAmount: string,\n  ): string | undefined => {\n    const generalValidation = validateAmount(collateralAmount)\n    if (validateRepay(borrowAmount)) {\n      return \"Repay field has errors.\"\n    }\n    if (generalValidation || collateralAmount === \"\") {\n      return generalValidation || undefined\n    }\n\n    const currentWithdraw = parseUnits(collateralAmount, 18)\n    const maxWithdraw = calculateMaxWithdraw(borrowAmount)\n\n    if (currentWithdraw.gt(maxWithdraw)) {\n      return `Must be less than ${formatBNToString(maxWithdraw, 18, 5)} ${\n        collateralToken.symbol\n      }.`\n    }\n  }\n\n  const validateAmount = (amount: string): string | null => {\n    const decimalRegex = /^[0-9]\\d*(\\.\\d{1,18})?$/\n    if (amount && !decimalRegex.exec(amount)) {\n      return t(\"Invalid number.\")\n    }\n    return null\n  }\n\n  const liquidationPriceHelper = (\n    borrow: BigNumber,\n    collateral: BigNumber,\n  ): BigNumber => {\n    if (collateral.add(borrowData.collateralDeposited).isZero()) return Zero\n    return borrowData.borrowedUSDPrice\n      .add(\n        borrow\n          .mul(borrowData.priceOfCollateral)\n          .div(BigNumber.from(10).pow(18)),\n      )\n      .mul(BigNumber.from(10).pow(18))\n      .div(collateral.add(borrowData.collateralDeposited))\n      .mul(BigNumber.from(10).pow(18))\n      .div(borrowData.priceOfCollateral)\n      .mul(borrowData.liquidationMultiplier)\n      .div(BigNumber.from(10).pow(18))\n  }\n\n  const liquidationPriceFormatted = (\n    borrow = Zero,\n    collateral = Zero,\n  ): string => {\n    const price = liquidationPriceHelper(borrow, collateral)\n    const formatted = price.lte(Zero)\n      ? \"$0.00\"\n      : `$${commify(formatBNToString(price, 18, 3))}`\n    return formatted\n  }\n\n  const updateCurrLiquidationPrice = (\n    borrowAmount: string,\n    collateralAmount: string,\n    negate = false,\n  ): string => {\n    const validateBorrow = validateAmount(borrowAmount)\n    const validateCollateral = validateAmount(collateralAmount)\n    if (validateBorrow || validateCollateral) return \"$xx.xxx\"\n    const formattedBorrowAmount =\n      borrowAmount && negate ? `-${borrowAmount}` : borrowAmount\n    const formattedcollateralAmount =\n      collateralAmount && negate ? `-${collateralAmount}` : collateralAmount\n    const borrowAmountBn = parseUnits(formattedBorrowAmount || \"0\", 18)\n    const collateralAmountBn = parseUnits(formattedcollateralAmount || \"0\", 18)\n    return liquidationPriceFormatted(borrowAmountBn, collateralAmountBn)\n  }\n\n  const updatePositionHealth = (\n    borrowAmount: string,\n    collateralAmount: string,\n    negate = false,\n  ): number => {\n    const validateBorrow = validateAmount(borrowAmount)\n    const validateCollateral = validateAmount(collateralAmount)\n    if (validateBorrow || validateCollateral) return 0\n\n    const formattedBorrowAmount =\n      borrowAmount && negate ? `-${borrowAmount}` : borrowAmount\n    const formattedcollateralAmount =\n      collateralAmount && negate ? `-${collateralAmount}` : collateralAmount\n\n    const borrowAmountBn = parseUnits(formattedBorrowAmount || \"0\", 18)\n    const collateralAmountBn = parseUnits(formattedcollateralAmount || \"0\", 18)\n\n    const currentCollateralUSD = collateralAmountBn\n      .mul(borrowData.priceOfCollateral)\n      .div(BigNumber.from(10).pow(18))\n      .add(borrowData.collateralDepositedUSDPrice)\n\n    const currentPositionHealth = collateralAmountBn\n      .add(borrowData.collateralDepositedUSDPrice)\n      .isZero()\n      ? BigNumber.from(0)\n      : borrowAmountBn\n          .add(borrowData.borrowed)\n          .mul(BigNumber.from(10).pow(18))\n          .div(\n            currentCollateralUSD.isZero()\n              ? parseUnits(\"1\", 18)\n              : currentCollateralUSD,\n          )\n\n    return +formatBNToString(currentPositionHealth, 18) * 100\n  }\n\n  const positionHealth = (): number => {\n    return +formatBNToString(borrowData.positionHealth, 18) * 100\n  }\n\n  const postTransaction = (\n    receipt: ContractReceipt | null,\n    transactionType: TransactionType,\n    error?: { code: number; message: string },\n  ): void => {\n    const description = receipt?.transactionHash ? (\n      <BlockExplorerLink\n        txnType={transactionType}\n        txnHash={receipt?.transactionHash}\n        status={receipt?.status ? \"Succeeded\" : \"Failed\"}\n      />\n    ) : null\n    if (receipt?.status) {\n      toast.transactionSuccess({\n        txnType: transactionType,\n        description: description,\n      })\n    } else {\n      toast.transactionFailed({\n        txnType: transactionType,\n        error,\n        description: description,\n      })\n    }\n  }\n\n  const preTransaction = (txnType: TransactionType) =>\n    toast.transactionPending({\n      txnType,\n    })\n\n  const onSubmitting = {\n    onMessageSignatureTransactionStart: () => toast.signatureRequired(),\n    onApprovalTransactionStart: () => toast.approvalRequired(),\n  }\n\n  const submitButtonLabelText = (\n    borrow: string,\n    collateral: string,\n    borrowError: string | undefined,\n    collateralError: string | undefined,\n    txnType: TransactionType,\n  ) => {\n    if (\n      (borrow === \"\" && collateral === \"\") ||\n      (!borrowError && !collateralError && +borrow !== 0 && +collateral !== 0)\n    ) {\n      return txnType === TransactionType.BORROW\n        ? \"Add Collateral & Borrow\"\n        : \"Repay & Withdraw Collateral\"\n    }\n    if (borrowError || collateralError) {\n      return borrowError || collateralError\n    }\n    if (borrowError || borrow === \"\") {\n      return txnType === TransactionType.BORROW\n        ? \"Deposit Collateral\"\n        : \"Withdraw Collateral\"\n    }\n    return txnType === TransactionType.BORROW ? \"Borrow\" : \"Repay\"\n  }\n\n  const FormDescription = (): ReactElement => {\n    return (\n      <Flex\n        fontSize={{ base: \"12px\", sm: \"16px\" }}\n        justifyContent=\"space-between\"\n        color=\"var(--text-lighter)\"\n      >\n        <Box>1 {borrowToken.symbol} = 1 USD</Box>\n        <Box>\n          1 {collateralToken.symbol} ={\" \"}\n          {+formatBNToString(borrowData.priceOfCollateral, 18, 3)} RUSD\n        </Box>\n      </Flex>\n    )\n  }\n\n  const HowToBorrowText = (): ReactElement => {\n    return (\n      <>\n        {`To borrow RUSD, you must deposit collateral first. This market accepts ${\n          collateralToken.name\n        } as collateral. You can have a total debt in RUSD up to ${formatBNToPercentString(\n          borrowData.mcr,\n          18,\n          0,\n        )} of the dollar value of collateral deposited.`}\n        <br />\n        <br />\n        {`For example, if you deposit 10 ${collateralToken.name}, ( $${\n          +formatBNToString(borrowData.priceOfCollateral, 18) * 10\n        }) you are allowed to borrow ${formatBNToString(\n          calculateMaxBorrowHelper(\"10\"),\n          18,\n          5,\n        )}* RUSD.`}\n        <br />\n        <br />\n        {\n          \"*Note: The amount of RUSD you will actually receive is less than what you borrow because the borrow fee is charged in RUSD and added to your total debt.\"\n        }\n      </>\n    )\n  }\n\n  const GlossaryItem = ({ title, text }: { title: string; text: string }) => {\n    return (\n      <>\n        <b>{title}</b>: {text}\n      </>\n    )\n  }\n\n  const mcrFormatted = formatBNToPercentString(borrowData.mcr, 18, 0)\n\n  return (\n    <PageWrapper activeTab=\"borrow\">\n      <Drawer\n        isOpen={isOpen}\n        placement=\"right\"\n        onClose={onClose}\n        finalFocusRef={btnRef}\n        size=\"sm\"\n      >\n        <DrawerOverlay />\n        <DrawerContent bg={drawerBg} p=\"50px 10px\">\n          <DrawerCloseButton />\n          <DrawerBody p=\"5px\">\n            <OverviewInfo\n              infoType=\"Borrow\"\n              sections={[\n                {\n                  title: \"How to borrow RUSD\",\n                  items: [\n                    {\n                      icon: FaHandHoldingUsd,\n                      text: <HowToBorrowText />,\n                    },\n                  ],\n                },\n                {\n                  title: \"Balances\",\n                  items: [\n                    {\n                      icon: BsCurrencyDollar,\n                      text: (\n                        <GlossaryItem\n                          title={`${collateralToken.symbol} Balance`}\n                          text={`The token amount of ${collateralToken.symbol} you have in your wallet.`}\n                        />\n                      ),\n                    },\n                    {\n                      icon: BsCurrencyDollar,\n                      text: (\n                        <GlossaryItem\n                          title=\"RUSD Balance\"\n                          text=\"The token amount of RUSD you have in your wallet.\"\n                        />\n                      ),\n                    },\n                  ],\n                },\n                {\n                  title: \"My Open Position\",\n                  items: [\n                    {\n                      icon: BsCurrencyDollar,\n                      text: (\n                        <GlossaryItem\n                          title={`${collateralToken.symbol} Collateral Deposited`}\n                          text={`The token amount/dollar value of ${collateralToken.symbol} you have deposited into this market.`}\n                        />\n                      ),\n                    },\n                    {\n                      icon: FaHandHoldingUsd,\n                      text: (\n                        <GlossaryItem\n                          title=\"Total RUSD Debt\"\n                          text=\"The token amount of RUSD you currently owe in this market. Includes fees. The breakdown shows you exactly how much in fees you owe and what amount you are actually borrowing. Note that this will most likely not equal the total RUSD token amount you have in your wallet.\"\n                        />\n                      ),\n                    },\n                  ],\n                },\n                {\n                  title: \"Glossary\",\n                  items: [\n                    {\n                      icon: FaHandHoldingMedical,\n                      text: (\n                        <GlossaryItem\n                          title=\"Your Position Health\"\n                          text={`Your position health is represented as a percentage proportional to the maximum debt ratio. ${mcrFormatted} and higher is at risk for liquidation and 0% is the healthiest your position can be. When you enter values in the input fields, the impact on position health will show as a result and is labeled by 'Updated Position Health'. It will also indicate your action as being 'Safe', 'Moderate', or 'High' in terms of risk.`}\n                        />\n                      ),\n                    },\n                    {\n                      icon: BsExclamationTriangle,\n                      text: (\n                        <GlossaryItem\n                          title=\"Liquidation Price\"\n                          text=\"Estimate of the price at which your position will be flagged for liquidation. Repay RUSD and/or deposit collateral to lower this price.\"\n                        />\n                      ),\n                    },\n                    {\n                      icon: FaGlassWhiskey,\n                      text: (\n                        <GlossaryItem\n                          title=\"RUSD Left to Borrow\"\n                          text=\"The amount of RUSD left for you to borrow. Increase this amount by repaying RUSD or by depositing more collateral.\"\n                        />\n                      ),\n                    },\n                    {\n                      icon: FaDivide,\n                      text: (\n                        <GlossaryItem\n                          title=\"Maximum Debt Ratio\"\n                          text=\"Ratio representing the maximum debt you are allowed to carry in this market over the dollar value of collateral deposited.\"\n                        />\n                      ),\n                    },\n                    {\n                      icon: BsCurrencyDollar,\n                      text: (\n                        <GlossaryItem\n                          title=\"Liquidation Fee\"\n                          text=\"This is the discount a liquidator gets when buying collateral flagged for liquidation.\"\n                        />\n                      ),\n                    },\n                    {\n                      icon: BsCurrencyDollar,\n                      text: (\n                        <GlossaryItem\n                          title=\"Borrow Fee\"\n                          text=\"This is the fee applied to your RUSD Borrowed every time you borrow RUSD.\"\n                        />\n                      ),\n                    },\n                    {\n                      icon: BsCurrencyDollar,\n                      text: (\n                        <GlossaryItem\n                          title=\"Interest\"\n                          text=\"interest rate per year (APR).\"\n                        />\n                      ),\n                    },\n                  ],\n                },\n              ]}\n            />\n          </DrawerBody>\n          <DrawerFooter>\n            <Link\n              href=\"https://medium.com/@RoseOnAurora/rose-borrow-testnet-launch-a66f3f1de949\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Go to Full How-to Guide<sup></sup>\n            </Link>\n          </DrawerFooter>\n        </DrawerContent>\n      </Drawer>\n      <ComponentWrapper\n        top={<BackButton route=\"/borrow\" buttonText=\"Go back to markets\" />}\n        left={\n          <TabsWrapper\n            tabsProps={{ variant: \"primary\" }}\n            tab1={{\n              name: t(\"borrow\"),\n              content: (\n                <BorrowForm\n                  borrowToken={borrowToken}\n                  collateralToken={collateralToken}\n                  isStable={isStable}\n                  max={formatBNToString(borrowData.collateralTokenBalance, 18)}\n                  collateralUSDPrice={\n                    +formatBNToString(borrowData.priceOfCollateral, 18)\n                  }\n                  formDescription={<FormDescription />}\n                  borrowValidator={validateBorrow}\n                  collateralValidator={validateDepositCollateral}\n                  handlePreSubmit={preTransaction}\n                  handleWhileSubmitting={onSubmitting}\n                  handlePostSubmit={postTransaction}\n                  getMaxBorrow={calculateMaxBorrow}\n                  updateLiquidationPrice={updateCurrLiquidationPrice}\n                  updatePositionHealth={updatePositionHealth}\n                  handleSubmit={cook}\n                  submitButtonLabelText={submitButtonLabelText}\n                />\n              ),\n            }}\n            tab2={{\n              name: t(\"Repay\"),\n              content: (\n                <RepayForm\n                  borrowToken={borrowToken}\n                  collateralToken={collateralToken}\n                  isStable={isStable}\n                  max={formatBNToString(\n                    borrowData.borrowed.gt(borrowData.rusdUserBalance)\n                      ? borrowData.rusdUserBalance\n                      : borrowData.borrowed,\n                    18,\n                  )}\n                  maxRepayBn={borrowData.borrowed}\n                  maxCollateralBn={borrowData.collateralDeposited}\n                  getMaxWithdraw={calculateMaxWithdraw}\n                  collateralUSDPrice={\n                    +formatBNToString(borrowData.priceOfCollateral, 18)\n                  }\n                  formDescription={<FormDescription />}\n                  repayValidator={validateRepay}\n                  collateralValidator={validateWithdrawCollateral}\n                  handlePreSubmit={preTransaction}\n                  handleWhileSubmitting={onSubmitting}\n                  handlePostSubmit={postTransaction}\n                  updatePositionHealth={updatePositionHealth}\n                  updateLiquidationPrice={updateCurrLiquidationPrice}\n                  handleSubmit={cook}\n                  submitButtonLabelText={submitButtonLabelText}\n                />\n              ),\n            }}\n          />\n        }\n        right={\n          <StakeDetails\n            extraStakeDetailChild={\n              <Flex justifyContent=\"space-between\" alignItems=\"center\">\n                <FaHandHoldingMedical\n                  size=\"35px\"\n                  color=\"#cc3a59\"\n                  title=\"Your Position Health\"\n                />\n                <Box width={230}>\n                  <Progress\n                    colorScheme={calculatePositionHealthColor(\n                      positionHealth(),\n                      isStable,\n                    )}\n                    height=\"30px\"\n                    value={positionHealth()}\n                    title={`${positionHealth().toFixed(0)}%`}\n                    isAnimated\n                    hasStripe\n                  />\n                </Box>\n              </Flex>\n            }\n            bottom={\n              <Flex justifyContent=\"space-between\" alignItems=\"center\">\n                <IconButton\n                  ref={btnRef}\n                  onClick={onOpen}\n                  aria-label=\"Get Help\"\n                  variant=\"outline\"\n                  size=\"md\"\n                  icon={<FaInfoCircle />}\n                  title=\"Get Help\"\n                />\n                <Text>Need Help?</Text>\n              </Flex>\n            }\n            balanceView={{\n              title: t(\"Balances\"),\n              items: [\n                {\n                  tokenName: collateralToken.symbol,\n                  icon: collateralToken.icon,\n                  amount: commify(\n                    formatBNToString(borrowData.collateralTokenBalance, 18, 5),\n                  ),\n                },\n                {\n                  tokenName: borrowToken.symbol,\n                  icon: borrowToken.icon,\n                  amount: commify(\n                    formatBNToString(borrowData.rusdUserBalance, 18, 5),\n                  ),\n                },\n              ],\n            }}\n            stakedView={{\n              title: t(\"My Open Position\"),\n              items: [\n                {\n                  tokenName: `${collateralToken.symbol} Collateral Deposited`,\n                  icon: collateralToken.icon,\n                  amount: `${commify(\n                    formatBNToString(borrowData.collateralDeposited, 18, 5),\n                  )} ($${commify(\n                    formatBNToString(\n                      borrowData.collateralDepositedUSDPrice,\n                      18,\n                      2,\n                    ),\n                  )})`,\n                },\n                {\n                  tokenName: `Total ${borrowToken.symbol} Debt`,\n                  icon: borrowToken.icon,\n                  amount: commify(formatBNToString(borrowData.borrowed, 18, 5)),\n                  collapseContent: (\n                    <Box my=\"5px\" color={borrowCollapseTextColor}>\n                      <Flex justifyContent=\"space-between\" alignItems=\"center\">\n                        <Text fontSize=\"13px\">Borrowed:</Text>\n                        <Box>\n                          {commify(\n                            formatBNToString(\n                              borrowData.borrowed\n                                .sub(borrowData.feesOwed)\n                                .abs(),\n                              18,\n                              5,\n                            ),\n                          )}\n                        </Box>\n                      </Flex>\n                      <Flex justifyContent=\"space-between\" alignItems=\"center\">\n                        <Text fontSize=\"13px\">Unpaid Fees in RUSD:</Text>\n                        <Box>\n                          {commify(\n                            formatBNToString(borrowData.feesOwed, 18, 5),\n                          )}\n                        </Box>\n                      </Flex>\n                    </Box>\n                  ),\n                },\n              ],\n            }}\n            stats={[\n              {\n                statLabel: \"Liquidation Price\",\n                statValue: liquidationPriceFormatted(),\n              },\n              {\n                statLabel: \"RUSD Left to Borrow\",\n                statValue: commify(\n                  formatBNToString(borrowData.rusdLeftToBorrow, 18, 5),\n                ),\n              },\n              {\n                statLabel: \"Maximum Debt Ratio\",\n                statValue: mcrFormatted,\n              },\n              {\n                statLabel: \"Liquidation Fee\",\n                statValue: formatBNToPercentString(\n                  borrowData.liquidationFee,\n                  18,\n                  2,\n                ),\n              },\n              {\n                statLabel: \"Borrow Fee\",\n                statValue: formatBNToPercentString(borrowData.borrowFee, 18, 1),\n              },\n              {\n                statLabel: \"Interest\",\n                statValue: formatBNToPercentString(borrowData.interest, 18, 2),\n              },\n            ]}\n          />\n        }\n      />\n    </PageWrapper>\n  )\n}\nexport default Borrow\n","export function getFormattedShortTime(timestamp: string | number): string {\n  const timestampNumber =\n    typeof timestamp === \"string\" ? parseInt(timestamp) : timestamp\n  const timeoptions = {\n    month: \"numeric\",\n    day: \"numeric\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n  } as const\n  return new Date(timestampNumber * 1000)\n    .toLocaleTimeString([], timeoptions)\n    .replace(\",\", \"\")\n}\n\nexport function msToHMS(ms: number): [string, string, string] {\n  // 1- Convert to seconds:\n  let seconds = ms / 1000\n  // 2- Extract hours:\n  const hours = (seconds / 3600).toFixed(0) // 3,600 seconds in 1 hour\n  seconds = seconds % 3600 // seconds remaining after extracting hours\n  // 3- Extract minutes:\n  const minutes = (seconds / 60).toFixed(0) // 60 seconds in 1 minute\n  // 4- Keep only seconds not extracted to minutes:\n  const secondsRounded = (seconds % 60).toFixed()\n  return [\n    String(hours).padStart(2, \"0\"),\n    String(minutes).padStart(2, \"0\"),\n    String(secondsRounded).padStart(2, \"0\"),\n  ]\n}\n","/* eslint-disable */\nimport { motion } from \"framer-motion\"\nimport { useEffect, useRef, useState } from \"react\"\nimport useWindowSize from \"../hooks/useWindowSize\"\nimport \"./AnimatingNumber.scss\"\n\nfunction usePrevious(value) {\n  const ref = useRef()\n\n  useEffect(() => {\n    ref.current = value\n  })\n\n  return ref.current\n}\n\nfunction formatForDisplay(number = 0, precision = 2) {\n  return parseFloat(Math.max(number, 0)).toFixed(precision).split(\"\").reverse()\n}\n\nfunction DecimalColumn() {\n  return (\n    <div>\n      <div>.</div>\n    </div>\n  )\n}\n\nfunction NumberColumn({ digit, delta }) {\n  const [position, setPosition] = useState(0)\n  const [animationClass, setAnimationClass] = useState(null)\n  const previousDigit = usePrevious(digit)\n  const columnContainer = useRef()\n  const [width, height] = useWindowSize()\n\n  const setColumnToNumber = (number) => {\n    setPosition(columnContainer.current.clientHeight * parseInt(number, 10))\n  }\n\n  useEffect(() => setAnimationClass(previousDigit !== digit ? delta : \"\"), [\n    digit,\n    delta,\n  ])\n  useEffect(() => setColumnToNumber(digit), [digit, width, height])\n\n  return (\n    <div className=\"ticker-column-container\" ref={columnContainer}>\n      <motion.div\n        animate={{ y: position }}\n        className={`ticker-column ${animationClass}`}\n        onAnimationComplete={() => setAnimationClass(\"\")}\n      >\n        {[9, 8, 7, 6, 5, 4, 3, 2, 1, 0].map((num) => (\n          <div key={num} className=\"ticker-digit\">\n            {num}\n          </div>\n        ))}\n      </motion.div>\n      <span className=\"number-placeholder\">0</span>\n    </div>\n  )\n}\n\nexport default function AnimatingNumber({ value, precision = 2, fontSize = \"30px\" }) {\n  const numArray = formatForDisplay(value, precision)\n  const previousNumber = usePrevious(value)\n\n  let delta = null\n  if (value >= previousNumber) delta = \"increase\"\n  if (value < previousNumber) delta = \"decrease\"\n\n  return (\n    <motion.div layout className=\"ticker-view\" style={{ fontSize }}>\n      {numArray.map((number, index) =>\n        number === \".\" ? (\n          <DecimalColumn key={index} />\n        ) : (\n          <NumberColumn key={index} digit={number} delta={delta} />\n        ),\n      )}\n    </motion.div>\n  )\n}\n","import { useLayoutEffect, useState } from \"react\"\n\nexport default function useWindowSize(): [number, number] {\n  const [size, setSize] = useState<[number, number]>([0, 0])\n  useLayoutEffect(() => {\n    function updateSize() {\n      setSize([window.innerWidth, window.innerHeight])\n    }\n    window.addEventListener(\"resize\", updateSize)\n    updateSize()\n    return () => window.removeEventListener(\"resize\", updateSize)\n  }, [])\n  return size\n}\n","import { Box, Flex, Stack, Text } from \"@chakra-ui/react\"\nimport React, { ReactElement } from \"react\"\nimport { getFormattedShortTime, msToHMS } from \"../utils/dateTime\"\nimport AnimateNumber from \"./AnimateNumber\"\n\ninterface Props {\n  timeLeft: number\n}\n\nconst BorrowCountdownLanding = ({ timeLeft }: Props): ReactElement => {\n  const [hours, minutes, seconds] = msToHMS(timeLeft)\n  return (\n    <Box h=\"100vh\" position=\"relative\">\n      <Box\n        position=\"absolute\"\n        top=\"80px\"\n        left=\"50%\"\n        transform=\"translateX(-50%)\"\n        style={{ WebkitTransform: \"translateX(-50%)\" }}\n        zIndex={5}\n      >\n        <Stack spacing=\"50px\" whiteSpace=\"nowrap\">\n          <Flex\n            justifyContent=\"center\"\n            alignItems=\"center\"\n            gridGap=\"10px\"\n            flexDirection={{ base: \"column\", md: \"row\" }}\n            fontSize=\"30px\"\n            fontWeight={700}\n          >\n            <Text>Borrow launching at</Text>\n            <Text>{getFormattedShortTime(1649343600)} PST</Text>\n          </Flex>\n          {timeLeft >= 60000 ? (\n            <Text\n              textAlign=\"center\"\n              fontSize=\"50px\"\n              fontWeight={700}\n              color=\"white\"\n            >\n              {`${hours}:${minutes}:${seconds}`}\n            </Text>\n          ) : (\n            <Flex justifyContent=\"center\" alignItems=\"center\">\n              <AnimateNumber precision={0} value={seconds} fontSize=\"90px\" />\n            </Flex>\n          )}\n        </Stack>\n      </Box>\n      {/* hacky box to cover the spline watermark... oh well */}\n      <Box\n        bg=\"#07080e\"\n        borderRadius=\"50%\"\n        w=\"50px\"\n        height=\"50px\"\n        bottom=\"10px\"\n        right=\"10px\"\n        position=\"absolute\"\n      />\n      <iframe\n        src=\"https://my.spline.design/roseexplorationheroheader-fe9762401df853fdc74a5ef1b72c74d4/\"\n        frameBorder=\"0\"\n        width=\"100%\"\n        height=\"100%\"\n      />\n    </Box>\n  )\n}\n\nexport default BorrowCountdownLanding\n","import {\n  Box,\n  BoxProps,\n  Grid,\n  GridItem,\n  Stat,\n  StatLabel,\n  StatNumber,\n  Tooltip,\n} from \"@chakra-ui/react\"\nimport React, { ReactElement, ReactNode, memo, useRef } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { motion } from \"framer-motion\"\nimport { useEffect } from \"react\"\n\ninterface Props extends BoxProps {\n  fields: Field[]\n  name: string\n  route: string\n}\n\nexport interface Field {\n  label: string\n  valueRaw: string\n  valueComponent?: ReactNode\n  tooltip?: ReactNode\n}\n\nconst FormmattedStat = ({\n  label,\n  valueRaw,\n  valueComponent,\n  tooltip,\n}: Field): ReactElement => {\n  return (\n    <Stat ml={3}>\n      <StatLabel\n        color=\"var(--text-lighter)\"\n        fontSize={{ base: \"11px\", md: \"13px\" }}\n      >\n        {label}\n      </StatLabel>\n      {tooltip ? (\n        <Tooltip bgColor=\"#cc3a59\" label={tooltip}>\n          <StatNumber\n            display=\"inline-block\"\n            fontSize={{ base: \"13px\", md: \"16px\" }}\n            fontWeight=\"400\"\n            borderBottom=\"1px dotted var(--text)\"\n            cursor=\"help\"\n          >\n            {valueComponent || valueRaw}\n          </StatNumber>\n        </Tooltip>\n      ) : (\n        <StatNumber fontSize={{ base: \"13px\", md: \"16px\" }} fontWeight=\"400\">\n          {valueComponent || valueRaw}\n        </StatNumber>\n      )}\n    </Stat>\n  )\n}\n\nconst AnimatedComponentCard = memo(\n  (props: Props) => {\n    const { fields, route, name, ...other } = props\n    const MotionBox = motion(Box)\n    const prevNameRef = useRef<string>()\n    useEffect(() => {\n      prevNameRef.current = name\n    }, [name])\n    return (\n      <MotionBox\n        initial={\n          prevNameRef.current === name\n            ? { opacity: 1, scale: 1 }\n            : { opacity: 0, scale: 0 }\n        }\n        animate={{ opacity: 1, scale: 1 }}\n        transition={{ duration: 0.5 }}\n        exit={{ opacity: 0, scale: 1 }}\n        layout\n        {...other}\n      >\n        <Link to={route} style={{ margin: 0, width: \"100%\" }}>\n          <Grid\n            templateColumns={{\n              base: `repeat(${fields.length < 3 ? fields.length : 3}, 1fr)`,\n              md: `repeat(${fields.length}, 1fr)`,\n            }}\n            gap={3}\n            alignItems=\"baseline\"\n          >\n            {fields.map((field, index) => (\n              <GridItem key={index} ml=\"10px\">\n                <FormmattedStat {...field} />\n              </GridItem>\n            ))}\n          </Grid>\n        </Link>\n      </MotionBox>\n    )\n  },\n  (next, prev) =>\n    next.fields.every(\n      ({ valueRaw = \"\" }, index) => valueRaw === prev.fields[index]?.valueRaw,\n    ) && next.fields.length === prev.fields.length,\n)\n\nAnimatedComponentCard.displayName = \"AnimatedComponentCard\"\n\nexport default AnimatedComponentCard\n","import { Box, Flex, Text } from \"@chakra-ui/react\"\nimport React, { ReactElement } from \"react\"\n\ninterface Props {\n  name: string\n  icon: string\n}\n\nconst FormattedComponentName = ({ name, icon }: Props): ReactElement => (\n  <Flex gridGap=\"5px\" alignItems=\"center\" mt=\"0 !important\" flexWrap=\"wrap\">\n    <Text fontWeight=\"600\" fontSize={{ base: \"13px\", md: \"16px\" }}>\n      {name}\n    </Text>\n    <Box\n      width={\n        /rose-/.exec(icon || \"\")\n          ? { base: \"30px\", md: \"50px\" }\n          : /dai-usdt-usdc/.exec(icon)\n          ? { base: \"25px\", md: \"40px\" }\n          : { base: \"15px\", md: \"30px\" }\n      }\n    >\n      <img alt=\"icon\" src={icon} width=\"100%\" />\n    </Box>\n  </Flex>\n)\n\nexport default FormattedComponentName\n","import AnimatedComponentCard, { Field } from \"./ComponentCard\"\nimport React, { ReactElement, useMemo } from \"react\"\nimport { formatBNToPercentString, formatBNToShortString } from \"../utils\"\nimport { AppState } from \"../state\"\nimport { BORROW_SORT_FIELDS_TO_LABEL } from \"../constants/index\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { BorrowSortFields } from \"../state/user\"\nimport FormattedComponentName from \"./FormattedComponentName\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { useSelector } from \"react-redux\"\n\nexport interface BorrowMarketsOverviewData {\n  marketName: string\n  borrowRoute: string\n  tokenIcon: string\n  borrowed: BigNumber\n  position: BigNumber\n  rusdLeftToBorrow: BigNumber\n  tvl: BigNumber\n  interest: BigNumber\n  fee: BigNumber\n}\n\nfunction BorrowMarketsOverview(props: BorrowMarketsOverviewData): ReactElement {\n  const {\n    marketName,\n    borrowRoute,\n    tokenIcon,\n    rusdLeftToBorrow,\n    borrowed,\n    position,\n    tvl,\n    interest,\n    fee,\n  } = props\n\n  const formattedData: { [field in BorrowSortFields]: Field } = useMemo(() => {\n    return {\n      name: {\n        label: BORROW_SORT_FIELDS_TO_LABEL[BorrowSortFields.NAME],\n        valueRaw: marketName,\n        valueComponent: (\n          <FormattedComponentName name={marketName} icon={tokenIcon} />\n        ),\n      },\n      borrow: {\n        label: BORROW_SORT_FIELDS_TO_LABEL[BorrowSortFields.BORROW],\n        valueRaw: borrowed.gt(Zero) ? formatBNToShortString(borrowed, 18) : \"-\",\n      },\n      collateral: {\n        label: BORROW_SORT_FIELDS_TO_LABEL[BorrowSortFields.COLLATERAL],\n        valueRaw: position.gt(Zero)\n          ? `$${formatBNToShortString(position, 18)}`\n          : \"-\",\n      },\n      tvl: {\n        label: BORROW_SORT_FIELDS_TO_LABEL[BorrowSortFields.TVL],\n        valueRaw: tvl.gt(Zero) ? `$${formatBNToShortString(tvl, 18)}` : \"-\",\n      },\n      supply: {\n        label: BORROW_SORT_FIELDS_TO_LABEL[BorrowSortFields.SUPPLY],\n        valueRaw: formatBNToShortString(rusdLeftToBorrow, 18),\n      },\n\n      interest: {\n        label: BORROW_SORT_FIELDS_TO_LABEL[BorrowSortFields.INTEREST],\n        valueRaw: formatBNToPercentString(interest, 18, 1),\n      },\n      liquidationFee: {\n        label: BORROW_SORT_FIELDS_TO_LABEL[BorrowSortFields.LIQUIDATION_FEE],\n        valueRaw: formatBNToPercentString(fee, 18, 1),\n      },\n    }\n  }, [\n    marketName,\n    tokenIcon,\n    rusdLeftToBorrow,\n    borrowed,\n    position,\n    tvl,\n    interest,\n    fee,\n  ])\n\n  const { borrowPreferences } = useSelector(\n    (state: AppState) => state.user,\n    (l, r) =>\n      l.borrowPreferences.visibleFields === r.borrowPreferences.visibleFields,\n  )\n\n  const fields: Field[] = Object.values(BorrowSortFields)\n    .filter((field) => {\n      return borrowPreferences.visibleFields[field] > 0\n    })\n    .map((field) => {\n      return formattedData[field]\n    })\n\n  return (\n    <AnimatedComponentCard\n      name={marketName}\n      fields={fields}\n      route={`borrow/${borrowRoute}`}\n      borderRadius=\"10px\"\n      p=\"15px\"\n      background=\"var(--background-element)\"\n      boxShadow=\"var(--shadow)\"\n      _hover={{ bg: \"var(--background-element-hover)\" }}\n    />\n  )\n}\n\nexport default BorrowMarketsOverview\n","import { Box, Flex, Stack, Text } from \"@chakra-ui/react\"\nimport React, { ReactElement, ReactNode } from \"react\"\nimport { FaLayerGroup } from \"react-icons/fa\"\n\ninterface DashboardProps {\n  dashboardContent: ReactNode\n  dashboardName: string\n}\n\nconst Dashboard = ({\n  dashboardContent,\n  dashboardName,\n}: DashboardProps): ReactElement => {\n  return (\n    <Stack spacing=\"10px\">\n      <Box\n        background=\"var(--background-element)\"\n        borderRadius=\"10px\"\n        p=\"10px\"\n        boxShadow=\"var(--shadow)\"\n      >\n        <Box\n          background=\"var(--secondary-background)\"\n          p=\"15px\"\n          borderRadius=\"10px\"\n        >\n          <Flex justifyContent=\"space-between\" alignItems=\"center\">\n            <Text fontSize=\"35px\" fontWeight=\"700\">\n              {dashboardName}\n            </Text>\n            <FaLayerGroup color=\"#cc3a59\" size=\"45px\" title=\"Dashboard\" />\n          </Flex>\n        </Box>\n      </Box>\n      <Box\n        background=\"var(--background-element)\"\n        borderRadius=\"10px\"\n        p=\"10px\"\n        boxShadow=\"var(--shadow)\"\n      >\n        {dashboardContent}\n      </Box>\n    </Stack>\n  )\n}\n\nexport default Dashboard\n","import {\n  Box,\n  Flex,\n  HStack,\n  IconButton,\n  Select,\n  Stack,\n  useColorModeValue,\n} from \"@chakra-ui/react\"\nimport {\n  FaFilter,\n  FaInfoCircle,\n  FaLayerGroup,\n  FaSortAmountDownAlt,\n  FaSortAmountUp,\n  FaUndo,\n} from \"react-icons/fa\"\nimport React, { ReactElement, ReactNode } from \"react\"\nimport { BsSliders } from \"react-icons/bs\"\nimport { IconButtonPopover } from \"../Popover\"\n\ninterface Props {\n  sortDirection: number\n  sortByField: string\n  sortFieldLabelMap: { [key: string]: string }\n  filterByField: string\n  filterFieldLabelMap: { [key: string]: string }\n  popOverContent: ReactNode\n  handleSortDirection: (direction: number) => void\n  handleClearFilter: () => void\n  handleUpdateSortField: (e: React.ChangeEvent<HTMLSelectElement>) => void\n  handleUpdateFilterField: (e: React.ChangeEvent<HTMLSelectElement>) => void\n  onIconClick: (isInfo: boolean) => void\n}\n\nconst OverviewInputFieldsWrapper = ({\n  sortDirection,\n  popOverContent,\n  sortByField,\n  sortFieldLabelMap,\n  filterByField,\n  filterFieldLabelMap,\n  handleSortDirection,\n  handleClearFilter,\n  handleUpdateSortField,\n  handleUpdateFilterField,\n  onIconClick,\n}: Props): ReactElement => {\n  const defaultBoxProps = {\n    bgColor: useColorModeValue(\"whiteAlpha.600\", \"blackAlpha.900\"),\n    borderRadius: \"10px\",\n    p: \"10px\",\n    boxShadow: \"var(--shadow)\",\n  }\n  const defaultSelectProps = {\n    fontSize: { base: \"12px\", sm: \"13px\", md: \"16px\" },\n    variant: \"filled\",\n    focusBorderColor: useColorModeValue(\"blackAlpha.900\", \"rosybrown\"),\n  }\n\n  return (\n    <Flex\n      gridGap=\"15px\"\n      justifyContent=\"space-between\"\n      alignItems={{ base: \"baseline\", lg: \"center\" }}\n    >\n      <Stack\n        spacing={{ base: \"10px\", lg: \"15px\" }}\n        direction={{ base: \"column\", lg: \"row\" }}\n      >\n        <HStack spacing=\"5px\">\n          <Box {...defaultBoxProps}>\n            <IconButton\n              _focus={{ boxShadow: \"none\" }}\n              aria-label=\"sort\"\n              title={sortDirection > 0 ? \"Sort Ascending\" : \"Sort Descending\"}\n              icon={\n                sortDirection > 0 ? <FaSortAmountUp /> : <FaSortAmountDownAlt />\n              }\n              onClick={() => handleSortDirection(sortDirection * -1)}\n            />\n          </Box>\n          <Box {...defaultBoxProps} maxW={{ base: \"200px\", md: \"100%\" }}>\n            <Select\n              {...defaultSelectProps}\n              value={sortByField}\n              onChange={(e) => handleUpdateSortField(e)}\n            >\n              {Object.entries(sortFieldLabelMap).map(\n                ([value, label], index) => {\n                  return (\n                    <option key={index} value={value}>\n                      Sort by {label}\n                    </option>\n                  )\n                },\n              )}\n            </Select>\n          </Box>\n        </HStack>\n        <HStack spacing=\"5px\">\n          <Box {...defaultBoxProps}>\n            <IconButton\n              _focus={{ boxShadow: \"none\" }}\n              aria-label=\"sort\"\n              // TO-DO: union the enums and use this as general type\n              disabled={filterByField === \"noFilter\"}\n              title={filterByField === \"noFilter\" ? \"Filter\" : \"Clear Filter\"}\n              icon={filterByField === \"noFilter\" ? <FaFilter /> : <FaUndo />}\n              onClick={handleClearFilter}\n            />\n          </Box>\n          <Box {...defaultBoxProps} maxW={{ base: \"200px\", md: \"100%\" }}>\n            <Select\n              {...defaultSelectProps}\n              value={filterByField}\n              onChange={(e) => handleUpdateFilterField(e)}\n            >\n              {Object.entries(filterFieldLabelMap).map(\n                ([value, label], index) => {\n                  return (\n                    <option\n                      disabled={value === \"noFilter\"}\n                      key={index}\n                      value={value}\n                    >\n                      {value === \"noFilter\"\n                        ? \"Select a Filter\"\n                        : `Filter by ${label}`}\n                    </option>\n                  )\n                },\n              )}\n            </Select>\n          </Box>\n        </HStack>\n      </Stack>\n      <Stack\n        spacing=\"5px\"\n        alignItems=\"center\"\n        direction={{ base: \"column\", lg: \"row\" }}\n      >\n        <Box {...defaultBoxProps}>\n          <IconButtonPopover\n            IconButtonProps={{\n              \"aria-label\": \"Configure Settings\",\n              size: \"md\",\n              icon: <BsSliders />,\n              title: \"Configure Settings\",\n              _focus: { boxShadow: \"none\" },\n            }}\n            PopoverBodyContent={popOverContent}\n          />\n        </Box>\n        <Box {...defaultBoxProps}>\n          <IconButton\n            aria-label=\"Help\"\n            size=\"md\"\n            title=\"Need Help?\"\n            _focus={{ boxShadow: \"none\" }}\n            icon={<FaInfoCircle />}\n            onClick={() => onIconClick(true)}\n          />\n        </Box>\n        <Box {...defaultBoxProps} display={{ base: \"flex\", lg: \"none\" }}>\n          <IconButton\n            _focus={{ boxShadow: \"none\" }}\n            aria-label=\"dashboard\"\n            title=\"Dashboard\"\n            icon={<FaLayerGroup color=\"#cc3a59\" />}\n            onClick={() => onIconClick(false)}\n          />\n        </Box>\n      </Stack>\n    </Flex>\n  )\n}\n\nexport default OverviewInputFieldsWrapper\n","import {\n  Box,\n  Divider,\n  Grid,\n  GridItem,\n  Radio,\n  RadioGroup,\n  Switch,\n  Text,\n} from \"@chakra-ui/react\"\nimport React, { ReactElement } from \"react\"\n\ntype Preferences = {\n  visibleFields: {\n    [key: string]: number\n  }\n  filterField: string\n  sortField: string\n}\n\ntype Props = {\n  sortFieldLabelMap: { [key: string]: string }\n  filterFieldLabelMap: { [key: string]: string }\n  preferences: Preferences\n  updateVisibleFields: (\n    e: React.ChangeEvent<HTMLInputElement>,\n    field: string,\n  ) => void\n  updateSortPreferences: (e: React.ChangeEvent<HTMLInputElement>) => void\n  updateFilterPreferences: (e: React.ChangeEvent<HTMLInputElement>) => void\n}\n\nconst OverviewSettingsContent = ({\n  sortFieldLabelMap,\n  filterFieldLabelMap,\n  preferences,\n  updateVisibleFields,\n  updateSortPreferences,\n  updateFilterPreferences,\n}: Props): ReactElement => {\n  const defaultGridProps = {\n    gridTemplateRows: \"auto\",\n    gridTemplateColumns: \"repeat(2, 1fr)\",\n    rowGap: \"5px\",\n  }\n  return (\n    <Box p=\"15px\">\n      <Grid gridTemplateRows=\"auto\" rowGap=\"15px\">\n        <GridItem>\n          <Text fontSize=\"23px\" fontWeight=\"700\">\n            Your Preferences\n          </Text>\n        </GridItem>\n        <Divider />\n        <GridItem>\n          <Text mb=\"10px\" fontWeight=\"600\">\n            Visible Fields\n          </Text>\n          <Grid {...defaultGridProps}>\n            {Object.entries(sortFieldLabelMap).map(([value, label], index) => (\n              <GridItem rowSpan={1} colSpan={1} key={index}>\n                <Grid templateColumns=\"repeat(2, 1fr)\">\n                  <GridItem>\n                    <Text fontSize=\"14px\">{label}</Text>\n                  </GridItem>\n                  <GridItem justifySelf=\"flex-end\" mr=\"15px\">\n                    <Switch\n                      onChange={(e) => updateVisibleFields(e, value)}\n                      value={preferences.visibleFields[value]}\n                      isChecked={\n                        preferences.visibleFields[value] > 0 ? true : false\n                      }\n                      size=\"sm\"\n                      colorScheme=\"green\"\n                    />\n                  </GridItem>\n                </Grid>\n              </GridItem>\n            ))}\n          </Grid>\n        </GridItem>\n        <Divider />\n        <GridItem>\n          <Text mb=\"10px\" fontWeight=\"600\">\n            Default Sorting Field\n          </Text>\n          <RadioGroup value={preferences.sortField} size=\"sm\">\n            <Grid {...defaultGridProps}>\n              {Object.entries(sortFieldLabelMap).map(\n                ([value, label], index) => (\n                  <GridItem rowSpan={1} colSpan={1} key={index} fontSize=\"12px\">\n                    <Radio\n                      onChange={(e) => updateSortPreferences(e)}\n                      value={value}\n                      colorScheme=\"green\"\n                    >\n                      {label}\n                    </Radio>\n                  </GridItem>\n                ),\n              )}\n            </Grid>\n          </RadioGroup>\n        </GridItem>\n        <Divider />\n        <GridItem>\n          <Text mb=\"10px\" fontWeight=\"600\">\n            Default Filter Field\n          </Text>\n          <RadioGroup size=\"sm\" value={preferences.filterField}>\n            <Grid {...defaultGridProps}>\n              {Object.entries(filterFieldLabelMap).map(\n                ([value, label], index) => (\n                  <GridItem rowSpan={1} colSpan={1} key={index}>\n                    <Radio\n                      onChange={(e) => updateFilterPreferences(e)}\n                      value={value}\n                      colorScheme=\"green\"\n                    >\n                      {label}\n                    </Radio>\n                  </GridItem>\n                ),\n              )}\n            </Grid>\n          </RadioGroup>\n        </GridItem>\n      </Grid>\n    </Box>\n  )\n}\n\nexport default OverviewSettingsContent\n","import { Grid, GridItem, Stack } from \"@chakra-ui/react\"\nimport React, { ReactElement, ReactNode } from \"react\"\n\ninterface Props {\n  left: ReactNode\n  right: ReactNode\n  top: ReactNode\n}\n\nconst OverviewWrapper = ({ left, right, top }: Props): ReactElement => {\n  return (\n    <Grid\n      templateColumns={{ base: \"100%\", lg: \"63% 34%\" }}\n      templateRows=\"auto\"\n      columnGap={{ base: \"0\", lg: \"30px\" }}\n      rowGap=\"20px\"\n      justifyContent=\"center\"\n    >\n      <GridItem rowSpan={{ base: 2, lg: 1 }} colSpan={1}>\n        {top}\n      </GridItem>\n      <GridItem display={{ base: \"none\", lg: \"grid\" }} rowSpan={10} colSpan={1}>\n        {right}\n      </GridItem>\n      <GridItem rowSpan=\"auto\" colSpan={1}>\n        <Stack spacing=\"10px\">{left}</Stack>\n      </GridItem>\n    </Grid>\n  )\n}\n\nexport default OverviewWrapper\n","import { AppDispatch, AppState } from \"../state\"\nimport {\n  BORROW_FILTER_FIELDS_TO_LABEL,\n  BORROW_MARKET_MAP,\n  BORROW_SORT_FIELDS_TO_LABEL,\n  BorrowMarket,\n  BorrowMarketName,\n  DashboardItems,\n  USDC_MARKET_NAME,\n  USDT_MARKET_NAME,\n  UST_MARKET_NAME,\n  wBTC_MARKET_NAME,\n  wETH_MARKET_NAME,\n  wNEAR_MARKET_NAME,\n} from \"../constants\"\nimport {\n  BorrowFilterFields,\n  BorrowSortFields,\n  updateBorrowFilterPreferences,\n  updateBorrowSortPreferences,\n  updateBorrowVisibleFieldPreferences,\n} from \"../state/user\"\nimport {\n  Box,\n  Drawer,\n  DrawerBody,\n  DrawerCloseButton,\n  DrawerContent,\n  DrawerFooter,\n  DrawerOverlay,\n  Flex,\n  Grid,\n  GridItem,\n  Link,\n  Progress,\n  Skeleton,\n  Stack,\n  Text,\n  useColorModeValue,\n  useDisclosure,\n  useTimeout,\n} from \"@chakra-ui/react\"\nimport { BsCurrencyDollar, BsSliders } from \"react-icons/bs\"\nimport {\n  FaFilter,\n  FaGlassWhiskey,\n  FaHandHoldingMedical,\n  FaHandHoldingUsd,\n  FaLayerGroup,\n  FaSortAmountUp,\n  FaUserLock,\n} from \"react-icons/fa\"\nimport React, { ReactElement, useMemo, useState } from \"react\"\nimport { calculatePositionHealthColor, formatBNToString } from \"../utils\"\nimport useBorrowData, { BorrowDataType } from \"../hooks/useBorrowData\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { AnimatePresence } from \"framer-motion\"\nimport AnimatingNumber from \"../components/AnimateNumber\"\nimport BorrowMarketsOverview from \"../components/BorrowMarketsOverview\"\nimport Dashboard from \"../components/Dashboard\"\nimport FormattedComponentName from \"../components/FormattedComponentName\"\nimport OverviewInfo from \"../components/OverviewInfo\"\nimport OverviewInputFieldsWrapper from \"../components/wrappers/OverviewInputFieldsWrapper\"\nimport OverviewSettingsContent from \"../components/OverviewSettingsContent\"\nimport OverviewWrapper from \"../components/wrappers/OverviewWrapper\"\nimport PageWrapper from \"../components/wrappers/PageWrapper\"\nimport StakeDetails from \"../components/StakeDetails\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { commify } from \"@ethersproject/units\"\n\nfunction BorrowMarkets(): ReactElement {\n  const dispatch = useDispatch<AppDispatch>()\n\n  const { borrowPreferences } = useSelector((state: AppState) => state.user)\n\n  const [sortDirection, setSortDirection] = useState(1)\n  const [sortByField, setSortByField] = useState(borrowPreferences.sortField)\n  const [filterByField, setfilterByField] = useState(\n    borrowPreferences.filterField,\n  )\n  const [timeout, setTimout] = useState(false)\n  const [isInfo, setIsInfo] = useState(false)\n\n  const { isOpen, onOpen, onClose } = useDisclosure()\n  const resetDashboardView = () => {\n    onClose()\n    setIsInfo(false)\n  }\n\n  useTimeout(() => setTimout(true), 10000)\n\n  const onIconButtonClick = (isInfo: boolean): void => {\n    onOpen()\n    setIsInfo(isInfo)\n  }\n\n  const [wNearMarketData, loading1] = useBorrowData(wNEAR_MARKET_NAME)\n  const [usdcMarketData, loading2] = useBorrowData(USDC_MARKET_NAME)\n  const [ustMarketData, loading3] = useBorrowData(UST_MARKET_NAME)\n  const [usdtMarketData, loading4] = useBorrowData(USDT_MARKET_NAME)\n  const [wEthMarketData, loading5] = useBorrowData(wETH_MARKET_NAME)\n  const [wBtcMarketData, loading6] = useBorrowData(wBTC_MARKET_NAME)\n\n  const loading =\n    loading1 || loading2 || loading3 || loading4 || loading5 || loading6\n\n  const marketsData = useMemo(() => {\n    return {\n      [wNEAR_MARKET_NAME]: wNearMarketData,\n      [USDC_MARKET_NAME]: usdcMarketData,\n      [UST_MARKET_NAME]: ustMarketData,\n      [USDT_MARKET_NAME]: usdtMarketData,\n      [wETH_MARKET_NAME]: wEthMarketData,\n      [wBTC_MARKET_NAME]: wBtcMarketData,\n    }\n  }, [\n    wNearMarketData,\n    usdcMarketData,\n    ustMarketData,\n    usdtMarketData,\n    wEthMarketData,\n    wBtcMarketData,\n  ])\n\n  const totalRUSDBorrowed = useMemo(() => {\n    return +formatBNToString(\n      Object.values(marketsData).reduce((sum, { borrowed }) => {\n        return sum.add(borrowed)\n      }, Zero),\n      18,\n    )\n  }, [marketsData])\n\n  const rusdBorrowedFormatted = useMemo(() => {\n    return Object.values(marketsData)\n      .filter((marketData) => {\n        return !marketData.borrowed.isZero()\n      })\n      .map((marketData) => {\n        const marketName = marketData.marketName\n        return {\n          tokenName: `${marketName} Market`,\n          icon: BORROW_MARKET_MAP[marketName].borrowToken.icon,\n          amount: commify(formatBNToString(marketData.borrowed, 18, 5)),\n        }\n      })\n  }, [marketsData])\n\n  const collateralDepositedUSD = useMemo(() => {\n    return Object.values(marketsData)\n      .filter((marketData) => {\n        return !marketData.collateralDepositedUSDPrice.isZero()\n      })\n      .map((marketData) => {\n        const marketName = marketData.marketName\n        return {\n          tokenName: `${marketName} Market`,\n          icon: BORROW_MARKET_MAP[marketName].collateralToken.icon,\n          amount: `$${commify(\n            formatBNToString(marketData.collateralDepositedUSDPrice, 18, 2),\n          )}`,\n        }\n      })\n  }, [marketsData])\n\n  const FILTER_FUNCTIONS: {\n    [filterField in BorrowFilterFields]: (a: BorrowMarket) => boolean\n  } = {\n    borrow: (a: BorrowMarket) => !marketsData[a.name].borrowed.isZero(),\n    supply: (a: BorrowMarket) =>\n      !marketsData[a.name].totalRUSDLeftToBorrow.isZero(),\n    collateral: (a: BorrowMarket) =>\n      !marketsData[a.name].collateralDepositedUSDPrice.isZero(),\n    noFilter: (a: BorrowMarket) => a === a,\n  }\n\n  const SORT_FUNCTIONS: {\n    [sortField in BorrowSortFields]: (\n      a: BorrowMarket,\n      b: BorrowMarket,\n    ) => boolean\n  } = {\n    borrow: (a: BorrowMarket, b: BorrowMarket) =>\n      marketsData[a.name].borrowed.gt(marketsData[b.name].borrowed),\n    supply: (a: BorrowMarket, b: BorrowMarket) =>\n      marketsData[a.name].totalRUSDLeftToBorrow.gt(\n        marketsData[b.name].totalRUSDLeftToBorrow,\n      ),\n    name: (a: BorrowMarket, b: BorrowMarket) =>\n      a.name.localeCompare(b.name) > 1,\n    tvl: (a: BorrowMarket, b: BorrowMarket) =>\n      marketsData[a.name].tvl.gt(marketsData[b.name].tvl),\n    interest: (a: BorrowMarket, b: BorrowMarket) =>\n      marketsData[a.name].interest.gt(marketsData[b.name].interest),\n    liquidationFee: (a: BorrowMarket, b: BorrowMarket) =>\n      marketsData[a.name].liquidationFee.gt(marketsData[b.name].liquidationFee),\n    collateral: (a: BorrowMarket, b: BorrowMarket) =>\n      marketsData[a.name].collateralDepositedUSDPrice.gt(\n        marketsData[b.name].collateralDepositedUSDPrice,\n      ),\n  }\n\n  const GlossaryItem = ({ title, text }: { title: string; text: string }) => {\n    return (\n      <>\n        <b>{title}</b>: {text}\n      </>\n    )\n  }\n\n  return (\n    <PageWrapper activeTab=\"borrow\" maxW=\"1550px\">\n      <Drawer\n        isOpen={isOpen}\n        placement=\"right\"\n        onClose={resetDashboardView}\n        size={isInfo ? \"sm\" : \"md\"}\n      >\n        <DrawerOverlay />\n        <DrawerContent\n          bg={useColorModeValue(\n            \"linear-gradient(to bottom, #f7819a, #ebd9c2, #e9e0d9)\",\n            \"linear-gradient(to right, #141414, #200122, #791038)\",\n          )}\n          p=\"50px 10px\"\n        >\n          <DrawerCloseButton />\n          <DrawerBody p=\"5px\">\n            {isInfo ? (\n              <OverviewInfo\n                infoType=\"Borrow\"\n                sections={[\n                  {\n                    title: \"How to Borrow\",\n                    items: [\n                      {\n                        icon: FaHandHoldingUsd,\n                        text:\n                          \"Click on one of the borrow markets cards to add collateral to borrow RUSD. The name of the market indicates which token(s) are accepted as collateral.\",\n                      },\n                    ],\n                  },\n                  {\n                    title: \"Dashboard\",\n                    items: [\n                      {\n                        icon: FaLayerGroup,\n                        text:\n                          \"View your total borrowed & collateralized positions across all markets all in one view!\",\n                      },\n                    ],\n                  },\n                  {\n                    title: \"Preferences\",\n                    items: [\n                      {\n                        icon: FaSortAmountUp,\n                        text:\n                          \"Sort by any of the borrow market card fields like TVL, Interest & Name.\",\n                      },\n                      {\n                        icon: FaFilter,\n                        text:\n                          \"Filter by your Borrowed Balances and collateralized positions.\",\n                      },\n                      {\n                        icon: BsSliders,\n                        text:\n                          \"Configure your preferences on this page like default sorting behavior. We will save this info for you and apply it each time you visit the page!\",\n                      },\n                    ],\n                  },\n                  {\n                    title: \"Glossary\",\n                    items: [\n                      {\n                        icon: FaUserLock,\n                        text: (\n                          <GlossaryItem\n                            title=\"TVL\"\n                            text=\"The dollar value of total collateral deposited in this market.\"\n                          />\n                        ),\n                      },\n                      {\n                        icon: FaGlassWhiskey,\n                        text: (\n                          <GlossaryItem\n                            title=\"RUSD Left to Borrow\"\n                            text=\"total RUSD left in this market for users to borrow.\"\n                          />\n                        ),\n                      },\n                      {\n                        icon: BsCurrencyDollar,\n                        text: (\n                          <GlossaryItem\n                            title=\"Interest\"\n                            text=\"interest rate per year (APR).\"\n                          />\n                        ),\n                      },\n                      {\n                        icon: BsCurrencyDollar,\n                        text: (\n                          <GlossaryItem\n                            title=\"Liquidation Fee\"\n                            text=\"This is the discount a liquidator gets when buying collateral flagged for liquidation.\"\n                          />\n                        ),\n                      },\n                      {\n                        icon: FaHandHoldingUsd,\n                        text: (\n                          <GlossaryItem\n                            title=\"Your RUSD Borrowed\"\n                            text=\"The amount of RUSD you are borrowing per market.\"\n                          />\n                        ),\n                      },\n                      {\n                        icon: BsCurrencyDollar,\n                        text: (\n                          <GlossaryItem\n                            title=\"Your Collateral Deposited\"\n                            text=\"The dollar value of collateral you have deposited per market.\"\n                          />\n                        ),\n                      },\n                      {\n                        icon: FaHandHoldingMedical,\n                        text: (\n                          <GlossaryItem\n                            title=\"Your Position Health\"\n                            text=\"Your position health is represented as a percentage proportional to the maximum debt ratio. Typically, 80-90% and higher is at risk for liquidation and 0% is the healthiest your position can be.\"\n                          />\n                        ),\n                      },\n                    ],\n                  },\n                ]}\n              />\n            ) : (\n              <BorrowDashboard\n                totalRUSDBorrowed={totalRUSDBorrowed}\n                marketsData={marketsData}\n                rusdBorrowedFormatted={rusdBorrowedFormatted}\n                collateralDepositedUSD={collateralDepositedUSD}\n                loading={loading}\n                timeout={timeout}\n              />\n            )}\n          </DrawerBody>\n          {isInfo && (\n            <DrawerFooter>\n              <Link\n                href=\"https://medium.com/@RoseOnAurora/rose-borrow-testnet-launch-a66f3f1de949\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                Go to Full How-to Guide<sup></sup>\n              </Link>\n            </DrawerFooter>\n          )}\n        </DrawerContent>\n      </Drawer>\n      <OverviewWrapper\n        top={\n          <OverviewInputFieldsWrapper\n            sortDirection={sortDirection}\n            sortByField={sortByField}\n            sortFieldLabelMap={BORROW_SORT_FIELDS_TO_LABEL}\n            filterByField={filterByField}\n            filterFieldLabelMap={BORROW_FILTER_FIELDS_TO_LABEL}\n            handleSortDirection={setSortDirection}\n            handleClearFilter={() =>\n              setfilterByField(BorrowFilterFields.NO_FILTER)\n            }\n            handleUpdateSortField={(e) =>\n              setSortByField(e.target.value as BorrowSortFields)\n            }\n            handleUpdateFilterField={(e) =>\n              setfilterByField(e.target.value as BorrowFilterFields)\n            }\n            popOverContent={\n              <OverviewSettingsContent\n                sortFieldLabelMap={BORROW_SORT_FIELDS_TO_LABEL}\n                filterFieldLabelMap={BORROW_FILTER_FIELDS_TO_LABEL}\n                preferences={borrowPreferences}\n                updateVisibleFields={(e, field: string) =>\n                  dispatch(\n                    updateBorrowVisibleFieldPreferences({\n                      field: field as BorrowSortFields,\n                      value: +e.target.value * -1,\n                    }),\n                  )\n                }\n                updateFilterPreferences={(e) =>\n                  dispatch(\n                    updateBorrowFilterPreferences(\n                      e.target.value as BorrowFilterFields,\n                    ),\n                  )\n                }\n                updateSortPreferences={(e) =>\n                  dispatch(\n                    updateBorrowSortPreferences(\n                      e.target.value as BorrowSortFields,\n                    ),\n                  )\n                }\n              />\n            }\n            onIconClick={onIconButtonClick}\n          />\n        }\n        left={\n          <AnimatePresence>\n            {Object.values(BORROW_MARKET_MAP)\n              .filter((borrowMarket) =>\n                FILTER_FUNCTIONS[filterByField](borrowMarket),\n              )\n              .sort((a, b) => {\n                return SORT_FUNCTIONS[sortByField](a, b)\n                  ? sortDirection * -1\n                  : sortDirection\n              })\n              .map((borrowMarket, index) => {\n                return timeout || !loading ? (\n                  <BorrowMarketsOverview\n                    key={borrowMarket.name}\n                    marketName={borrowMarket.name}\n                    borrowRoute={borrowMarket.route}\n                    tokenIcon={borrowMarket.collateralToken.icon}\n                    borrowed={marketsData[borrowMarket.name].borrowed || Zero}\n                    position={\n                      marketsData[borrowMarket.name]\n                        .collateralDepositedUSDPrice || Zero\n                    }\n                    rusdLeftToBorrow={\n                      marketsData[borrowMarket.name].totalRUSDLeftToBorrow ||\n                      Zero\n                    }\n                    tvl={marketsData[borrowMarket.name].tvl || Zero}\n                    interest={marketsData[borrowMarket.name].interest || Zero}\n                    fee={marketsData[borrowMarket.name].liquidationFee || Zero}\n                  />\n                ) : (\n                  <Skeleton key={index} height=\"100px\" borderRadius=\"10px\" />\n                )\n              })}\n          </AnimatePresence>\n        }\n        right={\n          <BorrowDashboard\n            totalRUSDBorrowed={totalRUSDBorrowed}\n            marketsData={marketsData}\n            rusdBorrowedFormatted={rusdBorrowedFormatted}\n            collateralDepositedUSD={collateralDepositedUSD}\n            loading={loading}\n            timeout={timeout}\n          />\n        }\n      />\n    </PageWrapper>\n  )\n}\n\ninterface BorrowDashboardProps {\n  totalRUSDBorrowed: number\n  marketsData: { [borrowMarket in BorrowMarketName]: BorrowDataType }\n  rusdBorrowedFormatted: DashboardItems[]\n  collateralDepositedUSD: DashboardItems[]\n  loading: boolean\n  timeout: boolean\n}\n\nconst BorrowDashboard = (props: BorrowDashboardProps): ReactElement => {\n  const {\n    totalRUSDBorrowed,\n    marketsData,\n    rusdBorrowedFormatted,\n    collateralDepositedUSD,\n    loading,\n    timeout,\n  } = props\n  const positionTextColorSafe = useColorModeValue(\"green.500\", \"green.200\")\n  const positionTextColorMod = useColorModeValue(\"orange.500\", \"orange.200\")\n  const positionTextColorHigh = useColorModeValue(\"red.500\", \"red.200\")\n  return (\n    <Dashboard\n      dashboardName=\"Borrow Markets\"\n      dashboardContent={\n        <StakeDetails\n          extraStakeDetailChild={\n            <Flex justifyContent=\"space-between\" alignItems=\"center\">\n              <FaHandHoldingUsd\n                color=\"#cc3a59\"\n                size=\"35px\"\n                title=\"Total RUSD Borrowed\"\n              />\n              <AnimatingNumber\n                value={totalRUSDBorrowed}\n                precision={totalRUSDBorrowed > 0 ? 3 : 1}\n              />\n            </Flex>\n          }\n          bottom={\n            <Grid gridTemplateRows=\"auto\" rowGap=\"25px\">\n              <GridItem>\n                <Text fontWeight={700} lineHeight=\"30px\" fontSize=\"25px\">\n                  Your Position Health\n                </Text>\n              </GridItem>\n              <GridItem>\n                {totalRUSDBorrowed > 0 ? (\n                  <Grid gridTemplateRows=\"auto\" rowGap=\"10px\">\n                    {!loading &&\n                      Object.values(marketsData)\n                        .filter(\n                          (a) =>\n                            a.borrowed.gt(Zero) ||\n                            a.collateralDeposited.gt(Zero),\n                        )\n                        .sort((a, b) =>\n                          a.positionHealth.gt(b.positionHealth) ? -1 : 1,\n                        )\n                        .map((marketData, index) => {\n                          // calculate position health, format it and add colors\n                          const positionHealth =\n                            +formatBNToString(marketData.positionHealth, 18) *\n                            100\n                          const positionHealthFormatted = `${positionHealth.toFixed(\n                            0,\n                          )}%`\n                          const barColor = calculatePositionHealthColor(\n                            positionHealth,\n                            BORROW_MARKET_MAP[marketData.marketName].isStable,\n                          )\n                          const textColor =\n                            barColor === \"red\"\n                              ? positionTextColorHigh\n                              : barColor === \"green\"\n                              ? positionTextColorSafe\n                              : positionTextColorMod\n\n                          // return sorted grid items\n                          return (\n                            <GridItem key={index}>\n                              <Flex\n                                justifyContent=\"space-between\"\n                                alignItems=\"center\"\n                              >\n                                <Stack spacing=\"5px\">\n                                  <FormattedComponentName\n                                    name={\n                                      BORROW_MARKET_MAP[marketData.marketName]\n                                        .name\n                                    }\n                                    icon={\n                                      BORROW_MARKET_MAP[marketData.marketName]\n                                        .collateralToken.icon\n                                    }\n                                  />\n                                  <Text color={textColor}>\n                                    {positionHealthFormatted}\n                                  </Text>\n                                </Stack>\n                                <Box width={150}>\n                                  <Progress\n                                    colorScheme={barColor}\n                                    title={positionHealthFormatted}\n                                    height=\"30px\"\n                                    value={positionHealth}\n                                  />\n                                </Box>\n                              </Flex>\n                            </GridItem>\n                          )\n                        })}\n                  </Grid>\n                ) : (\n                  <Text textAlign=\"center\" color=\"var(--text-lighter)\">\n                    Your position health will appear here.\n                  </Text>\n                )}\n              </GridItem>\n            </Grid>\n          }\n          loading={!timeout && loading}\n          balanceView={{\n            title: \"Your RUSD Borrowed\",\n            items: rusdBorrowedFormatted,\n          }}\n          stakedView={{\n            title: \"Your Collateral Deposited\",\n            items: collateralDepositedUSD,\n          }}\n        />\n      }\n    />\n  )\n}\n\nexport default BorrowMarkets\n","export default __webpack_public_path__ + \"static/media/terra-luna-logo.bd9a09bd.svg\";","import { Box, Button, Flex, Text } from \"@chakra-ui/react\"\nimport React, { ReactElement } from \"react\"\nimport useChakraToast, { TransactionType } from \"../hooks/useChakraToast\"\nimport BlockExplorerLink from \"./BlockExplorerLink\"\nimport { ContractReceipt } from \"ethers\"\nimport roseIcon from \"../assets/icons/rose.svg\"\nimport terraLunaIcon from \"../assets/icons/terra-luna-logo.svg\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  totalRewardsAmount: string\n  roseRewardsAmount: string\n  dualRewards?: {\n    tokenName: string\n    amount: string\n  }\n  withdrawAndClaim: () => Promise<void | ContractReceipt>\n  claim: () => Promise<void | ContractReceipt>\n}\n\nconst ToastDescription = ({\n  txnType,\n  status,\n  txnHash,\n}: {\n  txnType: TransactionType\n  status: number\n  txnHash?: string\n}): ReactElement | null => {\n  return txnHash ? (\n    <BlockExplorerLink\n      txnType={txnType}\n      txnHash={txnHash}\n      status={status ? \"Succeeded\" : \"Failed\"}\n    />\n  ) : null\n}\n\nconst FarmRewardsPopoverContent = (props: Props): ReactElement => {\n  const {\n    totalRewardsAmount,\n    roseRewardsAmount,\n    dualRewards,\n    withdrawAndClaim,\n    claim,\n  } = props\n\n  const { t } = useTranslation()\n  const toast = useChakraToast()\n  return (\n    <Box p=\"15px\">\n      <Flex justifyContent=\"center\">\n        <Text as=\"p\" color=\"var(--text-lighter)\">\n          Current Rewards\n        </Text>\n      </Flex>\n      <Flex justifyContent=\"center\">\n        <Box bg=\"#cc3a59\" borderRadius=\"5px\" p=\"20px\" mt=\"5px\">\n          <Text as=\"h3\" color=\"white\">\n            {+totalRewardsAmount > 0 ? (+totalRewardsAmount).toFixed(8) : \"0.0\"}\n          </Text>\n        </Box>\n      </Flex>\n      <Box mt=\"20px\">\n        <Flex\n          justifyContent=\"space-between\"\n          mb=\"10px\"\n          alignItems=\"center\"\n          flexWrap=\"wrap\"\n        >\n          <Flex alignItems=\"center\">\n            <Box width=\"40px\">\n              <img alt=\"icon\" src={roseIcon} width=\"100%\" />\n            </Box>\n            <Text as=\"p\">ROSE:</Text>\n          </Flex>\n          <Text as=\"b\">\n            {+roseRewardsAmount > 0 ? (+roseRewardsAmount).toFixed(8) : \"0.0\"}\n          </Text>\n        </Flex>\n        {dualRewards ? (\n          <Flex\n            justifyContent=\"space-between\"\n            alignItems=\"center\"\n            flexWrap=\"wrap\"\n          >\n            <Flex alignItems=\"center\">\n              <Box width=\"40px\" mr=\"3px\">\n                <img alt=\"icon\" src={terraLunaIcon} width=\"100%\" />\n              </Box>\n              <Text as=\"p\">{dualRewards.tokenName}:</Text>\n            </Flex>\n            <Text as=\"b\">\n              {+dualRewards.amount > 0\n                ? (+dualRewards.amount).toFixed(8)\n                : \"0.0\"}\n            </Text>\n          </Flex>\n        ) : null}\n      </Box>\n      <Flex\n        justifyContent=\"space-around\"\n        alignItems=\"center\"\n        mt=\"30px\"\n        flexWrap=\"wrap\"\n        gridGap=\"10px\"\n      >\n        <Button\n          p=\"20px\"\n          variant=\"primary\"\n          onClick={async () => {\n            toast.transactionPending({ txnType: TransactionType.REWARDS })\n            let receipt: ContractReceipt | null = null\n            try {\n              receipt = (await claim()) as ContractReceipt\n              if (receipt?.status) {\n                toast.transactionSuccess({\n                  txnType: TransactionType.REWARDS,\n                  description: (\n                    <ToastDescription\n                      txnType={TransactionType.REWARDS}\n                      status={1}\n                      txnHash={receipt.transactionHash}\n                    />\n                  ),\n                })\n              } else {\n                toast.transactionFailed({\n                  txnType: TransactionType.REWARDS,\n                  description: (\n                    <ToastDescription\n                      txnType={TransactionType.REWARDS}\n                      status={0}\n                      txnHash={receipt.transactionHash}\n                    />\n                  ),\n                })\n              }\n            } catch (e) {\n              const error = e as { code: number; message: string }\n              toast.transactionFailed({\n                txnType: TransactionType.REWARDS,\n                description: (\n                  <ToastDescription\n                    txnType={TransactionType.REWARDS}\n                    status={0}\n                    txnHash={receipt?.transactionHash}\n                  />\n                ),\n                error,\n              })\n            }\n          }}\n        >\n          {t(\"harvestRewards\")}\n        </Button>\n        <Button\n          variant=\"outline\"\n          onClick={async () => {\n            toast.transactionPending({ txnType: TransactionType.REWARDS })\n            let receipt: ContractReceipt | null = null\n            try {\n              receipt = (await withdrawAndClaim()) as ContractReceipt\n              if (receipt?.status) {\n                toast.transactionSuccess({\n                  txnType: TransactionType.EXIT,\n                  description: (\n                    <ToastDescription\n                      txnType={TransactionType.EXIT}\n                      status={1}\n                      txnHash={receipt.transactionHash}\n                    />\n                  ),\n                })\n              } else {\n                toast.transactionFailed({\n                  txnType: TransactionType.EXIT,\n                  description: (\n                    <ToastDescription\n                      txnType={TransactionType.EXIT}\n                      status={0}\n                      txnHash={receipt.transactionHash}\n                    />\n                  ),\n                })\n              }\n            } catch (e) {\n              const error = e as { code: number; message: string }\n              toast.transactionFailed({\n                txnType: TransactionType.EXIT,\n                description: (\n                  <ToastDescription\n                    txnType={TransactionType.EXIT}\n                    status={0}\n                    txnHash={receipt?.transactionHash}\n                  />\n                ),\n                error,\n              })\n            }\n          }}\n        >\n          {t(\"withdrawAndHarvest\")}\n        </Button>\n      </Flex>\n    </Box>\n  )\n}\n\nexport default FarmRewardsPopoverContent\n","// TODO: create types\n/* eslint @typescript-eslint/no-unsafe-member-access: 0 */\n/* eslint @typescript-eslint/no-unsafe-call: 0 */\n/* eslint @typescript-eslint/no-unsafe-assignment: 0 */\n/* eslint @typescript-eslint/no-explicit-any: 0 */\nimport {\n  Box,\n  Button,\n  FormControl,\n  FormErrorMessage,\n  Input,\n  InputGroup,\n  InputLeftElement,\n  InputRightElement,\n  Stack,\n  Text,\n} from \"@chakra-ui/react\"\nimport { Field, FieldAttributes, Form, Formik } from \"formik\"\nimport React, { ReactElement, ReactNode } from \"react\"\nimport useChakraToast, { TransactionType } from \"../hooks/useChakraToast\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport BlockExplorerLink from \"./BlockExplorerLink\"\nimport { ContractReceipt } from \"@ethersproject/contracts\"\nimport FormWrapper from \"./wrappers/FormWrapper\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { formatBNToString } from \"../utils\"\nimport parseStringToBigNumber from \"../utils/parseStringToBigNumber\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  fieldName: string\n  token: string\n  tokenIcon: string\n  max: BigNumber\n  isLoading: boolean\n  submitButtonLabel: string\n  formTitle: ReactNode\n  formDescription?: ReactNode\n  txnType: TransactionType\n  usdPrice?: number\n  handleSubmit: (\n    amount: string,\n    onApprovalTransactionStart?: () => void,\n  ) => Promise<ContractReceipt | void>\n  handleInputChanged?: (value: string) => void\n}\n\nfunction StakeForm(props: Props): ReactElement {\n  const {\n    fieldName,\n    token,\n    tokenIcon,\n    max,\n    isLoading,\n    submitButtonLabel,\n    formTitle,\n    formDescription,\n    txnType,\n    usdPrice,\n    handleSubmit,\n    handleInputChanged,\n  } = props\n\n  const { t } = useTranslation()\n  const toast = useChakraToast()\n\n  const validator = (amount: string): string | undefined => {\n    const { value, isFallback } = parseStringToBigNumber(amount, 18, Zero)\n\n    if (!amount) return\n\n    if (isFallback) {\n      return t(\"Invalid number.\")\n    }\n\n    if (value.gt(max)) return t(\"insufficientBalance\")\n  }\n\n  const handlePostSubmit = (\n    receipt: ContractReceipt | null,\n    transactionType: TransactionType,\n    error?: { code: number; message: string },\n  ): void => {\n    const description = receipt?.transactionHash ? (\n      <BlockExplorerLink\n        txnType={transactionType}\n        txnHash={receipt.transactionHash}\n        status={receipt?.status ? \"Succeeded\" : \"Failed\"}\n      />\n    ) : null\n    if (receipt?.status) {\n      toast.transactionSuccess({\n        txnType: transactionType,\n        description: description,\n      })\n    } else {\n      toast.transactionFailed({\n        txnType: transactionType,\n        error,\n        description: description,\n      })\n    }\n  }\n\n  return (\n    <FormWrapper formTitle={formTitle} formDescription={formDescription}>\n      <Formik\n        initialValues={{ [fieldName]: \"\" }}\n        onSubmit={async (values, actions) => {\n          toast.transactionPending({\n            txnType,\n          })\n          const valueSafe = parseStringToBigNumber(values?.[fieldName], 18)\n          let receipt: ContractReceipt | null = null\n          try {\n            receipt = (await handleSubmit(\n              valueSafe.value.toString(),\n              toast.approvalRequired,\n            )) as ContractReceipt\n            handlePostSubmit?.(receipt, txnType)\n          } catch (e) {\n            const error = e as { code: number; message: string }\n            handlePostSubmit?.(receipt, txnType, {\n              code: error.code,\n              message: error.message,\n            })\n          }\n          actions.resetForm({ values: { [fieldName]: \"\" } })\n        }}\n      >\n        {(props) => (\n          <Form>\n            <Field name={fieldName} validate={validator}>\n              {({ field, form }: FieldAttributes<any>) => (\n                <FormControl\n                  padding=\"10px\"\n                  bgColor=\"var(--secondary-background)\"\n                  borderRadius=\"10px\"\n                  isInvalid={form.errors?.[fieldName]}\n                >\n                  <InputGroup>\n                    <InputLeftElement\n                      pointerEvents=\"none\"\n                      color=\"gray.300\"\n                      fontSize=\"2em\"\n                      marginLeft=\"5px\"\n                    >\n                      <img src={tokenIcon} alt=\"roseIcon\" />\n                    </InputLeftElement>\n                    <Input\n                      {...field}\n                      paddingLeft=\"60px\"\n                      autoComplete=\"off\"\n                      autoCorrect=\"off\"\n                      type=\"text\"\n                      isInvalid={form.errors?.[fieldName]}\n                      placeholder=\"0.0\"\n                      variant=\"primary\"\n                      onChange={(e) => {\n                        props.handleChange(e)\n                        handleInputChanged?.(e.target.value)\n                      }}\n                    />\n                    <InputRightElement width=\"6rem\" padding=\"10px\">\n                      <Button\n                        variant=\"light\"\n                        size=\"sm\"\n                        onClick={() => {\n                          const maxAsString = formatBNToString(max, 18)\n                          handleInputChanged?.(maxAsString)\n                          props.setFieldTouched(fieldName, true)\n                          props.setFieldValue(fieldName, maxAsString)\n                        }}\n                      >\n                        {t(\"max\")}\n                      </Button>\n                    </InputRightElement>\n                  </InputGroup>\n                  {props.isValid && +props.values?.[fieldName] !== 0 ? (\n                    <Text mt=\"5px\" fontSize=\"sm\" as=\"p\">\n                      You are about to {fieldName} {\" \"}\n                      {`$${(\n                        (usdPrice || 1) * +props.values?.[fieldName]\n                      ).toFixed(2)}`}{\" \"}\n                      {token} {\"Token\"}\n                    </Text>\n                  ) : (\n                    <FormErrorMessage color=\"#cc3a59\">\n                      {form.errors?.[fieldName]}\n                    </FormErrorMessage>\n                  )}\n                </FormControl>\n              )}\n            </Field>\n            <Stack\n              mt=\"20px\"\n              spacing=\"5px\"\n              bg=\"var(--secondary-background)\"\n              border=\"1px solid var(--outline)\"\n              borderRadius=\"10px\"\n              padding=\"15px\"\n            >\n              <Button\n                variant=\"primary\"\n                isLoading={isLoading}\n                size=\"lg\"\n                width=\"100%\"\n                type=\"submit\"\n                disabled={!props.isValid || +props.values?.[fieldName] === 0}\n              >\n                {props.isValid ? submitButtonLabel : props.errors?.[fieldName]}\n              </Button>\n              <Box p=\"15px\">\n                <Text\n                  as=\"p\"\n                  p=\"20px 0 10px\"\n                  textAlign=\"center\"\n                  color=\"var(--text-lighter)\"\n                  fontSize=\"14px\"\n                >\n                  Note: The &quot;Approve&quot; transaction is only needed the\n                  first time; subsequent actions will not require approval.\n                </Text>\n              </Box>\n            </Stack>\n          </Form>\n        )}\n      </Formik>\n    </FormWrapper>\n  )\n}\n\nexport default StakeForm\n","import { BigNumber } from \"@ethersproject/bignumber\"\nimport { Erc20 } from \"../../types/ethers-contracts/Erc20\"\nimport { LpTokenUnguarded } from \"../../types/ethers-contracts/LpTokenUnguarded\"\n\nexport default async function checkTokenAllowance(\n  srcTokenContract: Erc20 | LpTokenUnguarded | null,\n  swapAddress: string,\n  spenderAddress: string,\n  spendingValue: BigNumber,\n): Promise<boolean> {\n  if (srcTokenContract == null) return false\n  if (spendingValue.eq(0)) return false\n\n  const existingAllowance = await srcTokenContract.allowance(\n    spenderAddress,\n    swapAddress,\n  )\n\n  if (existingAllowance.gte(spendingValue)) return true\n\n  return false\n}\n","import { Erc20 } from \"../../types/ethers-contracts/Erc20\"\nimport { LpTokenUnguarded } from \"../../types/ethers-contracts/LpTokenUnguarded\"\nimport { RoseStablesFarm } from \"../../types/ethers-contracts/RoseStablesFarm\"\nimport checkTokenAllowance from \"../utils/checkTokenAllowance\"\nimport parseStringToBigNumber from \"../utils/parseStringToBigNumber\"\nimport { useActiveWeb3React } from \".\"\nimport { useState } from \"react\"\n\nexport function useCheckTokenRequiresApproval(\n  srcTokenContract: Erc20 | LpTokenUnguarded | null,\n  dstTokenContract: RoseStablesFarm | Erc20 | null,\n  timeout = 500,\n): [boolean, boolean, (spendingValue: string) => void] {\n  const { account } = useActiveWeb3React()\n  const [approved, setApproved] = useState<boolean>(false)\n  const [loading, setLoading] = useState<boolean>(false)\n  const [timer, setTimer] = useState<NodeJS.Timer>()\n  const checkApproval = function tokenRequiresApproval(\n    spendingValue: string,\n  ): void {\n    try {\n      if (!account) throw new Error(\"Wallet must be connected\")\n      if (!srcTokenContract || !dstTokenContract)\n        throw new Error(\"Contracts are not loaded\")\n      const valueSafe = parseStringToBigNumber(spendingValue, 18)\n      clearTimeout(timer as NodeJS.Timer)\n      setLoading(true)\n      const newTimer = setTimeout(() => {\n        checkTokenAllowance(\n          srcTokenContract,\n          dstTokenContract.address,\n          account,\n          valueSafe.value,\n        )\n          .then((isApproved) => {\n            setApproved(isApproved)\n            setLoading(false)\n          })\n          .catch((e) => console.error(e))\n      }, timeout)\n      setTimer(newTimer)\n    } catch (e) {\n      console.error(e)\n    }\n  }\n  return [approved, loading, checkApproval]\n}\n","import { AddressZero, Zero } from \"@ethersproject/constants\"\nimport { FARMS_MAP, FarmName, TRANSACTION_TYPES } from \"../constants\"\nimport { useEffect, useState } from \"react\"\nimport { AppState } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport LPTOKEN_UNGUARDED_ABI from \"../constants/abis/lpTokenUnguarded.json\"\nimport { LpTokenUnguarded } from \"../../types/ethers-contracts/LpTokenUnguarded\"\nimport { getContract } from \"../utils\"\nimport { useActiveWeb3React } from \".\"\nimport { useSelector } from \"react-redux\"\n\nexport interface FarmDataType {\n  lpTokenBalance: BigNumber\n}\n\nexport type FarmDataHookReturnType = FarmDataType\n\nconst emptyFarmData = {\n  lpTokenBalance: Zero,\n} as FarmDataType\n\nexport default function useFarmData(\n  farmName: FarmName,\n): FarmDataHookReturnType {\n  const { account, library, chainId } = useActiveWeb3React()\n  const { lastTransactionTimes } = useSelector(\n    (state: AppState) => state.application,\n  )\n  const lastDepositTime = lastTransactionTimes[TRANSACTION_TYPES.DEPOSIT]\n  const lastWithdrawTime = lastTransactionTimes[TRANSACTION_TYPES.WITHDRAW]\n\n  const [farmData, setFarmData] = useState<FarmDataHookReturnType>(\n    emptyFarmData,\n  )\n\n  useEffect(() => {\n    async function getFarmData(): Promise<void> {\n      if (library == null || chainId == null) return\n\n      const FARM = FARMS_MAP[farmName]\n\n      const lpTokenContract = getContract(\n        FARM.lpToken.addresses[chainId],\n        LPTOKEN_UNGUARDED_ABI,\n        library,\n        account ?? undefined,\n      ) as LpTokenUnguarded\n      let userLpTokenBalance: BigNumber\n      if (account && account != AddressZero && account != null) {\n        console.log(\n          `Getting user LPToken balance for account ${account?.toString()}`,\n        )\n        try {\n          userLpTokenBalance = await lpTokenContract.balanceOf(\n            account || AddressZero,\n          )\n        } catch (e) {\n          console.log(e)\n        }\n      }\n\n      setFarmData((prevState) => ({\n        ...prevState,\n        lpTokenBalance: userLpTokenBalance,\n      }))\n    }\n    void getFarmData()\n  }, [lastDepositTime, lastWithdrawTime, farmName, account, library, chainId])\n\n  return farmData\n}\n","import { Box, Flex, Text, useColorModeValue } from \"@chakra-ui/react\"\nimport { FARMS_MAP, FarmName } from \"../constants\"\nimport React, { ReactElement } from \"react\"\nimport { Trans, useTranslation } from \"react-i18next\"\nimport { commify, formatBNToShortString, formatBNToString } from \"../utils\"\nimport {\n  useFarmContract,\n  useLPTokenContractForFarm,\n} from \"../hooks/useContract\"\nimport AnimatingNumber from \"../components/AnimateNumber\"\nimport { AppState } from \"../state\"\nimport BackButton from \"../components/BackButton\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport ComponentWrapper from \"../components/wrappers/ComponentWrapper\"\nimport { FaGift } from \"react-icons/fa\"\nimport FarmRewardsPopoverContent from \"../components/FarmRewardsPopoverContent\"\nimport { IconButtonPopover } from \"../components/Popover\"\nimport PageWrapper from \"../components/wrappers/PageWrapper\"\nimport StakeDetails from \"../components/StakeDetails\"\nimport StakeForm from \"../components/StakeForm\"\nimport TabsWrapper from \"../components/wrappers/TabsWrapper\"\nimport { TransactionType } from \"../hooks/useChakraToast\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { useApproveAndDepositFarm } from \"../hooks/useApproveAndDepositFarm\"\nimport useCalculateFarmDeposited from \"../hooks/useCalculateFarmDeposited\"\nimport { useCheckTokenRequiresApproval } from \"../hooks/useCheckTokenRequiresApproval\"\nimport useClaimReward from \"../hooks/useClaimReward\"\nimport useEarnedRewards from \"../hooks/useEarnedRewards\"\nimport useFarmData from \"../hooks/useFarmData\"\nimport useFarmExit from \"../hooks/useFarmExit\"\nimport { useSelector } from \"react-redux\"\nimport { useWithdrawFarm } from \"../hooks/useWithdrawFarm\"\n\ninterface Props {\n  farmName: FarmName\n}\n\nconst Farm = ({ farmName }: Props): ReactElement => {\n  const farmData = useFarmData(farmName)\n  const { lpToken, poolName, poolUrl, isRose } = FARMS_MAP[farmName]\n  const deposited = useCalculateFarmDeposited(\n    farmData?.lpTokenBalance,\n    farmName,\n  )\n  const farm = useApproveAndDepositFarm(farmName)\n  const withdraw = useWithdrawFarm(farmName)\n  const farmContract = useFarmContract(farmName)\n  const lpTokenContract = useLPTokenContractForFarm(farmName)\n  const [\n    approved,\n    loading,\n    checkLpTokenApproved,\n  ] = useCheckTokenRequiresApproval(lpTokenContract, farmContract)\n\n  const formattedBalance = commify(\n    formatBNToString(farmData?.lpTokenBalance || Zero, 18, 5),\n  )\n  const formattedDeposited = commify(formatBNToString(deposited, 18, 5))\n  const { farmStats } = useSelector((state: AppState) => state.application)\n  const { roseRewards, dualRewards, totalRewards } = useEarnedRewards(\n    farmName,\n    farmStats?.[farmName]?.dualReward.address,\n  )\n  const tvl = farmStats?.[farmName]?.tvl\n  const formattedTvl = tvl\n    ? `$${formatBNToShortString(BigNumber.from(tvl), 18)}`\n    : \"-\"\n  const apr = farmStats?.[farmName]?.apr || \"-\"\n  const dualRewardApr = farmStats?.[farmName]?.dualReward.apr\n  const dualRewardTokenName = farmStats?.[farmName]?.dualReward.token\n  const dualRewardsPopover =\n    dualRewardTokenName && dualRewards\n      ? {\n          tokenName: dualRewardTokenName,\n          amount: dualRewards,\n        }\n      : undefined\n  const rewardsEarned = totalRewards ? totalRewards : roseRewards\n  const exit = useFarmExit(farmName)\n  const getReward = useClaimReward(farmName)\n  const { t } = useTranslation()\n\n  const FormDescription = (): ReactElement => {\n    return isRose ? (\n      <Trans t={t} i18nKey=\"farmDescription\">\n        {{ tokenName: lpToken.name }}\n        <a href={poolUrl} style={{ margin: 0, fontWeight: \"bold\" }}>\n          {{ poolName: poolName }}\n        </a>\n      </Trans>\n    ) : (\n      <Trans t={t} i18nKey=\"farmDescription\">\n        {{ tokenName: lpToken.name }}\n        <a\n          href={poolUrl}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          style={{ margin: 0, fontWeight: \"bold\" }}\n        >\n          {{ poolName: poolName }}\n          <sup>{{ externalUrlArrow: \"\" }}</sup>\n        </a>\n      </Trans>\n    )\n  }\n\n  const FormTitle = ({ title }: { title: string }): ReactElement => {\n    return (\n      <Text\n        fontWeight={700}\n        fontSize={{ base: \"21px\", md: \"25px\", lg: \"28px\" }}\n        lineHeight=\"30px\"\n      >\n        {title} {lpToken.symbol}\n      </Text>\n    )\n  }\n\n  return (\n    <PageWrapper activeTab=\"farm\">\n      <ComponentWrapper\n        top={<BackButton route=\"/farms\" buttonText=\"Go back to farms\" />}\n        left={\n          <TabsWrapper\n            tabsProps={{ variant: \"primary\" }}\n            tab1={{\n              name: t(\"deposit\"),\n              content: (\n                <StakeForm\n                  fieldName={\"deposit\"}\n                  token={lpToken.symbol}\n                  tokenIcon={lpToken.icon}\n                  submitButtonLabel={\n                    approved\n                      ? t(\"deposit\")\n                      : t(\"approveAnd\", { action: t(\"deposit\") })\n                  }\n                  isLoading={loading}\n                  formTitle={<FormTitle title={t(\"deposit\")} />}\n                  formDescription={<FormDescription />}\n                  txnType={TransactionType.DEPOSIT}\n                  max={farmData?.lpTokenBalance || Zero}\n                  handleSubmit={farm}\n                  handleInputChanged={checkLpTokenApproved}\n                />\n              ),\n            }}\n            tab2={{\n              name: t(\"Withdraw\"),\n              content: (\n                <StakeForm\n                  fieldName={\"withdraw\"}\n                  token={lpToken.symbol}\n                  tokenIcon={lpToken.icon}\n                  isLoading={false}\n                  formTitle={<FormTitle title={t(\"Withdraw\")} />}\n                  formDescription={<FormDescription />}\n                  txnType={TransactionType.WITHDRAW}\n                  submitButtonLabel={t(\"Withdraw\")}\n                  max={deposited}\n                  handleSubmit={withdraw}\n                />\n              ),\n            }}\n          />\n        }\n        right={\n          <StakeDetails\n            extraStakeDetailChild={\n              <Flex justifyContent=\"space-between\" alignItems=\"center\">\n                <IconButtonPopover\n                  IconButtonProps={{\n                    \"aria-label\": \"Harvest Rewards\",\n                    variant: \"primary\",\n                    size: \"lg\",\n                    icon: <FaGift size=\"30px\" />,\n                    title: \"Harvest Rewards\",\n                    disabled: +rewardsEarned <= 0,\n                  }}\n                  PopoverBodyContent={\n                    <FarmRewardsPopoverContent\n                      totalRewardsAmount={rewardsEarned || \"0\"}\n                      roseRewardsAmount={roseRewards}\n                      dualRewards={dualRewardsPopover}\n                      claim={getReward}\n                      withdrawAndClaim={exit}\n                    />\n                  }\n                />\n                <AnimatingNumber\n                  value={+rewardsEarned}\n                  precision={+rewardsEarned ? 5 : 1}\n                ></AnimatingNumber>\n              </Flex>\n            }\n            balanceView={{\n              title: t(\"balance\"),\n              items: [\n                {\n                  tokenName: lpToken.symbol,\n                  icon: lpToken.icon,\n                  amount: formattedBalance,\n                },\n              ],\n            }}\n            stakedView={{\n              title: t(\"deposited\"),\n              items: [\n                {\n                  tokenName: lpToken.symbol,\n                  icon: lpToken.icon,\n                  amount: formattedDeposited,\n                },\n              ],\n            }}\n            stats={[\n              {\n                statLabel: \"TVL\",\n                statValue: formattedTvl,\n              },\n              {\n                statLabel: \"APR\",\n                statValue: farmStats?.[farmName]?.apr\n                  ? farmStats?.[farmName]?.apr === \"%\"\n                    ? \"%\"\n                    : `${(\n                        +apr.slice(0, -1) + +(dualRewardApr?.slice(0, -1) || 0)\n                      ).toString()}%`\n                  : \"-\",\n                statPopOver: (\n                  <Flex\n                    flexDirection=\"column\"\n                    color={useColorModeValue(\"#555555\", \"#bbbbbb\")}\n                  >\n                    <Flex justifyContent=\"space-between\">\n                      <Box>ROSE APR</Box>\n                      <Box>{apr}</Box>\n                    </Flex>\n                    {dualRewardApr && dualRewardTokenName ? (\n                      <Flex justifyContent=\"space-between\">\n                        <Box>{dualRewardTokenName} APR</Box>\n                        <Box>{dualRewardApr}</Box>\n                      </Flex>\n                    ) : null}\n                  </Flex>\n                ),\n              },\n            ]}\n          />\n        }\n      />\n    </PageWrapper>\n  )\n}\n\nexport default Farm\n","import { FarmName, TRANSACTION_TYPES } from \"../constants\"\nimport { useEffect, useState } from \"react\"\nimport { AppState } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { useActiveWeb3React } from \".\"\nimport { useFarmContract } from \"./useContract\"\nimport { useSelector } from \"react-redux\"\n\nexport default function useCalculateFarmDeposited(\n  balance: BigNumber | undefined,\n  farmName: FarmName,\n): BigNumber {\n  const { account } = useActiveWeb3React()\n\n  const [depositedBalance, setDepositedBalance] = useState<BigNumber>(Zero)\n  const farmContract = useFarmContract(farmName)\n  const { lastTransactionTimes } = useSelector(\n    (state: AppState) => state.application,\n  )\n  const lastDepositTime = lastTransactionTimes[TRANSACTION_TYPES.DEPOSIT]\n  const lastWithdrawTime = lastTransactionTimes[TRANSACTION_TYPES.WITHDRAW]\n\n  useEffect(() => {\n    async function calculateDeposit(): Promise<void> {\n      if (!account || !farmContract) {\n        setDepositedBalance(Zero)\n        return\n      }\n\n      const deposited = await farmContract.balanceOf(account)\n\n      setDepositedBalance(deposited || Zero)\n    }\n    void calculateDeposit()\n  }, [account, farmContract, lastDepositTime, lastWithdrawTime, balance])\n\n  return depositedBalance\n}\n","/* eslint sort-imports: 0 */\n/* eslint @typescript-eslint/no-unsafe-member-access: 0 */\n/* eslint @typescript-eslint/no-unsafe-call: 0 */\n/* eslint @typescript-eslint/no-explicit-any: 0 */\nimport { ChainId, FarmName, TRANSACTION_TYPES } from \"../constants\"\nimport { useFarmContract, useLPTokenContractForFarm } from \"./useContract\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { ContractReceipt } from \"@ethersproject/contracts\"\nimport { RoseStablesFarm } from \"../../types/ethers-contracts/RoseStablesFarm\"\nimport { Zero } from \"@ethersproject/constants\"\nimport checkAndApproveTokenForTrade from \"../utils/checkAndApproveTokenForTrade\"\nimport { updateLastTransactionTimes } from \"../state/application\"\nimport { useActiveWeb3React } from \".\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { AppState } from \"../state\"\nimport { GasPrices } from \"../state/user\"\nimport { parseUnits } from \"ethers/lib/utils\"\n\nexport function useApproveAndDepositFarm(\n  farmName: FarmName,\n): (amount: string) => Promise<ContractReceipt | void> {\n  const dispatch = useDispatch()\n  const farmContract = useFarmContract(farmName) as RoseStablesFarm\n  const lpTokenContract = useLPTokenContractForFarm(farmName)\n  const { gasPriceSelected, gasCustom } = useSelector(\n    (state: AppState) => state.user,\n  )\n  const { gasStandard, gasFast, gasInstant } = useSelector(\n    (state: AppState) => state.application,\n  )\n  const { account, chainId } = useActiveWeb3React()\n  return async function approveAndStake(\n    amount: string,\n  ): Promise<ContractReceipt | void> {\n    try {\n      if (!account) throw new Error(\"Wallet must be connected\")\n      if (!farmContract) throw new Error(\"Farm contract is not loaded\")\n      if (!lpTokenContract) throw new Error(\"LP Token contract is not loaded\")\n      let gasPrice: any\n      if (gasPriceSelected === GasPrices.Custom) {\n        gasPrice = gasCustom?.valueSafe\n      } else if (gasPriceSelected === GasPrices.Fast) {\n        gasPrice = gasFast\n      } else if (gasPriceSelected === GasPrices.Instant) {\n        gasPrice = gasInstant\n      } else {\n        gasPrice = gasStandard\n      }\n      gasPrice =\n        chainId === ChainId.AURORA_MAINNET\n          ? parseUnits(gasPrice?.toString() || \"45\", \"gwei\")\n          : Zero\n      const amountToStake = BigNumber.from(amount)\n      await checkAndApproveTokenForTrade(\n        lpTokenContract,\n        farmContract.address,\n        account,\n        amountToStake,\n        true,\n        gasPrice,\n        {\n          onTransactionError: (error) => {\n            console.error(error)\n            throw new Error(\"Your transaction could not be completed\")\n          },\n        },\n      )\n      const tx = await farmContract.stake(amountToStake)\n      const receipt = await tx.wait()\n      dispatch(\n        updateLastTransactionTimes({\n          [TRANSACTION_TYPES.DEPOSIT]: Date.now(),\n        }),\n      )\n      return receipt\n    } catch (e) {\n      console.error(e)\n    }\n  }\n}\n","import { FarmName, TRANSACTION_TYPES } from \"../constants\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { ContractReceipt } from \"@ethersproject/contracts\"\nimport { updateLastTransactionTimes } from \"../state/application\"\nimport { useActiveWeb3React } from \".\"\nimport { useDispatch } from \"react-redux\"\nimport { useFarmContract } from \"./useContract\"\n\nexport function useWithdrawFarm(\n  farmName: FarmName,\n): (amount: string) => Promise<ContractReceipt | void> {\n  const dispatch = useDispatch()\n  const farmContract = useFarmContract(farmName)\n  const { account } = useActiveWeb3React()\n  return async function approveAndStake(\n    amount: string,\n  ): Promise<ContractReceipt | void> {\n    try {\n      if (!account) throw new Error(\"Wallet must be connected\")\n      if (!farmContract) throw new Error(\"Rose contract is not loaded\")\n      const amountToWithdraw = BigNumber.from(amount)\n      const tx = await farmContract.withdraw(amountToWithdraw)\n      const receipt = await tx.wait()\n      dispatch(\n        updateLastTransactionTimes({\n          [TRANSACTION_TYPES.WITHDRAW]: Date.now(),\n        }),\n      )\n      return receipt\n    } catch (e) {\n      console.error(e)\n    }\n  }\n}\n","import { BLOCK_TIME, FarmName } from \"../constants\"\nimport { useFarmContract, useRoseContract } from \"./useContract\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { formatBNToString } from \"../utils\"\nimport { useActiveWeb3React } from \".\"\nimport usePoller from \"./usePoller\"\nimport { useState } from \"react\"\n\ninterface EarnedRewards {\n  roseRewards: string\n  totalRewards?: string\n  dualRewards?: string\n}\n\nexport default function useEarnedRewards(\n  farmName: FarmName,\n  dualRewardAddress?: string,\n): EarnedRewards {\n  const { account } = useActiveWeb3React()\n\n  const [rewardsEarned, setRewardsEarned] = useState<EarnedRewards>({\n    roseRewards: \"\",\n    totalRewards: \"\",\n    dualRewards: \"\",\n  })\n  const roseContract = useRoseContract()\n  const farmContract = useFarmContract(farmName)\n\n  usePoller(() => {\n    async function pollRewards(): Promise<void> {\n      if (!account) throw new Error(\"Wallet must be connected\")\n      if (!farmContract || !roseContract)\n        throw new Error(\"Contracts are not loaded\")\n\n      const roseEarned = await farmContract.earned(\n        account,\n        roseContract.address,\n      )\n\n      setRewardsEarned((prevState) => ({\n        ...prevState,\n        roseRewards: formatBNToString(roseEarned || Zero, 18),\n      }))\n\n      if (dualRewardAddress) {\n        const dualRewardEarned = await farmContract.earned(\n          account,\n          dualRewardAddress,\n        )\n        setRewardsEarned((prevState) => ({\n          ...prevState,\n          dualRewards: formatBNToString(dualRewardEarned || Zero, 18),\n        }))\n        setRewardsEarned((prevState) => ({\n          ...prevState,\n          totalRewards: formatBNToString(\n            dualRewardEarned.add(roseEarned) || Zero,\n            18,\n          ),\n        }))\n      }\n    }\n    if (account) {\n      void pollRewards()\n    }\n  }, BLOCK_TIME)\n\n  return rewardsEarned\n}\n","import { FarmName, TRANSACTION_TYPES } from \"../constants\"\nimport { ContractReceipt } from \"@ethersproject/contracts\"\nimport { updateLastTransactionTimes } from \"../state/application\"\nimport { useActiveWeb3React } from \".\"\nimport { useDispatch } from \"react-redux\"\nimport { useFarmContract } from \"./useContract\"\n\nexport default function useFarmExit(\n  farmName: FarmName,\n): () => Promise<ContractReceipt | void> {\n  const farmContract = useFarmContract(farmName)\n  const { account } = useActiveWeb3React()\n  const dispatch = useDispatch()\n  return async function exitFarm(): Promise<ContractReceipt | void> {\n    try {\n      if (!account) throw new Error(\"Wallet must be connected\")\n      if (!farmContract) throw new Error(\"Rose Farm contract is not loaded\")\n\n      const tx = await farmContract.exit()\n      const receipt = await tx.wait()\n      dispatch(\n        updateLastTransactionTimes({\n          [TRANSACTION_TYPES.WITHDRAW]: Date.now(),\n        }),\n      )\n      return receipt\n    } catch (e) {\n      console.error(e)\n    }\n  }\n}\n","import { ContractReceipt } from \"@ethersproject/contracts\"\nimport { FarmName } from \"../constants\"\nimport { useActiveWeb3React } from \".\"\nimport { useFarmContract } from \"./useContract\"\n\nexport default function useClaimReward(\n  farmName: FarmName,\n): () => Promise<ContractReceipt | void> {\n  const farmContract = useFarmContract(farmName)\n  const { account } = useActiveWeb3React()\n  return async function claimReward(): Promise<ContractReceipt | void> {\n    try {\n      if (!account) throw new Error(\"Wallet must be connected\")\n      if (!farmContract) throw new Error(\"Rose Farm contract is not loaded\")\n\n      const tx = await farmContract.getReward()\n      return await tx.wait()\n    } catch (e) {\n      const error = e as { code: number; message: string }\n      throw error\n    }\n  }\n}\n","import AnimatedComponentCard, { Field } from \"./ComponentCard\"\nimport {\n  Box,\n  Flex,\n  Stack,\n  Stat,\n  StatGroup,\n  StatLabel,\n  StatNumber,\n  Text,\n} from \"@chakra-ui/react\"\nimport React, { ReactElement } from \"react\"\nimport { AppState } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { FARM_SORT_FIELDS_TO_LABEL } from \"../constants/index\"\nimport { FarmSortFields } from \"../state/user\"\nimport FormattedComponentName from \"./FormattedComponentName\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { formatBNToShortString } from \"../utils\"\nimport roseIcon from \"../assets/icons/rose.svg\"\nimport styles from \"./FarmsOverview.module.scss\"\nimport terraLunaIcon from \"../assets/icons/terra-luna-logo.svg\"\nimport { useSelector } from \"react-redux\"\n\ninterface FarmOverviewData {\n  farmName: string\n  farmRoute: string\n  lpTokenIcon: string\n  balance: BigNumber\n  deposited: BigNumber\n  rewards: {\n    rose: BigNumber\n    dual: BigNumber\n  }\n  tvl: string | undefined\n  apr: RewardsApr\n}\n\ninterface RewardsApr {\n  roseApr: string | undefined\n  dualRewardApr?: string\n  dualRewardTokenName?: string\n}\n\nconst AprTooltip = ({\n  roseApr,\n  dualRewardApr,\n  dualRewardTokenName,\n}: Required<RewardsApr>): ReactElement => (\n  <StatGroup\n    display=\"flex\"\n    flexWrap=\"nowrap\"\n    justifyContent=\"space-between\"\n    minWidth=\"115px\"\n  >\n    <Stat ml={3}>\n      <StatLabel whiteSpace=\"nowrap\">\n        <span className={styles.label}>ROSE APR</span>\n      </StatLabel>\n      <StatNumber fontSize=\"15px\" fontWeight=\"400\">\n        {roseApr}\n      </StatNumber>\n    </Stat>\n    <Stat ml={3}>\n      <StatLabel whiteSpace=\"nowrap\">\n        <span className={styles.label}>{dualRewardTokenName} APR</span>\n      </StatLabel>\n      <StatNumber fontSize=\"15px\" fontWeight=\"400\">\n        {dualRewardApr}\n      </StatNumber>\n    </Stat>\n  </StatGroup>\n)\n\nconst RewardsField = ({\n  formattedRoseRewards,\n  formattedDualRewards,\n  dualRewardTokenName,\n}: {\n  formattedRoseRewards: string\n  formattedDualRewards?: string\n  dualRewardTokenName?: string\n}): ReactElement => (\n  <Stack mt=\"2px\">\n    <Flex alignItems=\"center\">\n      <Box width=\"12px\" mr=\"2px\">\n        <img alt=\"icon\" src={roseIcon} width=\"100%\" />\n      </Box>\n      <Text fontSize={{ base: \"13px\", md: \"16px\" }}>\n        {formattedRoseRewards}\n      </Text>\n    </Flex>\n    {dualRewardTokenName && formattedDualRewards && (\n      <Flex alignItems=\"center\">\n        <Box width=\"12px\" mr=\"2px\">\n          <img alt=\"icon\" src={terraLunaIcon} width=\"100%\" />\n        </Box>\n        <Text fontSize={{ base: \"13px\", md: \"16px\" }}>\n          {formattedDualRewards}\n        </Text>\n      </Flex>\n    )}\n  </Stack>\n)\n\nfunction FarmsOverview(props: FarmOverviewData): ReactElement {\n  const {\n    farmName,\n    lpTokenIcon,\n    farmRoute,\n    balance,\n    deposited,\n    rewards,\n    tvl,\n    apr,\n  } = props\n  const { roseApr, dualRewardApr, dualRewardTokenName } = apr\n  const formattedData: {\n    [field in FarmSortFields]: Field\n  } = {\n    name: {\n      label: FARM_SORT_FIELDS_TO_LABEL[FarmSortFields.NAME],\n      valueRaw: farmName.replace(/ Farm/, \"\"),\n      valueComponent: (\n        <FormattedComponentName\n          name={farmName.replace(/ Farm/, \"\")}\n          icon={lpTokenIcon}\n        />\n      ),\n      tooltip:\n        dualRewardTokenName && dualRewardApr\n          ? `Dual Rewards Farms payout rewards in multiple tokens. This farm pays out rewards in ROSE and ${dualRewardTokenName}.`\n          : undefined,\n    },\n    apr: {\n      label: FARM_SORT_FIELDS_TO_LABEL[FarmSortFields.APR],\n      valueRaw: roseApr\n        ? roseApr === \"%\"\n          ? \"%\"\n          : `${(\n              +roseApr.slice(0, -1) + +(dualRewardApr?.slice(0, -1) || 0)\n            ).toString()}%`\n        : \"-\",\n      tooltip:\n        dualRewardTokenName && dualRewardApr ? (\n          <AprTooltip\n            dualRewardApr={dualRewardApr}\n            dualRewardTokenName={dualRewardTokenName}\n            roseApr={roseApr}\n          />\n        ) : null,\n    },\n    tvl: {\n      label: FARM_SORT_FIELDS_TO_LABEL[FarmSortFields.TVL],\n      valueRaw: tvl\n        ? `$${formatBNToShortString(BigNumber.from(tvl), 18)}`\n        : \"-\",\n    },\n    deposit: {\n      label: FARM_SORT_FIELDS_TO_LABEL[FarmSortFields.DEPOSIT],\n      valueRaw: deposited.gt(Zero) ? formatBNToShortString(deposited, 18) : \"-\",\n    },\n    balance: {\n      label: FARM_SORT_FIELDS_TO_LABEL[FarmSortFields.BALANCE],\n      valueRaw: balance.gt(Zero) ? formatBNToShortString(balance, 18) : \"-\",\n    },\n    rewards: {\n      label: FARM_SORT_FIELDS_TO_LABEL[FarmSortFields.REWARD],\n      valueRaw:\n        (rewards.rose.gt(Zero)\n          ? formatBNToShortString(rewards.rose, 18)\n          : \"-\") +\n        (rewards.dual.gt(Zero) ? formatBNToShortString(rewards.dual, 18) : \"-\"),\n      valueComponent: (\n        <RewardsField\n          formattedRoseRewards={\n            rewards.rose.gt(Zero)\n              ? formatBNToShortString(rewards.rose, 18)\n              : \"-\"\n          }\n          formattedDualRewards={\n            rewards.dual.gt(Zero)\n              ? formatBNToShortString(rewards.dual, 18)\n              : \"-\"\n          }\n          dualRewardTokenName={dualRewardTokenName}\n        />\n      ),\n    },\n  }\n\n  const { farmPreferences } = useSelector(\n    (state: AppState) => state.user,\n    (l, r) =>\n      l.farmPreferences.visibleFields === r.farmPreferences.visibleFields,\n  )\n\n  const fields: Field[] = Object.values(FarmSortFields)\n    .filter((field) => {\n      return farmPreferences.visibleFields[field] > 0\n    })\n    .map((field) => {\n      return formattedData[field]\n    })\n\n  return (\n    <AnimatedComponentCard\n      name={formattedData.name.valueRaw}\n      fields={fields}\n      route={`farms/${farmRoute}`}\n      borderRadius=\"10px\"\n      p=\"15px\"\n      background=\"var(--background-element)\"\n      boxShadow=\"var(--shadow)\"\n      _hover={{ bg: \"var(--background-element-hover)\" }}\n    />\n  )\n}\n\nexport default FarmsOverview\n","import { BLOCK_TIME, ChainId, FARMS_MAP } from \"../constants\"\nimport { Contract, Provider } from \"ethcall\"\nimport { MulticallContract, MulticallProvider } from \"../types/ethcall\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport ROSE_STABLES_FARM_ABI from \"../constants/abis/RoseStablesFarm.json\"\nimport { RoseStablesFarm } from \"../../types/ethers-contracts/RoseStablesFarm\"\nimport { useActiveWeb3React } from \".\"\nimport usePoller from \"./usePoller\"\nimport { useState } from \"react\"\n\nexport const useMultiCallFarmDeposits = (): {\n  [farmName: string]: BigNumber\n} | null => {\n  const { account, chainId, library } = useActiveWeb3React()\n  const [balances, setBalances] = useState<{ [farmName: string]: BigNumber }>(\n    {},\n  )\n\n  const ethcallProvider = new Provider() as MulticallProvider\n\n  usePoller((): void => {\n    async function pollFarmBalances(): Promise<void> {\n      if (!library || !chainId || !account) return\n\n      await ethcallProvider.init(library)\n      // override the contract address when using aurora\n      if (chainId == ChainId.AURORA_TESTNET) {\n        ethcallProvider.multicallAddress =\n          \"0x508B1508AAd923fB24F6d13cD74Ac640fD8B66E8\"\n      } else if (chainId == ChainId.AURORA_MAINNET) {\n        ethcallProvider.multicallAddress =\n          \"0x49eb1F160e167aa7bA96BdD88B6C1f2ffda5212A\"\n      }\n\n      const balanceCalls = Object.values(FARMS_MAP)\n        .map((farm) => {\n          return new Contract(\n            farm.addresses[chainId],\n            ROSE_STABLES_FARM_ABI.abi,\n          ) as MulticallContract<RoseStablesFarm>\n        })\n        .map((c) => c.balanceOf(account))\n      const balances = await ethcallProvider.all(balanceCalls, \"latest\")\n      setBalances(\n        Object.keys(FARMS_MAP).reduce(\n          (acc, farmName, i) => ({\n            ...acc,\n            [farmName]: balances[i],\n          }),\n          {},\n        ),\n      )\n    }\n    if (account) {\n      void pollFarmBalances()\n    }\n  }, BLOCK_TIME)\n\n  return balances\n}\n","import { AppDispatch, AppState } from \"../state\"\nimport {\n  DashboardItems,\n  FARMS_MAP,\n  FARM_FILTER_FIELDS_TO_LABEL,\n  FARM_SORT_FIELDS_TO_LABEL,\n  Farm,\n  FarmName,\n  LP_TOKEN_MAP,\n  UST_METAPOOL_FARM_NAME,\n} from \"../constants\"\nimport {\n  Drawer,\n  DrawerBody,\n  DrawerCloseButton,\n  DrawerContent,\n  DrawerOverlay,\n  Flex,\n  Skeleton,\n  useColorModeValue,\n  useDisclosure,\n  useTimeout,\n} from \"@chakra-ui/react\"\nimport {\n  FaChartPie,\n  FaFilter,\n  FaGift,\n  FaLayerGroup,\n  FaReceipt,\n  FaSortAmountUp,\n} from \"react-icons/fa\"\nimport {\n  FarmFilterFields,\n  FarmSortFields,\n  updateFarmFilterPreferences,\n  updateFarmSortPreferences,\n  updateFarmVisibleFieldPreferences,\n} from \"../state/user\"\nimport React, { ReactElement, useMemo, useState } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { AnimatePresence } from \"framer-motion\"\nimport AnimatingNumber from \"../components/AnimateNumber\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { BsSliders } from \"react-icons/bs\"\nimport Dashboard from \"../components/Dashboard\"\nimport { FarmStats } from \"../utils/fetchFarmStats\"\nimport FarmsOverview from \"../components/FarmsOverview\"\nimport { Link } from \"react-router-dom\"\nimport OverviewInfo from \"../components/OverviewInfo\"\nimport OverviewInputFieldsWrapper from \"../components/wrappers/OverviewInputFieldsWrapper\"\nimport OverviewSettingsContent from \"../components/OverviewSettingsContent\"\nimport OverviewWrapper from \"../components/wrappers/OverviewWrapper\"\nimport PageWrapper from \"../components/wrappers/PageWrapper\"\nimport StakeDetails from \"../components/StakeDetails\"\nimport { Zero } from \"@ethersproject/constants\"\nimport _ from \"lodash\"\nimport { commify } from \"@ethersproject/units\"\nimport { formatBNToString } from \"../utils\"\nimport { useFarmLPTokenBalances } from \"../state/wallet/hooks\"\nimport { useMultiCallEarnedRewards } from \"../hooks/useMultiCallEarnedRewards\"\nimport { useMultiCallFarmDeposits } from \"../hooks/useMultiCallFarmDeposits\"\n\nfunction Farms(): ReactElement {\n  const dispatch = useDispatch<AppDispatch>()\n\n  const { farmPreferences } = useSelector((state: AppState) => state.user)\n  const { farmStats } = useSelector((state: AppState) => state.application)\n\n  const [sortDirection, setSortDirection] = useState(1)\n  const [sortByField, setSortByField] = useState(farmPreferences.sortField)\n  const [filterByField, setfilterByField] = useState(\n    farmPreferences.filterField,\n  )\n  const [timeout, setTimout] = useState(false)\n  const [isInfo, setIsInfo] = useState(false)\n\n  const { isOpen, onOpen, onClose } = useDisclosure()\n  useTimeout(() => setTimout(true), 5000)\n\n  const onIconButtonClick = (isInfo: boolean): void => {\n    onOpen()\n    setIsInfo(isInfo)\n  }\n  const resetDashboardView = () => {\n    onClose()\n    setIsInfo(false)\n  }\n\n  const lpTokenBalances = useFarmLPTokenBalances()\n  const farmDeposits = useMultiCallFarmDeposits()\n  const allRewards = useMultiCallEarnedRewards()\n\n  const allRewardsFormatted = useMemo(() => {\n    return +formatBNToString(\n      Object.values(allRewards || {})?.reduce((sum, balance) => {\n        return sum.add(balance)\n      }, Zero),\n      18,\n      5,\n    )\n  }, [allRewards])\n\n  const lpTokenBalancesFormatted = useMemo(() => {\n    return Object.entries(lpTokenBalances || {})\n      ?.filter((balance) => {\n        return balance[1].gt(Zero)\n      })\n      .map(([symbol, value]) => {\n        return {\n          tokenName: symbol,\n          icon: LP_TOKEN_MAP[symbol].icon,\n          amount: commify(formatBNToString(value, 18, 5)),\n        }\n      })\n  }, [lpTokenBalances])\n\n  const farmDepositsFormatted = useMemo(() => {\n    return Object.entries(farmDeposits || {})\n      ?.filter((balance) => {\n        return balance[1].gt(Zero)\n      })\n      .map(([symbol, value]) => {\n        return {\n          tokenName: symbol,\n          icon: FARMS_MAP[symbol as FarmName].lpToken.icon,\n          amount: commify(formatBNToString(value, 18, 5)),\n        }\n      })\n  }, [farmDeposits])\n\n  const FILTER_FUNCTIONS: {\n    [filterField in FarmFilterFields]: (a: Farm) => boolean\n  } = {\n    balance: (a: Farm) =>\n      (lpTokenBalances?.[a.lpToken.symbol] || Zero).gt(Zero),\n    deposit: (a: Farm) => farmDeposits?.[a.name]?.gt(Zero) || false,\n    dual: (a: Farm) => (farmStats?.[a.name]?.dualReward.token ? true : false),\n    noFilter: (a: Farm) => (a ? true : false),\n  }\n\n  const SORT_FUNCTIONS: {\n    [sortField in FarmSortFields]: (a: Farm, b: Farm) => boolean\n  } = {\n    apr: (a: Farm, b: Farm) =>\n      +(farmStats?.[a.name]?.apr.slice(0, -1) || 0) +\n        +(farmStats?.[a.name]?.dualReward.apr?.slice(0, -1) || 0) >\n      +(farmStats?.[b.name]?.apr.slice(0, -1) || 0) +\n        +(farmStats?.[b.name]?.dualReward.apr?.slice(0, -1) || 0),\n    name: (a: Farm, b: Farm) => a.name > b.name,\n    tvl: (a: Farm, b: Farm) =>\n      +(farmStats?.[a.name].tvl || 0) > +(farmStats?.[b.name].tvl || 0),\n    rewards: (a: Farm, b: Farm) =>\n      (allRewards?.[a.name] || Zero).gt(allRewards?.[b.name] || Zero),\n    balance: (a: Farm, b: Farm) =>\n      (lpTokenBalances?.[a.lpToken.symbol] || Zero).gt(\n        lpTokenBalances?.[b.lpToken.symbol] || Zero,\n      ),\n    deposit: (a: Farm, b: Farm) =>\n      (farmDeposits?.[a.name] || Zero).gt(farmDeposits?.[b.name] || Zero),\n  }\n\n  return (\n    <PageWrapper activeTab=\"farms\" maxW=\"1550px\">\n      <Drawer\n        isOpen={isOpen}\n        placement=\"right\"\n        onClose={resetDashboardView}\n        size={isInfo ? \"sm\" : \"md\"}\n      >\n        <DrawerOverlay />\n        <DrawerContent\n          bg={useColorModeValue(\n            \"linear-gradient(to bottom, #f7819a, #ebd9c2, #e9e0d9)\",\n            \"linear-gradient(to right, #141414, #200122, #791038)\",\n          )}\n          p=\"50px 10px\"\n        >\n          <DrawerCloseButton />\n          <DrawerBody p=\"5px\">\n            {isInfo ? (\n              <OverviewInfo\n                infoType=\"Farm\"\n                sections={[\n                  {\n                    title: \"How to Farm\",\n                    items: [\n                      {\n                        icon: FaChartPie,\n                        text:\n                          \"Add liquidity to one of our pools and receive LP tokens in exchange.\",\n                      },\n                      {\n                        icon: FaReceipt,\n                        text:\n                          \"Click on any of the farm cards to deposit your LP tokens and earn rewards!\",\n                      },\n                      {\n                        icon: FaGift,\n                        text:\n                          \"Withdraw your LP tokens and claim rewards at any time.\",\n                      },\n                    ],\n                  },\n                  {\n                    title: \"Dashboard\",\n                    items: [\n                      {\n                        icon: FaLayerGroup,\n                        text:\n                          \"View your total rewards, LP token balances, & Farm Deposits across all farms all in one view!\",\n                      },\n                    ],\n                  },\n                  {\n                    title: \"Preferences\",\n                    items: [\n                      {\n                        icon: FaSortAmountUp,\n                        text:\n                          \"Sort by any of the farm card fields like TVL, APR & Name.\",\n                      },\n                      {\n                        icon: FaFilter,\n                        text:\n                          \"Filter by your Farm Deposits, LP Token Balances and Farms with Dual Rewards.\",\n                      },\n                      {\n                        icon: BsSliders,\n                        text:\n                          \"Configure your preferences on this page like default sorting behavior. We will save this info for you and apply it each time you visit the page!\",\n                      },\n                    ],\n                  },\n                  {\n                    title: \"Pools\",\n                    items: [\n                      {\n                        icon: FaChartPie,\n                        text: (\n                          <>\n                            Most of our liquidity pools can be found by visiting\n                            our{\" \"}\n                            <Link\n                              to=\"/pools\"\n                              style={{\n                                textDecoration: \"underline\",\n                                margin: 0,\n                                fontWeight: \"bold\",\n                              }}\n                            >\n                              pools page\n                            </Link>\n                            , but the{\" \"}\n                            <a\n                              href=\"https://dex.nearpad.io/add/0xdcD6D4e2B3e1D1E1E6Fa8C21C8A323DcbecfF970/0x885f8CF6E45bdd3fdcDc644efdcd0AC93880c781\"\n                              target=\"_blank\"\n                              rel=\"noreferrer\"\n                              style={{\n                                textDecoration: \"underline\",\n                                margin: 0,\n                                fontWeight: \"bold\",\n                              }}\n                            >\n                              ROSE/PAD\n                              <sup></sup>\n                            </a>{\" \"}\n                            and{\" \"}\n                            <a\n                              href=\"https://dex.nearpad.io/add/0xdcD6D4e2B3e1D1E1E6Fa8C21C8A323DcbecfF970/0xDA2585430fEf327aD8ee44Af8F1f989a2A91A3d2\"\n                              target=\"_blank\"\n                              rel=\"noreferrer\"\n                              style={{\n                                textDecoration: \"underline\",\n                                margin: 0,\n                                fontWeight: \"bold\",\n                              }}\n                            >\n                              ROSE/Frax\n                              <sup></sup>\n                            </a>{\" \"}\n                            pairs can be found on the Nearpad DEX.\n                          </>\n                        ),\n                      },\n                    ],\n                  },\n                ]}\n              />\n            ) : (\n              <FarmsDashboard\n                allRewardsFormatted={allRewardsFormatted}\n                farmStats={farmStats}\n                lpTokenBalancesFormatted={lpTokenBalancesFormatted}\n                farmDepositsFormatted={farmDepositsFormatted}\n                loading={\n                  (_.isEmpty(lpTokenBalances) ||\n                    _.isEmpty(farmDeposits) ||\n                    _.isEmpty(allRewards)) &&\n                  !timeout\n                }\n              />\n            )}\n          </DrawerBody>\n        </DrawerContent>\n      </Drawer>\n      <OverviewWrapper\n        top={\n          <OverviewInputFieldsWrapper\n            sortDirection={sortDirection}\n            sortByField={sortByField}\n            sortFieldLabelMap={FARM_SORT_FIELDS_TO_LABEL}\n            filterByField={filterByField}\n            filterFieldLabelMap={FARM_FILTER_FIELDS_TO_LABEL}\n            handleSortDirection={setSortDirection}\n            handleClearFilter={() =>\n              setfilterByField(FarmFilterFields.NO_FILTER)\n            }\n            handleUpdateSortField={(e) =>\n              setSortByField(e.target.value as FarmSortFields)\n            }\n            handleUpdateFilterField={(e) =>\n              setfilterByField(e.target.value as FarmFilterFields)\n            }\n            onIconClick={onIconButtonClick}\n            popOverContent={\n              <OverviewSettingsContent\n                sortFieldLabelMap={FARM_SORT_FIELDS_TO_LABEL}\n                filterFieldLabelMap={FARM_FILTER_FIELDS_TO_LABEL}\n                preferences={farmPreferences}\n                updateVisibleFields={(e, field: string) =>\n                  dispatch(\n                    updateFarmVisibleFieldPreferences({\n                      field: field as FarmSortFields,\n                      value: +e.target.value * -1,\n                    }),\n                  )\n                }\n                updateFilterPreferences={(e) =>\n                  dispatch(\n                    updateFarmFilterPreferences(\n                      e.target.value as FarmFilterFields,\n                    ),\n                  )\n                }\n                updateSortPreferences={(e) =>\n                  dispatch(\n                    updateFarmSortPreferences(e.target.value as FarmSortFields),\n                  )\n                }\n              />\n            }\n          />\n        }\n        left={\n          <AnimatePresence>\n            {Object.values(FARMS_MAP)\n              .filter((farm) => FILTER_FUNCTIONS[filterByField](farm))\n              .sort((a, b) => {\n                return SORT_FUNCTIONS[sortByField](a, b)\n                  ? sortDirection * -1\n                  : sortDirection\n              })\n              .map((farm, index) =>\n                (farmStats &&\n                  lpTokenBalances?.[farm.lpToken.symbol] &&\n                  farmDeposits?.[farm.name] &&\n                  allRewards?.[farm.name]) ||\n                timeout ? (\n                  <FarmsOverview\n                    key={farm.name}\n                    farmName={farm.name}\n                    lpTokenIcon={farm.lpToken.icon}\n                    farmRoute={farm.route}\n                    balance={lpTokenBalances?.[farm.lpToken.symbol] || Zero}\n                    deposited={farmDeposits?.[farm.name] || Zero}\n                    tvl={farmStats?.[farm.name]?.tvl}\n                    apr={{\n                      roseApr: farmStats?.[farm.name]?.apr,\n                      dualRewardApr: farmStats?.[farm.name]?.dualReward.apr,\n                      dualRewardTokenName:\n                        farmStats?.[farm.name]?.dualReward.token,\n                    }}\n                    rewards={{\n                      rose: allRewards?.[farm.name] || Zero,\n                      dual:\n                        farm.name === UST_METAPOOL_FARM_NAME\n                          ? allRewards?.[\"dualReward\"] || Zero\n                          : Zero,\n                    }}\n                  />\n                ) : (\n                  <Skeleton key={index} height=\"100px\" borderRadius=\"10px\" />\n                ),\n              )}\n          </AnimatePresence>\n        }\n        right={\n          <FarmsDashboard\n            allRewardsFormatted={allRewardsFormatted}\n            farmStats={farmStats}\n            lpTokenBalancesFormatted={lpTokenBalancesFormatted}\n            farmDepositsFormatted={farmDepositsFormatted}\n            loading={\n              (_.isEmpty(lpTokenBalances) ||\n                _.isEmpty(farmDeposits) ||\n                _.isEmpty(allRewards)) &&\n              !timeout\n            }\n          />\n        }\n      />\n    </PageWrapper>\n  )\n}\n\ninterface FarmDashboardProps {\n  allRewardsFormatted: number\n  farmStats: { [key: string]: FarmStats } | undefined\n  lpTokenBalancesFormatted: DashboardItems[]\n  farmDepositsFormatted: DashboardItems[]\n  loading: boolean\n}\n\nconst FarmsDashboard = ({\n  allRewardsFormatted,\n  farmStats,\n  lpTokenBalancesFormatted,\n  farmDepositsFormatted,\n  loading,\n}: FarmDashboardProps): ReactElement => {\n  return (\n    <Dashboard\n      dashboardName=\"Farms\"\n      dashboardContent={\n        <StakeDetails\n          extraStakeDetailChild={\n            <Flex justifyContent=\"space-between\" alignItems=\"center\">\n              <FaGift color=\"#cc3a59\" size=\"35px\" title=\"Total Rewards\" />\n              <AnimatingNumber\n                value={allRewardsFormatted}\n                precision={allRewardsFormatted > 0 ? 3 : 1}\n              />\n            </Flex>\n          }\n          loading={loading}\n          balanceView={{\n            title: \"LP Token Balances\",\n            items: lpTokenBalancesFormatted,\n          }}\n          stakedView={{\n            title: \"Farm Deposits\",\n            items: farmDepositsFormatted,\n          }}\n          stats={[\n            {\n              statLabel: \"Total Farm TVL\",\n              statValue: `$${commify(\n                formatBNToString(\n                  Object.values(farmStats || {})\n                    ?.map((stat) => {\n                      return BigNumber.from(stat?.tvl || Zero)\n                    })\n                    .reduce((sum, tvl) => {\n                      return sum.add(tvl)\n                    }, Zero),\n                  18,\n                  2,\n                ),\n              )}`,\n            },\n          ]}\n        />\n      }\n    />\n  )\n}\n\nexport default Farms\n","import {\n  BLOCK_TIME,\n  ChainId,\n  FARMS_MAP,\n  ROSE,\n  UST_METAPOOL_FARM_NAME,\n} from \"../constants\"\nimport { Contract, Provider } from \"ethcall\"\nimport { MulticallContract, MulticallProvider } from \"../types/ethcall\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport ROSE_STABLES_FARM_ABI from \"../constants/abis/RoseStablesFarm.json\"\nimport { RoseStablesFarm } from \"../../types/ethers-contracts/RoseStablesFarm\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { useActiveWeb3React } from \".\"\nimport { useFarmContract } from \"./useContract\"\nimport usePoller from \"./usePoller\"\nimport { useState } from \"react\"\n\nexport const useMultiCallEarnedRewards = (): {\n  [farmName: string]: BigNumber\n} | null => {\n  const { account, chainId, library } = useActiveWeb3React()\n  const [rewards, setRewards] = useState<{ [farmName: string]: BigNumber }>({})\n  const farmContractDualReward = useFarmContract(UST_METAPOOL_FARM_NAME)\n  const ethcallProvider = new Provider() as MulticallProvider\n\n  usePoller((): void => {\n    async function pollEarnedRewards(): Promise<void> {\n      if (!library || !chainId || !account) return\n\n      await ethcallProvider.init(library)\n      // override the contract address when using aurora\n      if (chainId == ChainId.AURORA_TESTNET) {\n        ethcallProvider.multicallAddress =\n          \"0x508B1508AAd923fB24F6d13cD74Ac640fD8B66E8\"\n      } else if (chainId == ChainId.AURORA_MAINNET) {\n        ethcallProvider.multicallAddress =\n          \"0x49eb1F160e167aa7bA96BdD88B6C1f2ffda5212A\"\n      }\n\n      const balanceCalls = Object.values(FARMS_MAP)\n        .map((farm) => {\n          return new Contract(\n            farm.addresses[chainId],\n            ROSE_STABLES_FARM_ABI.abi,\n          ) as MulticallContract<RoseStablesFarm>\n        })\n        .map((c) => c.earned(account, ROSE.addresses[chainId]))\n      const dualReward = await farmContractDualReward?.earned(\n        account,\n        \"0xC4bdd27c33ec7daa6fcfd8532ddB524Bf4038096\",\n      )\n      const rewards = await ethcallProvider.all(balanceCalls, \"latest\")\n      setRewards(\n        Object.keys(FARMS_MAP).reduce(\n          (acc, farmName, i) => ({\n            ...acc,\n            [farmName]: rewards[i],\n          }),\n          { dualReward: dualReward || Zero },\n        ),\n      )\n    }\n    if (account) {\n      void pollEarnedRewards()\n    }\n  }, BLOCK_TIME)\n\n  return rewards\n}\n","/* eslint @typescript-eslint/no-unsafe-assignment: 0 */\n/* eslint @typescript-eslint/no-unsafe-call: 0 */\n/* eslint @typescript-eslint/no-explicit-any: 0 */\nimport { AddressZero, Zero } from \"@ethersproject/constants\"\nimport { ChainId, POOLS_MAP, PoolName, TRANSACTION_TYPES } from \"../constants\"\nimport { Contract, Provider } from \"ethcall\"\nimport {\n  MulticallCall,\n  MulticallContract,\n  MulticallProvider,\n} from \"../types/ethcall\"\nimport {\n  calculatePctOfTotalShare,\n  formatBNToPercentString,\n  getContract,\n} from \"../utils\"\nimport { useEffect, useState } from \"react\"\n\nimport { AppState } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport LPTOKEN_UNGUARDED_ABI from \"../constants/abis/lpTokenUnguarded.json\"\nimport { LpTokenUnguarded } from \"../../types/ethers-contracts/LpTokenUnguarded\"\nimport ROSE_STABLES_POOL from \"../constants/abis/RoseStablesPool.json\"\nimport { RoseStablesPool } from \"../../types/ethers-contracts/RoseStablesPool\"\nimport { parseUnits } from \"@ethersproject/units\"\nimport { useActiveWeb3React } from \".\"\nimport { usePoolContract } from \"./useContract\"\nimport { useSelector } from \"react-redux\"\n\nconst poolStatsApi =\n  \"https://raw.githubusercontent.com/RoseOnAurora/apr/master/pools.json\"\n\ninterface PoolStatsApiResponse {\n  pool_name: string\n  daily_volume: string\n}\n\ninterface TokenShareType {\n  percent: string\n  symbol: string\n  value: BigNumber\n}\n\nexport type Partners = \"keep\" | \"sharedStake\" | \"alchemix\"\nexport interface PoolDataType {\n  adminFee: BigNumber\n  aParameter: BigNumber\n  apy: BigNumber | null\n  name: string\n  reserve: BigNumber | null\n  swapFee: BigNumber\n  tokens: TokenShareType[]\n  totalLocked: BigNumber\n  utilization: BigNumber | null\n  virtualPrice: BigNumber\n  volume: BigNumber | null\n  isPaused: boolean\n  aprs: Partial<\n    Record<\n      Partners,\n      {\n        apr: BigNumber\n        symbol: string\n      }\n    >\n  >\n  lpTokenPriceUSD: BigNumber\n  lpToken: string\n}\n\nexport interface UserShareType {\n  lpTokenBalance: BigNumber\n  name: PoolName // TODO: does this need to be on user share?\n  share: BigNumber\n  tokens: TokenShareType[]\n  usdBalance: BigNumber\n  underlyingTokensAmount: BigNumber\n  amountsStaked: Partial<Record<Partners, BigNumber>>\n}\n\nexport type PoolDataHookReturnType = [PoolDataType, UserShareType | null]\n\nconst emptyPoolData = {\n  adminFee: Zero,\n  aParameter: Zero,\n  apy: null,\n  name: \"\",\n  reserve: null,\n  swapFee: Zero,\n  tokens: [],\n  totalLocked: Zero,\n  utilization: null,\n  virtualPrice: Zero,\n  volume: null,\n  aprs: {},\n  lpTokenPriceUSD: Zero,\n  lpToken: \"\",\n  isPaused: false,\n} as PoolDataType\n\nexport default function usePoolData(\n  poolName?: PoolName,\n): PoolDataHookReturnType {\n  const { account, library, chainId } = useActiveWeb3React()\n  const poolContract = usePoolContract(poolName)\n  const { tokenPricesUSD, lastTransactionTimes, swapStats } = useSelector(\n    (state: AppState) => state.application,\n  )\n  const lastDepositTime = lastTransactionTimes[TRANSACTION_TYPES.DEPOSIT]\n  const lastWithdrawTime = lastTransactionTimes[TRANSACTION_TYPES.WITHDRAW]\n  const lastSwapTime = lastTransactionTimes[TRANSACTION_TYPES.SWAP]\n  const lastMigrateTime = lastTransactionTimes[TRANSACTION_TYPES.MIGRATE]\n\n  const [poolData, setPoolData] = useState<PoolDataHookReturnType>([\n    {\n      ...emptyPoolData,\n      name: poolName || \"\",\n    },\n    null,\n  ])\n\n  useEffect(() => {\n    async function getPoolData(): Promise<void> {\n      if (\n        poolName == null ||\n        poolContract == null ||\n        tokenPricesUSD == null ||\n        library == null ||\n        chainId == null\n      )\n        return\n\n      // fetch pool stats, TODO: don't need to call for each pool, store somewhere else\n      let dailyVolume\n      const poolStats = await fetch(poolStatsApi)\n        .then((res) => res.json())\n        .then((body: PoolStatsApiResponse[]) => {\n          return body.map((b) => {\n            return {\n              pool_name: b.pool_name,\n              daily_volume: b.daily_volume,\n            }\n          })\n        })\n      const poolStat = poolStats.find(({ pool_name }) => pool_name === poolName)\n      if (typeof poolStat !== \"undefined\") {\n        dailyVolume = BigNumber.from(\n          Math.round(parseFloat(poolStat.daily_volume)),\n        ).mul(BigNumber.from(10).pow(18))\n      } else {\n        dailyVolume = null\n      }\n\n      const POOL = POOLS_MAP[poolName]\n      const effectivePoolTokens = POOL.poolTokens\n      const lpTokenContract = getContract(\n        POOL.lpToken.addresses[chainId],\n        LPTOKEN_UNGUARDED_ABI,\n        library,\n        account ?? undefined,\n      ) as LpTokenUnguarded\n\n      const ethcallProvider = new Provider() as MulticallProvider\n      await ethcallProvider.init(library)\n      // override the contract address when using aurora\n      if (chainId == ChainId.AURORA_TESTNET) {\n        ethcallProvider.multicallAddress =\n          \"0x508B1508AAd923fB24F6d13cD74Ac640fD8B66E8\"\n      } else if (chainId == ChainId.AURORA_MAINNET) {\n        ethcallProvider.multicallAddress =\n          \"0x49eb1F160e167aa7bA96BdD88B6C1f2ffda5212A\"\n      }\n\n      // get virtual price (failing in multicall, maybe because no liquidity yet?)\n      let virtualPrice: BigNumber\n      try {\n        virtualPrice = await poolContract.get_virtual_price()\n      } catch (e) {\n        console.log(`couldn't fetch virtual price`)\n        virtualPrice = Zero\n      }\n\n      // multicall: fetch A, fee, protocol_fee, token prices\n      const multicallPoolContract = new Contract(\n        poolContract.address,\n        ROSE_STABLES_POOL,\n      ) as MulticallContract<RoseStablesPool>\n      const a: MulticallCall<unknown, BigNumber> = multicallPoolContract.A()\n      const fee: MulticallCall<unknown, BigNumber> = multicallPoolContract.fee()\n      const poolTokenBalances = effectivePoolTokens.map((_, index) => {\n        return multicallPoolContract.balances(index)\n      })\n\n      // TODO: make a struct instead of an unfriendly array\n      const multicallResFormatted = await ethcallProvider.all(\n        [a, fee, ...poolTokenBalances],\n        \"latest\",\n      )\n      // TODO: kinda hacky way of adjusting decimals, need to do this generically\n      const tokenBalances = multicallResFormatted\n        .slice(2)\n        .map((balance, index) => {\n          return balance.mul(\n            BigNumber.from(10).pow(18 - effectivePoolTokens[index].decimals),\n          )\n        })\n\n      // get lp token balance and total supply\n      // TODO: use multicall\n      const [userLpTokenBalance, totalLpTokenBalance] = await Promise.all([\n        lpTokenContract.balanceOf(account || AddressZero),\n        lpTokenContract.totalSupply(),\n      ])\n\n      // calculate sum of token balances\n      const tokenBalancesSum: BigNumber = tokenBalances.reduce((sum, b) =>\n        sum.add(b),\n      )\n      const tokenBalancesUSD = effectivePoolTokens.map((token, i) => {\n        // use another token to estimate USD price of meta LP tokens\n        const balance = tokenBalances[i]\n        return balance\n          .mul(parseUnits(String(tokenPricesUSD[token.symbol] || 0), 18))\n          .div(BigNumber.from(10).pow(18))\n      })\n      const tokenBalancesUSDSum: BigNumber = tokenBalancesUSD.reduce((sum, b) =>\n        sum.add(b),\n      )\n      const lpTokenPriceUSD = tokenBalancesSum.isZero()\n        ? Zero\n        : tokenBalancesUSDSum\n            .mul(BigNumber.from(10).pow(18))\n            .div(tokenBalancesSum)\n\n      // calculate user share of pool\n      const userShare = calculatePctOfTotalShare(\n        userLpTokenBalance,\n        totalLpTokenBalance,\n      )\n      const userPoolTokenBalances = tokenBalances.map((balance) => {\n        return userShare.mul(balance).div(BigNumber.from(10).pow(18))\n      })\n      const userPoolTokenBalancesSum: BigNumber = userPoolTokenBalances.reduce(\n        (sum, b) => sum.add(b),\n      )\n      const userPoolTokenBalancesUSD = tokenBalancesUSD.map((balance) => {\n        return userShare.mul(balance).div(BigNumber.from(10).pow(18))\n      })\n      const userPoolTokenBalancesUSDSum: BigNumber = userPoolTokenBalancesUSD.reduce(\n        (sum, b) => sum.add(b),\n      )\n\n      // format pool token balances and user pool tokens\n      const poolTokens = effectivePoolTokens.map((token, i) => ({\n        symbol: token.symbol,\n        percent: formatBNToPercentString(\n          tokenBalances[i]\n            .mul(10 ** 5)\n            .div(\n              totalLpTokenBalance.isZero()\n                ? BigNumber.from(\"1\")\n                : tokenBalancesSum,\n            ),\n          5,\n        ),\n        value: tokenBalances[i],\n      }))\n      const userPoolTokens = effectivePoolTokens.map((token, i) => ({\n        symbol: token.symbol,\n        percent: formatBNToPercentString(\n          tokenBalances[i]\n            .mul(10 ** 5)\n            .div(\n              totalLpTokenBalance.isZero()\n                ? BigNumber.from(\"1\")\n                : tokenBalancesSum,\n            ),\n          5,\n        ),\n        value: userPoolTokenBalances[i],\n      }))\n\n      // set final structs stored in state\n      const poolData = {\n        ...emptyPoolData,\n        name: poolName,\n        tokens: poolTokens,\n        reserve: tokenBalancesUSDSum,\n        totalLocked: totalLpTokenBalance,\n        aParameter: multicallResFormatted[0],\n        swapFee: multicallResFormatted[1],\n        virtualPrice,\n        lpTokenPriceUSD,\n        lpToken: POOL.lpToken.symbol,\n        volume: dailyVolume,\n      }\n      const userShareData = account\n        ? {\n            name: poolName,\n            share: userShare,\n            underlyingTokensAmount: userPoolTokenBalancesSum,\n            usdBalance: userPoolTokenBalancesUSDSum,\n            tokens: userPoolTokens,\n            lpTokenBalance: userLpTokenBalance,\n            amountsStaked: {},\n          }\n        : null\n\n      setPoolData([poolData, userShareData])\n    }\n    void getPoolData()\n  }, [\n    lastDepositTime,\n    lastWithdrawTime,\n    lastSwapTime,\n    lastMigrateTime,\n    poolContract,\n    tokenPricesUSD,\n    poolName,\n    account,\n    library,\n    chainId,\n    swapStats,\n  ])\n\n  return poolData\n}\n","import \"./CheckboxInput.scss\"\n\nimport React, { ReactElement } from \"react\"\n\ninterface Props {\n  checked: boolean\n  onChange: () => void\n}\n\nexport default function CheckboxInput({\n  checked,\n  onChange,\n}: Props): ReactElement {\n  return (\n    <label className=\"checkboxInput\">\n      <input type=\"checkbox\" checked={checked} onChange={onChange} />\n      <div className=\"checkboxControl\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 24 24\"\n          aria-hidden=\"true\"\n          focusable=\"false\"\n        >\n          <path\n            fill=\"none\"\n            strokeWidth=\"4\"\n            d=\"M1.73 12.91l6.37 6.37L22.79 4.59\"\n          />\n        </svg>\n      </div>\n    </label>\n  )\n}\n","import { Input, InputGroup, InputRightElement, Tooltip } from \"@chakra-ui/react\"\nimport React, { ReactElement } from \"react\"\nimport {\n  updateInfiniteApproval,\n  updateSlippageCustom,\n  updateSlippageSelected,\n} from \"../state/user\"\nimport { useDispatch, useSelector } from \"react-redux\"\n\nimport { AppDispatch } from \"../state\"\nimport { AppState } from \"../state/index\"\nimport CheckboxInput from \"./CheckboxInput\"\nimport { PayloadAction } from \"@reduxjs/toolkit\"\nimport { Slippages } from \"../state/user\"\nimport classNames from \"classnames\"\nimport styles from \"./AdvancedOptions.module.scss\"\nimport { useTranslation } from \"react-i18next\"\n\nexport default function AdvancedOptions(): ReactElement {\n  const { t } = useTranslation()\n  const dispatch = useDispatch<AppDispatch>()\n  const { infiniteApproval, slippageCustom, slippageSelected } = useSelector(\n    (state: AppState) => state.user,\n  )\n\n  return (\n    <div className={styles.advancedOptions}>\n      <div className={styles.parameter}>\n        <div className={styles.infiniteApproval} style={{ zIndex: 3 }}>\n          <CheckboxInput\n            checked={infiniteApproval}\n            onChange={(): PayloadAction<boolean> =>\n              dispatch(updateInfiniteApproval(!infiniteApproval))\n            }\n          />\n          <Tooltip\n            bgColor=\"#cc3a59\"\n            closeOnClick={false}\n            label={t(\"infiniteApprovalTooltip\")}\n          >\n            <span className={styles.label}>{t(\"infiniteApproval\")}</span>\n          </Tooltip>\n        </div>\n      </div>\n      <div className={styles.parameter}>\n        <div className={styles.inputGroup}>\n          <div className={styles.options}>\n            <div className={styles.label}>{t(\"maxSlippage\")}: </div>\n            <button\n              className={classNames({\n                [styles.selected]: slippageSelected === Slippages.OneTenth,\n              })}\n              onClick={(): PayloadAction<Slippages> =>\n                dispatch(updateSlippageSelected(Slippages.OneTenth))\n              }\n            >\n              <span>0.1%</span>\n            </button>\n            <button\n              className={classNames({\n                [styles.selected]: slippageSelected === Slippages.One,\n              })}\n              onClick={(): PayloadAction<Slippages> =>\n                dispatch(updateSlippageSelected(Slippages.One))\n              }\n            >\n              <span>1%</span>\n            </button>\n            <div style={{ display: \"flex\", alignItems: \"center\" }}>\n              <InputGroup marginLeft=\"5px\" width=\"90px\">\n                <Input\n                  value={slippageCustom?.valueRaw}\n                  type=\"text\"\n                  variant=\"outline\"\n                  onChange={(e: React.ChangeEvent<HTMLInputElement>): void => {\n                    const value = e.target.value\n                    if (value && !isNaN(+value)) {\n                      dispatch(updateSlippageCustom(value))\n                      if (slippageSelected !== Slippages.Custom) {\n                        dispatch(updateSlippageSelected(Slippages.Custom))\n                      }\n                    } else {\n                      dispatch(updateSlippageSelected(Slippages.OneTenth))\n                    }\n                  }}\n                />\n                <InputRightElement width=\"2rem\">%</InputRightElement>\n              </InputGroup>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import \"./Button.scss\"\n\nimport React, { ReactElement } from \"react\"\n\nimport classNames from \"classnames\"\n\ntype Props = {\n  disabled?: boolean\n  kind?: \"primary\" | \"secondary\" | \"ternary\" | \"cancel\" | \"temporary\"\n  size?: \"xlarge\" | \"large\" | \"medium\" | \"small\"\n  onClick?: (e: React.MouseEvent<HTMLButtonElement>) => void\n}\nexport default function Button(\n  props: React.PropsWithChildren<Props>,\n): ReactElement {\n  const { kind = \"primary\", size = \"large\", ...buttonProps } = props\n  return (\n    <button className={classNames(\"button\", kind, size)} {...buttonProps} />\n  )\n}\n","import \"./HighPriceImpactConfirmation.scss\"\n\nimport React, { ReactElement } from \"react\"\n\nimport CheckboxInput from \"./CheckboxInput\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  checked: boolean\n  onCheck: () => void\n}\nexport default function HighPriceImpactConfirmation({\n  checked,\n  onCheck,\n}: Props): ReactElement {\n  const { t } = useTranslation()\n  return (\n    <div className=\"highPriceImpactConfirmation\">\n      {t(\"highPriceImpactConfirmation\")}\n      <div className=\"confirmationBox\">\n        <span>{t(\"iConfirm\")}</span>{\" \"}\n        <CheckboxInput checked={checked} onChange={onCheck} />\n      </div>\n    </div>\n  )\n}\n","import { BigNumber } from \"@ethersproject/bignumber\"\nimport { NumberInputState } from \"./numberInputState\"\nimport { Slippages } from \"../state/user\"\nimport { formatUnits } from \"@ethersproject/units\"\n\n/**\n * Given an input value and slippage redux state values, do the math.\n * @param {BigNumber} inputValue\n * @param {Slippages} slippageSelected\n * @param {NumberInputState} slippageCustom\n * @param {boolean} add\n * @return {BigNumber}\n */\nexport function _applySlippage(\n  inputValue: BigNumber,\n  slippageSelected: Slippages,\n  slippageCustom?: NumberInputState,\n  add = false,\n): BigNumber {\n  let numerator\n  let denominator\n  if (slippageSelected === Slippages.Custom && !!slippageCustom) {\n    denominator = BigNumber.from(10).pow(slippageCustom.precision + 2)\n    numerator = add\n      ? denominator.add(slippageCustom.valueSafe)\n      : denominator.sub(slippageCustom.valueSafe)\n  } else if (slippageSelected === Slippages.OneTenth) {\n    denominator = 1000\n    numerator = denominator + (add ? 1 : -1)\n  } else {\n    // default to 1%\n    denominator = 100\n    numerator = denominator + (add ? 1 : -1)\n  }\n  return inputValue.mul(numerator).div(denominator)\n}\n\nexport function addSlippage(\n  inputValue: BigNumber,\n  slippageSelected: Slippages,\n  slippageCustom?: NumberInputState,\n): BigNumber {\n  return _applySlippage(inputValue, slippageSelected, slippageCustom, true)\n}\n\nexport function subtractSlippage(\n  inputValue: BigNumber,\n  slippageSelected: Slippages,\n  slippageCustom?: NumberInputState,\n): BigNumber {\n  return _applySlippage(inputValue, slippageSelected, slippageCustom, false)\n}\n\nexport function formatSlippageToString(\n  slippageSelected: Slippages,\n  slippageCustom?: NumberInputState,\n): string {\n  if (slippageSelected === Slippages.Custom && !!slippageCustom) {\n    return formatUnits(slippageCustom.valueSafe, slippageCustom?.precision)\n  } else if (slippageSelected === Slippages.OneTenth) {\n    return formatUnits(BigNumber.from(100), 3)\n  } else if (slippageSelected === Slippages.One) {\n    return formatUnits(BigNumber.from(100), 2)\n  } else {\n    return \"N/A\"\n  }\n}\n","import { BigNumber } from \"@ethersproject/bignumber\"\nimport { Zero } from \"@ethersproject/constants\"\n\nexport function isHighPriceImpact(priceImpact: BigNumber): boolean {\n  // assumes that priceImpact has 18d precision\n  const negOne = BigNumber.from(10)\n    .pow(18 - 2)\n    .mul(-1)\n  return priceImpact.lte(negOne)\n}\n\nexport function calculatePriceImpact(\n  tokenInputAmount: BigNumber, // assumed to be 18d precision\n  tokenOutputAmount: BigNumber,\n  virtualPrice = BigNumber.from(10).pow(18),\n  isWithdraw = false,\n): BigNumber {\n  // We want to multiply the lpTokenAmount by virtual price\n  // Deposits: (VP * output) / input - 1\n  // Swaps: (1 * output) / input - 1\n  // Withdraws: output / (input * VP) - 1\n  if (tokenInputAmount.lte(0)) return Zero\n\n  return isWithdraw\n    ? tokenOutputAmount\n        .mul(BigNumber.from(10).pow(36))\n        .div(tokenInputAmount.mul(virtualPrice))\n        .sub(BigNumber.from(10).pow(18))\n    : virtualPrice\n        .mul(tokenOutputAmount)\n        .div(tokenInputAmount)\n        .sub(BigNumber.from(10).pow(18))\n}\n","import \"./ReviewDeposit.scss\"\n\nimport React, { ReactElement, useState } from \"react\"\nimport { commify, formatBNToPercentString, formatBNToString } from \"../utils\"\n\nimport { AppState } from \"../state/index\"\nimport Button from \"./Button\"\nimport { DepositTransaction } from \"../interfaces/transactions\"\nimport HighPriceImpactConfirmation from \"./HighPriceImpactConfirmation\"\nimport { formatGasToString } from \"../utils/gas\"\nimport { formatSlippageToString } from \"../utils/slippage\"\nimport { isHighPriceImpact } from \"../utils/priceImpact\"\nimport { useSelector } from \"react-redux\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  onClose: () => void\n  onConfirm: () => void\n  transactionData: DepositTransaction\n}\n\nfunction ReviewDeposit({\n  onClose,\n  onConfirm,\n  transactionData,\n}: Props): ReactElement {\n  const { t } = useTranslation()\n  const {\n    slippageCustom,\n    slippageSelected,\n    gasPriceSelected,\n    gasCustom,\n  } = useSelector((state: AppState) => state.user)\n  const { gasStandard, gasFast, gasInstant } = useSelector(\n    (state: AppState) => state.application,\n  )\n  const [\n    hasConfirmedHighPriceImpact,\n    setHasConfirmedHighPriceImpact,\n  ] = useState(false)\n  const isHighPriceImpactTxn = isHighPriceImpact(transactionData.priceImpact)\n\n  return (\n    <div className=\"reviewDeposit\">\n      <h3>{t(\"reviewDeposit\")}</h3>\n      <div className=\"table\">\n        <h4>{t(\"depositing\")}</h4>\n        <div>\n          {transactionData.from.items.map(({ token, amount }) => (\n            <div className=\"eachToken\" key={token.symbol}>\n              <div className=\"token\">\n                <img src={token.icon} alt=\"icon\" />\n                <span>{token.symbol}</span>\n              </div>\n              <div className=\"value\">\n                <span className=\"value\">\n                  {commify(formatBNToString(amount, token.decimals))}\n                </span>\n              </div>\n            </div>\n          ))}\n          <div className=\"eachToken\">\n            <div className=\"token\">\n              <b>{t(\"total\")}</b>\n            </div>\n            <div className=\"value\">\n              <b className=\"value\">\n                {commify(\n                  formatBNToString(transactionData.from.totalAmount, 18),\n                )}\n              </b>\n            </div>\n          </div>\n        </div>\n        <div className=\"divider\" style={{ height: \"1px\", width: \"100%\" }}></div>\n        <h4>{t(\"receiving\")}</h4>\n        <div>\n          <div className=\"eachToken\" key={transactionData.to.item.token.symbol}>\n            <div className=\"token\">\n              <img src={transactionData.to.item.token.icon} alt=\"icon\" />\n              <span>{transactionData.to.item.token.symbol}</span>\n            </div>\n            <div className=\"value\">\n              <span className=\"value\">\n                {commify(\n                  formatBNToString(\n                    transactionData.to.item.amount,\n                    transactionData.to.item.token.decimals,\n                  ),\n                )}\n              </span>\n            </div>\n          </div>\n        </div>\n        <div className=\"divider\" style={{ height: \"1px\", width: \"100%\" }}></div>\n        <div className=\"depositInfoItem\">\n          <span className=\"label\">{t(\"shareOfPool\")}</span>\n          <span className=\"value\">\n            {formatBNToPercentString(transactionData.shareOfPool, 18)}\n          </span>\n        </div>\n        <div className=\"depositInfoItem\">\n          <span className=\"label\">{t(\"gas\")}</span>\n          <span className=\"value\">\n            {formatGasToString(\n              { gasStandard, gasFast, gasInstant },\n              gasPriceSelected,\n              gasCustom,\n            )}{\" \"}\n            GWEI\n          </span>\n        </div>\n        {transactionData.txnGasCost?.valueUSD && (\n          <div className=\"depositInfoItem\">\n            <span className=\"label\">{t(\"estimatedTxCost\")}</span>\n            <span className=\"value\">\n              {`$${commify(\n                formatBNToString(transactionData.txnGasCost.valueUSD, 2, 2),\n              )}`}\n            </span>\n          </div>\n        )}\n        <div className=\"depositInfoItem\">\n          <span className=\"label\">{t(\"maxSlippage\")}</span>\n          <span className=\"value\">\n            {formatSlippageToString(slippageSelected, slippageCustom)}%\n          </span>\n        </div>\n        <div className=\"depositInfoItem\">\n          <span className=\"label\">{t(\"rates\")}</span>\n          <div className=\"rates value\">\n            {transactionData.from.items.map(\n              ({ token, singleTokenPriceUSD }) => (\n                <span key={token.symbol}>\n                  1 {token.symbol} = $\n                  {commify(formatBNToString(singleTokenPriceUSD, 18, 2))}\n                </span>\n              ),\n            )}\n            {[transactionData.to.item].map(({ token, singleTokenPriceUSD }) => (\n              <span key={token.symbol}>\n                1 {token.symbol} = $\n                {commify(formatBNToString(singleTokenPriceUSD, 18, 2))}\n              </span>\n            ))}\n          </div>\n        </div>\n      </div>\n      {isHighPriceImpactTxn && (\n        <HighPriceImpactConfirmation\n          checked={hasConfirmedHighPriceImpact}\n          onCheck={(): void =>\n            setHasConfirmedHighPriceImpact((prevState) => !prevState)\n          }\n        />\n      )}\n      <div className=\"bottom\">\n        <p>{t(\"estimatedOutput\")}</p>\n        <div className=\"buttonWrapper\">\n          <Button\n            onClick={onConfirm}\n            kind=\"primary\"\n            disabled={isHighPriceImpactTxn && !hasConfirmedHighPriceImpact}\n          >\n            {t(\"confirmDeposit\")}\n          </Button>\n          <Button onClick={onClose} kind=\"cancel\">\n            {t(\"cancel\")}\n          </Button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ReviewDeposit\n","import { LPTOKEN_TO_POOL_MAP, TOKENS_MAP } from \"../constants\"\nimport React, { ReactElement } from \"react\"\nimport { calculatePrice, commify } from \"../utils\"\nimport { AppState } from \"../state/index\"\nimport { BigNumber } from \"ethers\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { formatBNToString } from \"../utils\"\nimport styles from \"./TokenInput.module.scss\"\nimport usePoolData from \"../hooks/usePoolData\"\nimport { useSelector } from \"react-redux\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  symbol: string\n  icon: string\n  max?: string\n  inputValue: string\n  onChange: (value: string) => void\n  disabled?: boolean\n  readonly?: boolean\n}\n\nfunction TokenInput({\n  symbol,\n  icon,\n  max,\n  inputValue,\n  onChange,\n  disabled,\n  readonly,\n}: Props): ReactElement {\n  const { t } = useTranslation()\n  const { name } = TOKENS_MAP[symbol]\n\n  let tokenUSDValue: number | BigNumber | undefined\n  const poolName = LPTOKEN_TO_POOL_MAP[symbol]\n  const [poolData] = usePoolData(poolName)\n  const { tokenPricesUSD } = useSelector((state: AppState) => state.application)\n\n  if (poolData.lpTokenPriceUSD != Zero) {\n    tokenUSDValue = parseFloat(\n      formatBNToString(poolData.lpTokenPriceUSD, 18, 2),\n    )\n  } else {\n    tokenUSDValue = tokenPricesUSD?.[symbol]\n  }\n\n  function onChangeInput(e: React.ChangeEvent<HTMLInputElement>): void {\n    const { decimals } = TOKENS_MAP[symbol]\n    // remove all chars that aren't a digit or a period\n    const newValue = e.target.value.replace(/[^\\d|.]/g, \"\")\n    // disallow more than one period\n    if (newValue.indexOf(\".\") !== newValue.lastIndexOf(\".\")) return\n    const parsedValue = parseFloat(\"0\" + newValue)\n    const periodIndex = newValue.indexOf(\".\")\n    const isValidInput = newValue === \"\" || !isNaN(parsedValue)\n    const isValidPrecision =\n      periodIndex === -1 || newValue.length - 1 - periodIndex <= decimals\n    if (isValidInput && isValidPrecision) {\n      // don't allow input longer than the token allows\n      onChange(newValue)\n    }\n  }\n\n  return (\n    <div>\n      {max != null && (\n        <div className={styles.balanceContainer}>\n          <span>{t(\"max\")}:</span>\n          &nbsp;\n          <a onClick={() => onChange(String(max))}>{max}</a>\n        </div>\n      )}\n\n      <div className={styles.tokenInputContainer} id=\"tokenInput\">\n        <img alt=\"icon\" src={icon} />\n        <div className={styles.tokenSymbolAndName}>\n          <p className={styles.boldText}>{symbol}</p>\n          <p className={styles.smallText}>{name}</p>\n        </div>\n        <div className={styles.inputGroup}>\n          <input\n            autoComplete=\"off\"\n            autoCorrect=\"off\"\n            type=\"text\"\n            placeholder=\"0.0\"\n            spellCheck=\"false\"\n            disabled={disabled ? true : false}\n            readOnly={readonly}\n            value={inputValue}\n            onChange={onChangeInput}\n            onFocus={(e: React.ChangeEvent<HTMLInputElement>): void =>\n              e.target.select()\n            }\n          />\n          <p className={styles.smallText}>\n            $\n            {commify(\n              formatBNToString(\n                calculatePrice(inputValue, tokenUSDValue),\n                18,\n                2,\n              ),\n            )}\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default TokenInput\n","/* eslint @typescript-eslint/no-unsafe-assignment: 0 */\n/* eslint @typescript-eslint/no-unsafe-call: 0 */\n/* eslint @typescript-eslint/no-unsafe-member-access: 0 */\n/* eslint @typescript-eslint/no-unsafe-return: 0 */\n/* eslint @typescript-eslint/no-explicit-any: 0 */\n/* eslint @typescript-eslint/no-unused-vars: 0 */\nimport \"./DepositPage.scss\"\nimport { Box, Button, Center } from \"@chakra-ui/react\"\nimport { Contract, ContractReceipt } from \"@ethersproject/contracts\"\nimport { DepositTransaction, TransactionItem } from \"../interfaces/transactions\"\nimport {\n  FRAX_STABLES_LP_POOL_NAME,\n  POOLS_MAP,\n  PoolName,\n  Token,\n  UST_METAPOOL_NAME,\n  isMetaPool,\n} from \"../constants\"\nimport React, { ReactElement, useEffect, useMemo, useState } from \"react\"\nimport { TokensStateType, useTokenFormState } from \"../hooks/useTokenFormState\"\nimport {\n  formatBNToPercentString,\n  formatBNToString,\n  getContract,\n  shiftBNDecimals,\n} from \"../utils\"\nimport usePoolData, { PoolDataType } from \"../hooks/usePoolData\"\nimport AdvancedOptions from \"./AdvancedOptions\"\nimport { AppState } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { BsSliders } from \"react-icons/bs\"\nimport { IconButtonPopover } from \"./Popover\"\nimport Modal from \"./Modal\"\nimport ROSE_META_POOL_DEPOSIT from \"../constants/abis/RoseMetaPoolDeposit.json\"\nimport ReviewDeposit from \"./ReviewDeposit\"\nimport TokenInput from \"./TokenInput\"\nimport { TokenPricesUSD } from \"../state/application\"\nimport { TransactionType } from \"../hooks/useChakraToast\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { calculatePriceImpact } from \"../utils/priceImpact\"\nimport { ethers } from \"ethers\"\nimport { formatGasToString } from \"../utils/gas\"\nimport { logEvent } from \"../utils/googleAnalytics\"\nimport { parseUnits } from \"@ethersproject/units\"\nimport { useActiveWeb3React } from \"../hooks\"\nimport { useApproveAndDeposit } from \"../hooks/useApproveAndDeposit\"\nimport { usePoolContract } from \"../hooks/useContract\"\nimport { usePoolTokenBalances } from \"../state/wallet/hooks\"\nimport { useSelector } from \"react-redux\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  poolName: PoolName\n  handlePreSubmit?: (txnType: TransactionType) => void\n  handlePostSubmit?: (\n    receipt: ContractReceipt | null,\n    transactionType: TransactionType,\n    error?: { code: number; message: string },\n  ) => void\n}\n\nfunction Deposit({\n  poolName,\n  handlePreSubmit,\n  handlePostSubmit,\n}: Props): ReactElement | null {\n  const { account, library, chainId } = useActiveWeb3React()\n  const approveAndDeposit = useApproveAndDeposit(poolName)\n  const [poolData, userShareData] = usePoolData(poolName)\n  const poolContract = usePoolContract(poolName) as Contract\n  const { t } = useTranslation()\n\n  const POOL = POOLS_MAP[poolName]\n\n  const allTokens = useMemo(() => {\n    return Array.from(\n      new Set(POOL.poolTokens.concat(POOL.underlyingPoolTokens || [])),\n    )\n  }, [POOL.poolTokens, POOL.underlyingPoolTokens])\n  const [tokenFormState, updateTokenFormState] = useTokenFormState(allTokens)\n  const [shouldDepositWrapped, setShouldDepositWrapped] = useState(false)\n  const [isOpen, setIsOpen] = useState(false)\n\n  useEffect(() => {\n    // empty out previous token state when switchng between wrapped and unwrapped\n    if (shouldDepositWrapped) {\n      updateTokenFormState(\n        POOL.poolTokens.reduce(\n          (acc, { symbol }) => ({\n            ...acc,\n            [symbol]: \"\",\n          }),\n          {},\n        ),\n      )\n    } else {\n      updateTokenFormState(\n        (POOL.underlyingPoolTokens || []).reduce(\n          (acc, { symbol }) => ({\n            ...acc,\n            [symbol]: \"\",\n          }),\n          {},\n        ),\n      )\n    }\n  }, [\n    shouldDepositWrapped,\n    updateTokenFormState,\n    POOL.poolTokens,\n    POOL.underlyingPoolTokens,\n  ])\n  const tokenBalances = usePoolTokenBalances()\n  const { tokenPricesUSD, gasStandard, gasFast, gasInstant } = useSelector(\n    (state: AppState) => state.application,\n  )\n\n  // Merge underlying token usd prices and tokenPricesUSD array\n  const [underlyingPoolData] = usePoolData(POOL.underlyingPool)\n  let newTokenPricesUSD\n  if (underlyingPoolData.lpTokenPriceUSD != Zero) {\n    const underlyingTokenUSDValue = parseFloat(\n      formatBNToString(poolData.lpTokenPriceUSD, 18, 2),\n    )\n    newTokenPricesUSD = {\n      ...tokenPricesUSD,\n      ...{\n        [underlyingPoolData.lpToken]: underlyingTokenUSDValue,\n      },\n    }\n  }\n\n  const { gasPriceSelected, gasCustom } = useSelector(\n    (state: AppState) => state.user,\n  )\n  const gasPrice = ethers.utils.parseUnits(\n    formatGasToString(\n      { gasStandard, gasFast, gasInstant },\n      gasPriceSelected,\n      gasCustom,\n    ),\n    \"gwei\",\n  )\n  const [estDepositLPTokenAmount, setEstDepositLPTokenAmount] = useState(Zero)\n  const [priceImpact, setPriceImpact] = useState(Zero)\n  const isMetaSwap = isMetaPool(POOL.name)\n  const metaSwapContract = useMemo(() => {\n    if (isMetaSwap && chainId && library) {\n      return getContract(\n        POOL.metaSwapAddresses?.[chainId] as string,\n        JSON.stringify(ROSE_META_POOL_DEPOSIT),\n        library,\n        account ?? undefined,\n      )\n    }\n    return null\n  }, [isMetaSwap, chainId, library, POOL.metaSwapAddresses, account])\n\n  const exceedsWallet = allTokens.some(({ symbol }) => {\n    const exceedsBoolean = (tokenBalances?.[symbol] || Zero).lt(\n      BigNumber.from(tokenFormState[symbol].valueSafe),\n    )\n    return exceedsBoolean\n  })\n\n  useEffect(() => {\n    // evaluate if a new deposit will exceed the pool's per-user limit\n    async function calculateMaxDeposits(): Promise<void> {\n      if (\n        poolContract == null ||\n        userShareData == null ||\n        poolData == null ||\n        account == null ||\n        exceedsWallet\n      ) {\n        setEstDepositLPTokenAmount(Zero)\n        return\n      }\n      const tokenInputSum = parseUnits(\n        allTokens\n          .reduce(\n            (sum, { symbol }) => sum + (+tokenFormState[symbol].valueRaw || 0),\n            0,\n          )\n          .toFixed(18),\n        18,\n      )\n      let depositLPTokenAmount\n      if (poolData.totalLocked.gt(0) && tokenInputSum.gt(0)) {\n        if (shouldDepositWrapped) {\n          depositLPTokenAmount = metaSwapContract\n            ? await metaSwapContract.calc_token_amount(\n                (POOL.underlyingPoolTokens || []).map(({ symbol }) =>\n                  BigNumber.from(tokenFormState[symbol].valueSafe),\n                ),\n                true, // deposit boolean\n              )\n            : Zero\n        } else {\n          const txnAmounts: BigNumber[] = POOL.poolTokens.map((poolToken) => {\n            return BigNumber.from(tokenFormState[poolToken.symbol].valueSafe)\n          })\n          depositLPTokenAmount = await poolContract.calc_token_amount(\n            txnAmounts,\n            true, // deposit boolean\n          )\n        }\n      } else {\n        // when pool is empty, estimate the lptokens by just summing the input instead of calling contract\n        depositLPTokenAmount = tokenInputSum\n      }\n      setEstDepositLPTokenAmount(depositLPTokenAmount)\n\n      setPriceImpact(\n        calculatePriceImpact(\n          tokenInputSum,\n          depositLPTokenAmount,\n          poolData.virtualPrice,\n        ),\n      )\n    }\n    void calculateMaxDeposits()\n  }, [\n    poolData,\n    tokenFormState,\n    poolContract,\n    userShareData,\n    account,\n    POOL.poolTokens,\n    POOL.underlyingPoolTokens,\n    metaSwapContract,\n    shouldDepositWrapped,\n    allTokens,\n    exceedsWallet,\n  ])\n\n  // A represention of tokens used for UI\n  const tokens = (shouldDepositWrapped\n    ? POOL.underlyingPoolTokens || []\n    : POOL.poolTokens\n  ).map(({ symbol, name, icon, decimals }) => ({\n    symbol,\n    name,\n    icon,\n    max: formatBNToString(tokenBalances?.[symbol] || Zero, decimals),\n    inputValue: tokenFormState[symbol].valueRaw,\n  }))\n\n  async function onConfirmTransaction(): Promise<ContractReceipt | void> {\n    const receipt = await approveAndDeposit(\n      tokenFormState,\n      shouldDepositWrapped,\n    )\n    // Clear input after deposit\n    updateTokenFormState(\n      allTokens.reduce(\n        (acc, t) => ({\n          ...acc,\n          [t.symbol]: \"\",\n        }),\n        {},\n      ),\n    )\n\n    return receipt\n  }\n  function updateTokenFormValue(symbol: string, value: string): void {\n    updateTokenFormState({ [symbol]: value })\n  }\n\n  const depositTransaction = buildTransactionData(\n    tokenFormState,\n    poolData,\n    shouldDepositWrapped ? POOL.underlyingPoolTokens || [] : POOL.poolTokens,\n    POOL.lpToken,\n    priceImpact,\n    estDepositLPTokenAmount,\n    gasPrice,\n    newTokenPricesUSD,\n  )\n\n  const validDepositAmount =\n    depositTransaction.to.totalAmount.gt(0) && !exceedsWallet\n  const shouldDisplayWrappedOption = isMetaPool(poolData?.name)\n\n  return (\n    <Box>\n      <Modal isOpen={isOpen} onClose={(): void => setIsOpen(false)}>\n        <ReviewDeposit\n          transactionData={depositTransaction}\n          onClose={(): void => setIsOpen(false)}\n          onConfirm={async () => {\n            setIsOpen(false)\n            logEvent(\"deposit\", (poolData && { pool: poolData?.name }) || {})\n            handlePreSubmit?.(TransactionType.DEPOSIT)\n            try {\n              const receipt = (await onConfirmTransaction?.()) as ContractReceipt\n              handlePostSubmit?.(receipt, TransactionType.DEPOSIT)\n            } catch (e) {\n              const error = e as { code: number; message: string }\n              handlePostSubmit?.(null, TransactionType.DEPOSIT, {\n                code: error.code,\n                message: error.message,\n              })\n            }\n          }}\n        />\n      </Modal>\n      <div className=\"form\">\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            alignItems: \"baseline\",\n          }}\n        >\n          <h3>{t(\"addLiquidity\")}</h3>\n          <IconButtonPopover\n            IconButtonProps={{\n              \"aria-label\": \"Configure Settings\",\n              variant: \"outline\",\n              size: \"lg\",\n              icon: <BsSliders size=\"25px\" />,\n              title: \"Configure Settings\",\n            }}\n            PopoverBodyContent={<AdvancedOptions />}\n          />\n        </div>\n        {exceedsWallet ? (\n          <div className=\"error\">{t(\"depositBalanceExceeded\")}</div>\n        ) : null}\n        {/* disable deposit wrapped button until gas limit is raised on aurora */}\n        {/* {shouldDisplayWrappedOption && (\n          <div className=\"wrappedDeposit\">\n            <Switch\n              colorScheme=\"red\"\n              onChange={() =>\n                setShouldDepositWrapped((prevState) => !prevState)\n              }\n              isChecked={shouldDepositWrapped}\n            />\n            <span>\n              <small>{t(\"depositWrapped\")}</small>\n            </span>\n          </div>\n        )} */}\n        {tokens.map((token, index) => (\n          <div key={index}>\n            <TokenInput\n              {...token}\n              disabled={poolData?.isPaused}\n              onChange={(value): void =>\n                updateTokenFormValue(token.symbol, value)\n              }\n            />\n            {index === tokens.length - 1 ? (\n              \"\"\n            ) : (\n              <div className=\"formSpace\"></div>\n            )}\n          </div>\n        ))}\n        <div className=\"transactionInfo\">\n          <div className=\"transactionInfoItem\">\n            {depositTransaction.priceImpact.gte(0) ? (\n              <span className=\"bonus\">{`${t(\"bonus\")}: `}</span>\n            ) : (\n              <span className=\"slippage\">{t(\"priceImpact\")}</span>\n            )}\n            <span\n              className={\n                \"value \" +\n                (depositTransaction.priceImpact.gte(0) ? \"bonus\" : \"slippage\")\n              }\n            >\n              {\" \"}\n              {formatBNToPercentString(depositTransaction.priceImpact, 18, 4)}\n            </span>\n          </div>\n        </div>\n      </div>\n      {shouldDisplayWrappedOption && (\n        <div className=\"options\">\n          <p className=\"wrappedInfo\">\n            Deposit to the <a href=\"/#/pools/stables\">Stables Pool</a> to get\n            RoseStablesLP.{\" \"}\n            {poolData?.name === UST_METAPOOL_NAME && (\n              <>\n                Get atUST by bridging UST from Terra on{\" \"}\n                <a\n                  href=\"https://app.allbridge.io/bridge?from=TRA&to=AURO&asset=UST\"\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                  style={{ textDecoration: \"underline\", margin: 0 }}\n                >\n                  Allbridge.\n                </a>\n              </>\n            )}\n          </p>\n        </div>\n      )}\n      {poolData?.name === FRAX_STABLES_LP_POOL_NAME && (\n        <div className=\"options\">\n          <p className=\"wrappedInfo\">\n            This pool is outdated. Please{\" \"}\n            <a href=\"/#/pools/frax-stableslp\">\n              go here to withdraw any liquidity\n            </a>{\" \"}\n            from this pool and{\" \"}\n            <a href=\"/#/pools/frax\">use the new Frax pool instead.</a>\n          </p>\n        </div>\n      )}\n      <div className=\"options\" style={{ height: \"100%\" }}>\n        <Center width=\"100%\">\n          <Button\n            variant=\"primary\"\n            size=\"lg\"\n            width=\"100%\"\n            onClick={(): void => {\n              setIsOpen(true)\n            }}\n            disabled={!validDepositAmount || poolData?.isPaused}\n          >\n            {t(\"deposit\")}\n          </Button>\n        </Center>\n        <div className=\"approvalMessage\">\n          Note: The &quot;Approve&quot; transaction is only needed the first\n          time; subsequent actions will not require approval.\n        </div>\n      </div>\n    </Box>\n  )\n}\n\nfunction buildTransactionData(\n  tokenFormState: TokensStateType,\n  poolData: PoolDataType | null,\n  poolTokens: Token[],\n  poolLpToken: Token,\n  priceImpact: BigNumber,\n  estDepositLPTokenAmount: BigNumber,\n  gasPrice: BigNumber,\n  tokenPricesUSD?: TokenPricesUSD,\n): DepositTransaction {\n  const from = {\n    items: [] as TransactionItem[],\n    totalAmount: Zero,\n    totalValueUSD: Zero,\n  }\n  const TOTAL_AMOUNT_DECIMALS = 18\n  poolTokens.forEach((token) => {\n    const { symbol, decimals } = token\n    const amount = BigNumber.from(tokenFormState[symbol].valueSafe)\n    const usdPriceBN = parseUnits(\n      (tokenPricesUSD?.[symbol] || 0).toFixed(2),\n      18,\n    )\n    if (amount.lte(\"0\")) return\n    const item = {\n      token,\n      amount,\n      singleTokenPriceUSD: usdPriceBN,\n      valueUSD: amount.mul(usdPriceBN).div(BigNumber.from(10).pow(decimals)),\n    }\n    from.items.push(item)\n    from.totalAmount = from.totalAmount.add(\n      shiftBNDecimals(amount, TOTAL_AMOUNT_DECIMALS - decimals),\n    )\n    from.totalValueUSD = from.totalValueUSD.add(usdPriceBN)\n  })\n\n  const lpTokenPriceUSD = poolData?.lpTokenPriceUSD || Zero\n  const toTotalValueUSD = estDepositLPTokenAmount\n    .mul(lpTokenPriceUSD)\n    ?.div(BigNumber.from(10).pow(poolLpToken.decimals))\n  const to = {\n    item: {\n      token: poolLpToken,\n      amount: estDepositLPTokenAmount,\n      singleTokenPriceUSD: lpTokenPriceUSD,\n      valueUSD: toTotalValueUSD,\n    },\n    totalAmount: estDepositLPTokenAmount,\n    totalValueUSD: toTotalValueUSD,\n  }\n  const shareOfPool = poolData?.totalLocked.gt(0)\n    ? estDepositLPTokenAmount\n        .mul(BigNumber.from(10).pow(18))\n        .div(estDepositLPTokenAmount.add(poolData?.totalLocked))\n    : BigNumber.from(10).pow(18)\n  // const gasAmount = calculateGasEstimate(\"addLiquidity\").mul(gasPrice) // units of gas * GWEI/Unit of gas\n  const gasAmount = BigNumber.from(0)\n\n  const txnGasCost = {\n    amount: gasAmount,\n    valueUSD: tokenPricesUSD?.ETH\n      ? parseUnits(tokenPricesUSD.ETH.toFixed(2), 18) // USD / ETH  * 10^18\n          .mul(gasAmount) // GWEI\n          .div(BigNumber.from(10).pow(25)) // USD / ETH * GWEI * ETH / GWEI = USD\n      : null,\n  }\n\n  return {\n    from,\n    to,\n    priceImpact,\n    shareOfPool,\n    txnGasCost,\n  }\n}\n\nexport default Deposit\n","/* eslint @typescript-eslint/no-unsafe-assignment: 0 */\n/* eslint @typescript-eslint/no-unsafe-call: 0 */\n/* eslint @typescript-eslint/no-unsafe-member-access: 0 */\n/* eslint @typescript-eslint/no-unsafe-return: 0 */\n/* eslint @typescript-eslint/no-explicit-any: 0 */\nimport {\n  ChainId,\n  POOLS_MAP,\n  PoolName,\n  TRANSACTION_TYPES,\n  Token,\n} from \"../constants\"\nimport { Contract, ContractReceipt } from \"@ethersproject/contracts\"\nimport {\n  useAllContracts,\n  useLPTokenContract,\n  usePoolContract,\n} from \"./useContract\"\nimport { useDispatch, useSelector } from \"react-redux\"\n\nimport { AppState } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { Erc20 } from \"../../types/ethers-contracts/Erc20\"\nimport { GasPrices } from \"../state/user\"\nimport { NumberInputState } from \"../utils/numberInputState\"\nimport ROSE_META_POOL_DEPOSIT from \"../constants/abis/RoseMetaPoolDeposit.json\"\nimport { RoseMetaPoolDeposit } from \"../../types/ethers-contracts/RoseMetaPoolDeposit\"\nimport { Zero } from \"@ethersproject/constants\"\nimport checkAndApproveTokenForTrade from \"../utils/checkAndApproveTokenForTrade\"\nimport { getContract } from \"../utils\"\nimport { parseUnits } from \"@ethersproject/units\"\nimport { subtractSlippage } from \"../utils/slippage\"\nimport { updateLastTransactionTimes } from \"../state/application\"\nimport { useActiveWeb3React } from \".\"\nimport { useMemo } from \"react\"\n\ninterface ApproveAndDepositStateArgument {\n  [tokenSymbol: string]: NumberInputState\n}\n\nexport function useApproveAndDeposit(\n  poolName: PoolName,\n): (\n  state: ApproveAndDepositStateArgument,\n  shouldDepositWrapped?: boolean,\n) => Promise<ContractReceipt | void> {\n  const dispatch = useDispatch()\n  const poolContract = usePoolContract(poolName) as Contract\n  const lpTokenContract = useLPTokenContract(poolName)\n  const tokenContracts = useAllContracts()\n  const { account, chainId, library } = useActiveWeb3React()\n  const {\n    slippageCustom,\n    slippageSelected,\n    infiniteApproval,\n    gasPriceSelected,\n    gasCustom,\n  } = useSelector((state: AppState) => state.user)\n  const { gasStandard, gasFast, gasInstant } = useSelector(\n    (state: AppState) => state.application,\n  )\n  const POOL = POOLS_MAP[poolName]\n  const metaSwapContract = useMemo(() => {\n    if (POOL.metaSwapAddresses && chainId && library) {\n      return getContract(\n        POOL.metaSwapAddresses?.[chainId],\n        JSON.stringify(ROSE_META_POOL_DEPOSIT),\n        library,\n        account ?? undefined,\n      ) as RoseMetaPoolDeposit\n    }\n    return null\n  }, [chainId, library, POOL.metaSwapAddresses, account])\n\n  return async function approveAndDeposit(\n    state: ApproveAndDepositStateArgument,\n    shouldDepositWrapped = false,\n  ): Promise<ContractReceipt | void> {\n    try {\n      if (!account) throw new Error(\"Wallet must be connected\")\n      if (\n        !poolContract ||\n        !lpTokenContract ||\n        (shouldDepositWrapped && !metaSwapContract)\n      )\n        throw new Error(\"Swap contract is not loaded\")\n\n      const poolTokens = shouldDepositWrapped\n        ? (POOL.underlyingPoolTokens as Token[])\n        : POOL.poolTokens\n      const effectiveSwapContract = shouldDepositWrapped\n        ? (metaSwapContract as RoseMetaPoolDeposit)\n        : poolContract\n\n      let gasPrice: any\n      if (gasPriceSelected === GasPrices.Custom) {\n        gasPrice = gasCustom?.valueSafe\n      } else if (gasPriceSelected === GasPrices.Fast) {\n        gasPrice = gasFast\n      } else if (gasPriceSelected === GasPrices.Instant) {\n        gasPrice = gasInstant\n      } else {\n        gasPrice = gasStandard\n      }\n      gasPrice =\n        chainId === ChainId.AURORA_MAINNET\n          ? parseUnits(gasPrice?.toString() || \"45\", \"gwei\")\n          : Zero\n      const approveSingleToken = async (token: Token): Promise<void> => {\n        const spendingValue = BigNumber.from(state[token.symbol].valueSafe)\n        if (spendingValue.isZero()) return\n        const tokenContract = tokenContracts?.[token.symbol] as Erc20\n        if (tokenContract == null) return\n        await checkAndApproveTokenForTrade(\n          tokenContract,\n          effectiveSwapContract.address,\n          account,\n          spendingValue,\n          infiniteApproval,\n          gasPrice,\n          {\n            onTransactionError: (error) => {\n              console.error(error)\n              throw new Error(\"Your transaction could not be completed\")\n            },\n          },\n        )\n        return\n      }\n      // For each token being deposited, check the allowance and approve it if necessary\n      for (const token of poolTokens) {\n        await approveSingleToken(token)\n      }\n\n      const effectivePoolContract = effectiveSwapContract\n      const txnAmounts: BigNumber[] = poolTokens.map((poolToken) => {\n        return BigNumber.from(state[poolToken.symbol].valueSafe)\n      })\n\n      const isFirstTransaction = (await lpTokenContract.totalSupply()).isZero()\n      let minToMint: BigNumber\n      if (isFirstTransaction) {\n        minToMint = BigNumber.from(\"0\")\n      } else {\n        minToMint = await effectivePoolContract.calc_token_amount(\n          txnAmounts,\n          true, // deposit boolean\n        )\n      }\n\n      minToMint = subtractSlippage(minToMint, slippageSelected, slippageCustom)\n\n      // const swapFlashLoanContract = effectiveSwapContract as RoseStablesPool\n      const spendTransaction = await effectivePoolContract.add_liquidity(\n        txnAmounts,\n        minToMint,\n        {\n          gasPrice,\n        },\n      )\n\n      // notifyHandler(spendTransaction.hash, \"deposit\")\n\n      const receipt = await spendTransaction.wait()\n      dispatch(\n        updateLastTransactionTimes({\n          [TRANSACTION_TYPES.DEPOSIT]: Date.now(),\n        }),\n      )\n      return receipt\n    } catch (e) {\n      console.error(e)\n      // notifyCustomError(e as Error)\n    }\n  }\n}\n","import {\n  NumberInputState,\n  numberInputStateCreator,\n} from \"../utils/numberInputState\"\nimport React, { useCallback, useMemo } from \"react\"\n\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { Token } from \"../constants\"\n\nexport interface TokensStateType {\n  [token: string]: NumberInputState\n}\ntype UpdateTokensStateType = (newState: {\n  [token: string]: string | BigNumber\n}) => void\ntype UseTokenFormStateReturnType = [TokensStateType, UpdateTokensStateType]\n\nexport function useTokenFormState(\n  tokens: Token[],\n): UseTokenFormStateReturnType {\n  // Token input state handlers\n  const tokenInputStateCreators: {\n    [tokenSymbol: string]: ReturnType<typeof numberInputStateCreator>\n  } = useMemo(\n    () =>\n      tokens.reduce(\n        (acc, token) => ({\n          ...acc,\n          [token.symbol]: numberInputStateCreator(\n            token.decimals,\n            BigNumber.from(\"0\"),\n          ),\n        }),\n        {},\n      ),\n    [tokens],\n  )\n\n  // Token input values, both \"raw\" and formatted \"safe\" BigNumbers\n  const [tokenFormState, setTokenFormState] = React.useState<TokensStateType>(\n    tokens.reduce(\n      (acc, token) => ({\n        ...acc,\n        [token.symbol]: tokenInputStateCreators[token.symbol](\"\"),\n      }),\n      {},\n    ),\n  )\n\n  // function updateTokenFormValue(tokenSymbol: string, value: string): void {\n  //   setTokenFormState((prevState) => ({\n  //     ...prevState,\n  //     [tokenSymbol]: tokenInputStateCreators[tokenSymbol](value),\n  //   }))\n  // }\n  const updateTokenFormState = useCallback(\n    (newState: { [symbol: string]: string | BigNumber }) => {\n      const convertedNewState = Object.keys(newState).reduce(\n        (acc, symbol) => ({\n          ...acc,\n          [symbol]: tokenInputStateCreators[symbol](newState[symbol]),\n        }),\n        {},\n      )\n      setTokenFormState((prevState) => ({\n        ...prevState,\n        ...convertedNewState,\n      }))\n    },\n    [tokenInputStateCreators],\n  )\n\n  return [tokenFormState, updateTokenFormState]\n}\n","import \"./RadioButton.scss\"\n\nimport React, { ReactElement } from \"react\"\n\ninterface Props {\n  checked: boolean\n  onChange: () => void\n  label: string\n}\n\nexport default function RadioButton({\n  checked,\n  onChange,\n  label,\n}: Props): ReactElement {\n  return (\n    <div className=\"radio\">\n      <label className=\"radio_wrapper\">\n        <span className=\"radio_input\">\n          <input type=\"radio\" checked={checked} onChange={onChange} />\n          <span className=\"radio_control\"></span>\n        </span>\n        <span className=\"label\">{label}</span>\n      </label>\n    </div>\n  )\n}\n","import \"./ReviewWithdraw.scss\"\n\nimport React, { ReactElement, useState } from \"react\"\nimport { commify, formatBNToString } from \"../utils\"\n\nimport { AppState } from \"../state/index\"\nimport Button from \"./Button\"\nimport { GasPrices } from \"../state/user\"\nimport HighPriceImpactConfirmation from \"./HighPriceImpactConfirmation\"\nimport { ReviewWithdrawData } from \"./Withdraw\"\nimport { formatGasToString } from \"../utils/gas\"\nimport { formatSlippageToString } from \"../utils/slippage\"\nimport { isHighPriceImpact } from \"../utils/priceImpact\"\nimport { useSelector } from \"react-redux\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  onClose: () => void\n  onConfirm: () => void\n  data: ReviewWithdrawData\n  gas: GasPrices\n}\n\nfunction ReviewWithdraw({ onClose, onConfirm, data }: Props): ReactElement {\n  const { t } = useTranslation()\n  const {\n    slippageCustom,\n    slippageSelected,\n    gasPriceSelected,\n    gasCustom,\n  } = useSelector((state: AppState) => state.user)\n  const { gasStandard, gasFast, gasInstant } = useSelector(\n    (state: AppState) => state.application,\n  )\n  const [\n    hasConfirmedHighPriceImpact,\n    setHasConfirmedHighPriceImpact,\n  ] = useState(false)\n  const isHighSlippageTxn = isHighPriceImpact(data.priceImpact)\n  return (\n    <div className=\"reviewWithdraw\">\n      <h3>{t(\"youWillReceive\")}</h3>\n      <div className=\"table\">\n        <div>\n          {data.withdraw.map((token, index) => (\n            <div className=\"eachToken\" key={index}>\n              <div className=\"value\">\n                <span className=\"value\">{token.value}</span>\n              </div>\n              <div className=\"token\">\n                <img src={token.icon} alt=\"icon\" />\n                <span>{token.name}</span>\n              </div>\n            </div>\n          ))}\n        </div>\n        <div className=\"divider\"></div>\n        <div className=\"withdrawInfoItem\">\n          <span className=\"label\">{t(\"gas\")}</span>\n          <span className=\"value\">\n            {formatGasToString(\n              { gasStandard, gasFast, gasInstant },\n              gasPriceSelected,\n              gasCustom,\n            )}{\" \"}\n            GWEI\n          </span>\n        </div>\n        {data.txnGasCost?.valueUSD && (\n          <div className=\"withdrawInfoItem\">\n            <span className=\"label\">{t(\"estimatedTxCost\")}</span>\n            <span className=\"value\">\n              {`$${commify(formatBNToString(data.txnGasCost.valueUSD, 2, 2))}`}{\" \"}\n            </span>\n          </div>\n        )}\n        <div className=\"withdrawInfoItem\">\n          <span className=\"label\">{t(\"maxSlippage\")}</span>\n          <span className=\"value\">\n            {formatSlippageToString(slippageSelected, slippageCustom)}%\n          </span>\n        </div>\n        <div className=\"withdrawInfoItem\">\n          <span className=\"label\">{`${t(\"rates\")}:`}</span>\n          <div className=\"rates value\">\n            {data.rates.map((rate, index) => (\n              <span key={index}>\n                1 {rate.name} = ${rate.rate}\n              </span>\n            ))}\n          </div>\n        </div>\n      </div>\n      {isHighSlippageTxn && (\n        <div className=\"withdrawInfoItem\">\n          <HighPriceImpactConfirmation\n            checked={hasConfirmedHighPriceImpact}\n            onCheck={(): void =>\n              setHasConfirmedHighPriceImpact((prevState) => !prevState)\n            }\n          />\n        </div>\n      )}\n      <div className=\"bottom\">\n        <p>{t(\"estimatedOutput\")}</p>\n        <div className=\"buttonWrapper\">\n          <Button\n            onClick={onConfirm}\n            kind=\"primary\"\n            disabled={isHighSlippageTxn && !hasConfirmedHighPriceImpact}\n          >\n            {t(\"confirmWithdraw\")}\n          </Button>\n          <Button onClick={onClose} kind=\"cancel\">\n            {t(\"cancel\")}\n          </Button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ReviewWithdraw\n","import { BigNumber } from \"@ethersproject/bignumber\"\nimport { SWAP_CONTRACT_GAS_ESTIMATES_MAP } from \"../constants/index\"\n\nexport function calculateGasEstimate(\n  methodName: keyof typeof SWAP_CONTRACT_GAS_ESTIMATES_MAP,\n): BigNumber {\n  return SWAP_CONTRACT_GAS_ESTIMATES_MAP[methodName]\n}\n","/* eslint-disable */\nimport {\n  NumberInputState,\n  numberInputStateCreator,\n} from \"../utils/numberInputState\"\nimport { POOLS_MAP, PoolName } from \"../constants\"\nimport { useCallback, useMemo, useState } from \"react\"\n\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { Contract } from \"@ethersproject/contracts\"\nimport { debounce } from \"lodash\"\nimport { parseUnits } from \"@ethersproject/units\"\nimport { useActiveWeb3React } from \".\"\nimport { usePoolContract } from \"../hooks/useContract\"\nimport usePoolData from \"../hooks/usePoolData\"\n\ninterface ErrorState {\n  field: string\n  message: string\n}\nconst IMBALANCE = \"IMBALANCE\"\nconst ALL = \"ALL\"\n\ninterface TokenInputs {\n  [symbol: string]: NumberInputState\n}\nexport interface WithdrawFormState {\n  percentage: string | null\n  withdrawType: string\n  tokenInputs: TokenInputs\n  lpTokenAmountToSpend: BigNumber\n  error: ErrorState | null\n}\ntype FormFields = Exclude<keyof WithdrawFormState, \"error\">\nexport type WithdrawFormAction = {\n  fieldName: FormFields | \"reset\"\n  tokenSymbol?: string\n  value: string\n}\n\nexport default function useWithdrawFormState(\n  poolName: PoolName,\n): [WithdrawFormState, (action: WithdrawFormAction) => void] {\n  const POOL = POOLS_MAP[poolName]\n  const poolContract = usePoolContract(poolName) as Contract\n  const [, userShareData] = usePoolData(poolName)\n  const { account } = useActiveWeb3React()\n  const tokenInputStateCreators: {\n    [tokenSymbol: string]: ReturnType<typeof numberInputStateCreator>\n  } = useMemo(\n    () =>\n      POOL.poolTokens.reduce(\n        (acc, { symbol, decimals }) => ({\n          ...acc,\n          [symbol]: numberInputStateCreator(decimals, BigNumber.from(\"0\")),\n        }),\n        {},\n      ),\n    [POOL.poolTokens],\n  )\n  const tokenInputsEmptyState = useMemo(\n    () =>\n      POOL.poolTokens.reduce(\n        (acc, { symbol }) => ({\n          ...acc,\n          [symbol]: tokenInputStateCreators[symbol](\"0\"),\n        }),\n        {},\n      ),\n    [POOL.poolTokens, tokenInputStateCreators],\n  )\n  const formEmptyState = useMemo(\n    () => ({\n      percentage: \"\",\n      tokenInputs: tokenInputsEmptyState,\n      withdrawType: ALL,\n      error: null,\n      lpTokenAmountToSpend: BigNumber.from(\"0\"),\n    }),\n    [tokenInputsEmptyState],\n  )\n  const [formState, setFormState] = useState<WithdrawFormState>(formEmptyState)\n\n  // TODO: resolve this, it's a little unsafe\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const calculateAndUpdateDynamicFields = useCallback(\n    debounce(async (state: WithdrawFormState) => {\n      if (userShareData == null || poolContract == null || account == null)\n        return\n\n      let percentageRaw\n      if (state.percentage === \"\") {\n        percentageRaw = \"0\"\n      } else if (state.percentage === null) {\n        percentageRaw = \"100\"\n      } else {\n        percentageRaw = state.percentage\n      }\n\n      // LP * % to be withdrawn\n      const effectiveUserLPTokenBalance = userShareData.lpTokenBalance\n        .mul(parseUnits(percentageRaw, 5)) // difference between numerator and denominator because we're going from 100 to 1.00\n        .div(10 ** 7)\n\n      const txnAmounts: string[] = POOL.poolTokens.map((poolToken) => {\n        return state.tokenInputs[poolToken.symbol].valueSafe\n      })\n\n      // Use state.withdrawType to figure out which swap functions to use to calcuate next state\n      let nextState: WithdrawFormState | Record<string, unknown>\n      if (state.withdrawType === IMBALANCE) {\n        try {\n          const inputCalculatedLPTokenAmount = await poolContract.calc_token_amount(\n            txnAmounts,\n            false,\n          )\n          nextState = inputCalculatedLPTokenAmount.gt(\n            effectiveUserLPTokenBalance,\n          )\n            ? {\n                error: {\n                  field: \"tokenInputs\",\n                  message: \"Insufficient balance.\",\n                },\n                lpTokenAmountToSpend: BigNumber.from(\"0\"),\n              }\n            : {\n                error: null,\n                lpTokenAmountToSpend: inputCalculatedLPTokenAmount,\n              }\n        } catch (e) {\n          console.error(e)\n          // calculateTokenAmount errors if amount exceeds amount in pool\n          nextState = {\n            error: {\n              field: \"tokenInputs\",\n              message: \"Insufficient balance in pool.\",\n            },\n            lpTokenAmountToSpend: BigNumber.from(\"0\"),\n          }\n        }\n        // } else if (state.withdrawType === ALL) {\n        //   try {\n        //     const tokenAmounts = await (poolContract as RoseStablesPool).calculateRemoveLiquidity(\n        //       effectiveUserLPTokenBalance,\n        //     )\n        //     nextState = {\n        //       lpTokenAmountToSpend: effectiveUserLPTokenBalance,\n        //       tokenInputs: POOL.poolTokens.reduce(\n        //         (acc, { symbol }, i) => ({\n        //           ...acc,\n        //           [symbol]: tokenInputStateCreators[symbol](tokenAmounts[i]),\n        //         }),\n        //         {},\n        //       ),\n        //       error: null,\n        //     }\n        //   } catch {\n        //     nextState = {\n        //       error: {\n        //         field: \"tokenInputs\",\n        //         message: \"Insufficient balance in pool.\",\n        //       },\n        //     }\n        //   }\n      } else {\n        try {\n          if (state.withdrawType !== ALL && state.percentage) {\n            const tokenIndex = POOL.poolTokens.findIndex(\n              ({ symbol }) => symbol === state.withdrawType,\n            )\n            const tokenAmount = await poolContract.calc_withdraw_one_coin(\n              effectiveUserLPTokenBalance, // lp token to be burnt\n              tokenIndex,\n            ) // actual coin amount to be returned\n            nextState = {\n              lpTokenAmountToSpend: effectiveUserLPTokenBalance,\n              tokenInputs: POOL.poolTokens.reduce(\n                (acc, { symbol }, i) => ({\n                  ...acc,\n                  [symbol]: tokenInputStateCreators[symbol](\n                    i === tokenIndex ? tokenAmount : \"0\",\n                  ),\n                }),\n                {},\n              ),\n              error: null,\n            }\n          } else {\n            // This branch addresses a user manually inputting a value for one token\n            const inputCalculatedLPTokenAmount = await poolContract.calc_token_amount(\n              txnAmounts,\n              false,\n            )\n            nextState = inputCalculatedLPTokenAmount.gt(\n              effectiveUserLPTokenBalance,\n            )\n              ? {\n                  error: {\n                    field: \"tokenInputs\",\n                    message: \"Insufficient balance.\",\n                  },\n                  lpTokenAmountToSpend: BigNumber.from(\"0\"),\n                }\n              : {\n                  lpTokenAmountToSpend: inputCalculatedLPTokenAmount,\n                  error: null,\n                }\n          }\n        } catch {\n          nextState = {\n            error: {\n              field: \"tokenInputs\",\n              message: \"Insufficient balance in pool.\",\n            },\n          }\n        }\n      }\n      setFormState((prevState) => ({\n        ...prevState,\n        ...nextState,\n      }))\n    }, 250),\n    [userShareData, poolContract, POOL.poolTokens, tokenInputStateCreators],\n  )\n\n  const handleUpdateForm = useCallback(\n    (action: WithdrawFormAction): void => {\n      // update the form with user input immediately\n      // then call expensive debounced fn to update other fields\n      setFormState((prevState) => {\n        let nextState: WithdrawFormState | Record<string, unknown> = {}\n        if (action.fieldName === \"tokenInputs\") {\n          const {\n            tokenSymbol: tokenSymbolInput = \"\",\n            value: valueInput,\n          } = action\n          const newTokenInputs = {\n            ...prevState.tokenInputs,\n            [tokenSymbolInput]: tokenInputStateCreators[tokenSymbolInput](\n              valueInput,\n            ),\n          }\n          const activeInputTokens = POOL.poolTokens.filter(\n            ({ symbol }) => +newTokenInputs[symbol].valueRaw !== 0,\n          )\n          let withdrawType\n          if (activeInputTokens.length === 0) {\n            withdrawType = ALL\n          } else if (activeInputTokens.length === 1) {\n            withdrawType = activeInputTokens[0].symbol\n          } else {\n            withdrawType = IMBALANCE\n          }\n          nextState = {\n            withdrawType,\n            lpTokenAmountToSpend: BigNumber.from(\"0\"),\n            percentage: null,\n            tokenInputs: newTokenInputs,\n            error: null,\n          }\n        } else if (action.fieldName === \"percentage\") {\n          const isInputInvalid =\n            isNaN(+action.value) || +action.value < 0 || +action.value > 100\n          nextState = isInputInvalid\n            ? {\n                percentage: action.value,\n                lpTokenAmountToSpend: BigNumber.from(\"0\"),\n                error: { field: \"percentage\", message: \"Invalid input\" },\n                tokenInputs: tokenInputsEmptyState,\n              }\n            : {\n                withdrawType:\n                  prevState.withdrawType === IMBALANCE\n                    ? ALL\n                    : prevState.withdrawType,\n                percentage: action.value,\n                error: null,\n              }\n        } else if (action.fieldName === \"withdrawType\") {\n          nextState = {\n            tokenInputs: tokenInputsEmptyState,\n            percentage: prevState.percentage || \"100\",\n            withdrawType: action.value,\n            error: null,\n          }\n        } else if (action.fieldName === \"reset\") {\n          nextState = formEmptyState\n        }\n        const finalState = {\n          ...prevState,\n          ...nextState,\n        }\n        const pendingTokenInput =\n          action.fieldName === \"tokenInputs\" &&\n          POOL.poolTokens.every(({ symbol }) => {\n            const stateValue = finalState.tokenInputs[symbol].valueRaw\n            return isNaN(+stateValue) || +stateValue === 0\n          })\n        if (!finalState.error && !pendingTokenInput) {\n          void calculateAndUpdateDynamicFields(finalState)\n        }\n        return finalState\n      })\n    },\n    [\n      POOL.poolTokens,\n      calculateAndUpdateDynamicFields,\n      tokenInputStateCreators,\n      tokenInputsEmptyState,\n      formEmptyState,\n    ],\n  )\n\n  return [formState, handleUpdateForm]\n}\n","/* eslint @typescript-eslint/no-unsafe-assignment: 0 */\n/* eslint @typescript-eslint/no-unsafe-call: 0 */\n/* eslint @typescript-eslint/no-explicit-any: 0 */\nimport \"./WithdrawPage.scss\"\nimport {\n  Box,\n  Button,\n  Center,\n  SlideFade,\n  Slider,\n  SliderFilledTrack,\n  SliderMark,\n  SliderThumb,\n  SliderTrack,\n  Tab,\n  TabList,\n  TabPanel,\n  TabPanels,\n  Tabs,\n  Tooltip,\n} from \"@chakra-ui/react\"\nimport { Contract, ContractReceipt } from \"@ethersproject/contracts\"\nimport { FRAX_STABLES_LP_POOL_NAME, POOLS_MAP, PoolName } from \"../constants\"\nimport React, { ReactElement, useEffect, useState } from \"react\"\nimport { commify, formatUnits, parseUnits } from \"@ethersproject/units\"\nimport { formatBNToPercentString, formatBNToString } from \"../utils\"\nimport AdvancedOptions from \"./AdvancedOptions\"\nimport { AppState } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { BsSliders } from \"react-icons/bs\"\nimport { IconButtonPopover } from \"./Popover\"\nimport Modal from \"./Modal\"\nimport RadioButton from \"./RadioButton\"\nimport ReviewWithdraw from \"./ReviewWithdraw\"\nimport TokenInput from \"./TokenInput\"\nimport { TransactionType } from \"../hooks/useChakraToast\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { calculateGasEstimate } from \"../utils/gasEstimate\"\nimport { calculatePriceImpact } from \"../utils/priceImpact\"\nimport { ethers } from \"ethers\"\nimport { formatGasToString } from \"../utils/gas\"\nimport { formatSlippageToString } from \"../utils/slippage\"\nimport { logEvent } from \"../utils/googleAnalytics\"\nimport { useActiveWeb3React } from \"../hooks\"\nimport { useApproveAndWithdraw } from \"../hooks/useApproveAndWithdraw\"\nimport { usePoolContract } from \"../hooks/useContract\"\nimport usePoolData from \"../hooks/usePoolData\"\nimport { useSelector } from \"react-redux\"\nimport { useTranslation } from \"react-i18next\"\nimport useWithdrawFormState from \"../hooks/useWithdrawFormState\"\n\nexport interface ReviewWithdrawData {\n  withdraw: {\n    name: string\n    value: string\n    icon: string\n  }[]\n  rates: {\n    name: string\n    value: string\n    rate: string\n  }[]\n  slippage: string\n  priceImpact: BigNumber\n  txnGasCost: {\n    amount: BigNumber\n    valueUSD: BigNumber | null // amount * ethPriceUSD\n  }\n}\ninterface Props {\n  poolName: PoolName\n  handlePreSubmit?: (txnType: TransactionType) => void\n  handlePostSubmit?: (\n    receipt: ContractReceipt | null,\n    transactionType: TransactionType,\n    error?: { code: number; message: string },\n  ) => void\n}\n\nfunction Withdraw({\n  poolName,\n  handlePreSubmit,\n  handlePostSubmit,\n}: Props): ReactElement {\n  const { t } = useTranslation()\n  const [poolData, userShareData] = usePoolData(poolName)\n  const [withdrawFormState, updateWithdrawFormState] = useWithdrawFormState(\n    poolName,\n  )\n  const {\n    slippageCustom,\n    slippageSelected,\n    gasPriceSelected,\n    gasCustom,\n  } = useSelector((state: AppState) => state.user)\n  const { tokenPricesUSD, gasStandard, gasFast, gasInstant } = useSelector(\n    (state: AppState) => state.application,\n  )\n  const approveAndWithdraw = useApproveAndWithdraw(poolName)\n  const poolContract = usePoolContract(poolName) as Contract\n  const { account } = useActiveWeb3React()\n  const [sliderValue, setSliderValue] = useState(100)\n  const [showTooltip, setShowTooltip] = useState(false)\n  const [isOpen, setIsOpen] = useState(false)\n  const [isModalOpen, setIsModalOpen] = useState(false)\n  const [estWithdrawBonus, setEstWithdrawBonus] = useState(Zero)\n\n  const POOL = POOLS_MAP[poolName]\n\n  useEffect(() => {\n    // evaluate if a new withdraw will exceed the pool's per-user limit\n    async function calculateWithdrawBonus(): Promise<void> {\n      try {\n        if (\n          poolContract == null ||\n          userShareData == null ||\n          poolData == null ||\n          account == null\n        ) {\n          return\n        }\n        const tokenInputSum = parseUnits(\n          POOL.poolTokens\n            .reduce(\n              (sum, { symbol }) =>\n                sum + (+withdrawFormState.tokenInputs[symbol].valueRaw || 0),\n              0,\n            )\n            .toString(),\n          18,\n        )\n        let withdrawLPTokenAmount\n        if (poolData.totalLocked.gt(0) && tokenInputSum.gt(0)) {\n          const txnAmounts: string[] = POOL.poolTokens.map((poolToken) => {\n            return withdrawFormState.tokenInputs[poolToken.symbol].valueSafe\n          })\n          withdrawLPTokenAmount = await poolContract.calc_token_amount(\n            txnAmounts,\n            false,\n          )\n        } else {\n          // when pool is empty, estimate the lptokens by just summing the input instead of calling contract\n          withdrawLPTokenAmount = tokenInputSum\n        }\n        setEstWithdrawBonus(\n          calculatePriceImpact(\n            withdrawLPTokenAmount,\n            tokenInputSum,\n            poolData.virtualPrice,\n            true,\n          ),\n        )\n      } catch {\n        // pass here for now - fix later with hook\n      }\n    }\n    void calculateWithdrawBonus()\n  }, [\n    poolData,\n    withdrawFormState,\n    poolContract,\n    userShareData,\n    account,\n    POOL.poolTokens,\n  ])\n  async function onConfirmTransaction(): Promise<ContractReceipt | void> {\n    const {\n      withdrawType,\n      tokenInputs,\n      lpTokenAmountToSpend,\n    } = withdrawFormState\n    const receipt = await approveAndWithdraw({\n      tokenFormState: tokenInputs,\n      withdrawType,\n      lpTokenAmountToSpend,\n    })\n    updateWithdrawFormState({ fieldName: \"reset\", value: \"reset\" })\n\n    return receipt\n  }\n\n  const tokensData = React.useMemo(\n    () =>\n      POOL.poolTokens.map(({ name, symbol, icon, decimals }) => ({\n        name,\n        symbol,\n        icon,\n        inputValue: withdrawFormState.tokenInputs[symbol].valueRaw,\n        // TO-DO: all decimals have been casted to 18 - we need to change that\n        // to generic behavior so we don't have to cast back\n        max: formatBNToString(\n          userShareData?.tokens\n            .find((shareToken) => shareToken.symbol === symbol)\n            ?.value.div(BigNumber.from(10).pow(18 - decimals)) || Zero,\n          decimals,\n        ),\n      })),\n    [withdrawFormState, POOL.poolTokens, userShareData?.tokens],\n  )\n  // const gasPrice = Zero\n  const gasPrice = ethers.utils.parseUnits(\n    formatGasToString(\n      { gasStandard, gasFast, gasInstant },\n      gasPriceSelected,\n      gasCustom,\n    ),\n    \"gwei\",\n  )\n  const gasAmount = calculateGasEstimate(\"removeLiquidityImbalance\").mul(\n    gasPrice,\n  ) // units of gas * GWEI/Unit of gas\n\n  const txnGasCost = {\n    amount: gasAmount,\n    valueUSD: tokenPricesUSD?.ETH\n      ? parseUnits(tokenPricesUSD.ETH.toFixed(2), 18) // USD / ETH  * 10^18\n          .mul(gasAmount) // GWEI\n          .div(BigNumber.from(10).pow(25)) // USD / ETH * GWEI * ETH / GWEI = USD\n      : null,\n  }\n\n  const reviewWithdrawData: ReviewWithdrawData = {\n    withdraw: [],\n    rates: [],\n    slippage: formatSlippageToString(slippageSelected, slippageCustom),\n    priceImpact: estWithdrawBonus,\n    txnGasCost: txnGasCost,\n  }\n\n  POOL.poolTokens.forEach(({ name, decimals, icon, symbol }) => {\n    if (BigNumber.from(withdrawFormState.tokenInputs[symbol].valueSafe).gt(0)) {\n      reviewWithdrawData.withdraw.push({\n        name,\n        value: commify(\n          formatUnits(\n            withdrawFormState.tokenInputs[symbol].valueSafe,\n            decimals,\n          ),\n        ),\n        icon,\n      })\n      if (tokenPricesUSD != null) {\n        reviewWithdrawData.rates.push({\n          name,\n          value: formatUnits(\n            withdrawFormState.tokenInputs[symbol].valueSafe,\n            decimals,\n          ),\n          rate: commify(tokenPricesUSD[symbol]?.toFixed(2)),\n        })\n      }\n    }\n  })\n\n  const noShare = !userShareData || userShareData.lpTokenBalance.eq(Zero)\n\n  return (\n    <Box>\n      <Modal isOpen={isModalOpen} onClose={(): void => setIsModalOpen(false)}>\n        <ReviewWithdraw\n          data={reviewWithdrawData}\n          onClose={(): void => setIsModalOpen(false)}\n          gas={gasPriceSelected}\n          onConfirm={async () => {\n            setIsModalOpen(false)\n            logEvent(\"withdraw\", (poolData && { pool: poolData?.name }) || {})\n            handlePreSubmit?.(TransactionType.WITHDRAW)\n            try {\n              const receipt = (await onConfirmTransaction?.()) as ContractReceipt\n              handlePostSubmit?.(receipt, TransactionType.WITHDRAW)\n            } catch (e) {\n              const error = e as { code: number; message: string }\n              handlePostSubmit?.(null, TransactionType.WITHDRAW, {\n                code: error.code,\n                message: error.message,\n              })\n            }\n          }}\n        />\n      </Modal>\n      <div className=\"form\">\n        <Tabs\n          isFitted\n          variant=\"primary\"\n          onChange={() => {\n            updateWithdrawFormState({ fieldName: \"reset\", value: \"reset\" })\n            setIsOpen(false)\n          }}\n        >\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              alignItems: \"baseline\",\n            }}\n          >\n            <h3>{t(\"withdraw\")}</h3>\n            <IconButtonPopover\n              IconButtonProps={{\n                \"aria-label\": \"Configure Settings\",\n                variant: \"outline\",\n                size: \"lg\",\n                icon: <BsSliders size=\"25px\" />,\n                title: \"Configure Settings\",\n              }}\n              PopoverBodyContent={<AdvancedOptions />}\n            />\n          </div>\n          <TabList>\n            <Tab>Single Token</Tab>\n            <Tab>Multi Token</Tab>\n          </TabList>\n          <TabPanels>\n            <TabPanel>\n              {poolData?.name === FRAX_STABLES_LP_POOL_NAME && (\n                <p className=\"outdatedInfo\">\n                  This pool is outdated. Please withdraw your liquidity and{\" \"}\n                  <a href=\"/#/pools/frax\">migrate to the new Frax pool.</a>\n                </p>\n              )}\n              <div className=\"horizontalDisplay\">\n                <span>Select a token: </span>\n                <div>\n                  {tokensData.map((t) => {\n                    return (\n                      <RadioButton\n                        key={t.symbol}\n                        checked={withdrawFormState.withdrawType === t.symbol}\n                        onChange={(): void => {\n                          updateWithdrawFormState({\n                            fieldName: \"withdrawType\",\n                            value: t.symbol,\n                          })\n                          setIsOpen(true)\n                        }}\n                        label={t.name}\n                      />\n                    )\n                  })}\n                </div>\n              </div>\n              <span>\n                <small>% of share to withdraw:</small>\n              </span>\n              <div className=\"percentage\">\n                <Slider\n                  id=\"slider\"\n                  defaultValue={100}\n                  min={0}\n                  max={100}\n                  mt=\"1\"\n                  onChange={(v) => {\n                    setSliderValue(v)\n                    updateWithdrawFormState({\n                      fieldName: \"percentage\",\n                      value: String(v),\n                    })\n                  }}\n                  onMouseEnter={() => setShowTooltip(true)}\n                  onMouseLeave={() => setShowTooltip(false)}\n                >\n                  <SliderMark value={0} mt=\"1\" ml=\"-2.5\" fontSize=\"sm\">\n                    0%\n                  </SliderMark>\n                  <SliderMark value={50} mt=\"1\" ml=\"-2.5\" fontSize=\"sm\">\n                    50%\n                  </SliderMark>\n                  <SliderMark value={100} mt=\"1\" ml=\"-2.5\" fontSize=\"sm\">\n                    100%\n                  </SliderMark>\n                  <SliderTrack>\n                    <SliderFilledTrack bg=\"#cc3a59\" />\n                  </SliderTrack>\n                  <Tooltip\n                    hasArrow\n                    bg=\"#cc3a59\"\n                    color=\"white\"\n                    placement=\"top\"\n                    isOpen={showTooltip}\n                    label={`${sliderValue}%`}\n                  >\n                    <SliderThumb />\n                  </Tooltip>\n                </Slider>\n              </div>\n              {withdrawFormState.error ? (\n                <div className=\"error\">{withdrawFormState.error.message}</div>\n              ) : null}\n              <SlideFade in={isOpen} hidden={!isOpen} offsetY=\"-30px\">\n                <Box mt=\"50px\">\n                  {tokensData.map((token, index) => (\n                    <div key={index}>\n                      <TokenInput\n                        {...token}\n                        max={undefined}\n                        readonly={true}\n                        // inputValue={parseFloat(token.inputValue).toFixed(5)}\n                        onChange={(value): void =>\n                          updateWithdrawFormState({\n                            fieldName: \"tokenInputs\",\n                            value: value,\n                            tokenSymbol: token.symbol,\n                          })\n                        }\n                      />\n                      {index === tokensData.length - 1 ? (\n                        \"\"\n                      ) : (\n                        <div\n                          className=\"formSpace\"\n                          style={{ marginBottom: \"10px\" }}\n                        ></div>\n                      )}\n                    </div>\n                  ))}\n                </Box>\n                <div className={\"transactionInfoContainer\"}>\n                  <div className=\"transactionInfo\">\n                    <div className=\"transactionInfoItem\">\n                      {reviewWithdrawData.priceImpact.gte(0) ? (\n                        <span className=\"bonus\">{t(\"bonus\")}: </span>\n                      ) : (\n                        <span className=\"slippage\">{t(\"priceImpact\")}</span>\n                      )}\n                      <span\n                        className={\n                          \"value \" +\n                          (reviewWithdrawData.priceImpact.gte(0)\n                            ? \"bonus\"\n                            : \"slippage\")\n                        }\n                      >\n                        {\" \"}\n                        {formatBNToPercentString(\n                          reviewWithdrawData.priceImpact,\n                          18,\n                          4,\n                        )}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </SlideFade>\n            </TabPanel>\n            <TabPanel>\n              {poolData?.name === FRAX_STABLES_LP_POOL_NAME && (\n                <p className=\"outdatedInfo\">\n                  This pool is outdated. Please withdraw your liquidity and{\" \"}\n                  <a href=\"/#/pools/frax\">migrate to the new Frax pool.</a>\n                </p>\n              )}\n              <p className=\"instructions\">\n                Type in below the amounts of each token you want to withdraw.\n              </p>\n              {withdrawFormState.error ? (\n                <div className=\"error\">{withdrawFormState.error.message}</div>\n              ) : null}\n              {tokensData.map((token, index) => (\n                <div key={index}>\n                  <TokenInput\n                    {...token}\n                    // inputValue={parseFloat(token.inputValue).toFixed(5)}\n                    onChange={(value): void =>\n                      updateWithdrawFormState({\n                        fieldName: \"tokenInputs\",\n                        value: value,\n                        tokenSymbol: token.symbol,\n                      })\n                    }\n                  />\n                  {index === tokensData.length - 1 ? (\n                    \"\"\n                  ) : (\n                    <div className=\"formSpace\"></div>\n                  )}\n                </div>\n              ))}\n              <div className={\"transactionInfoContainer\"}>\n                <div className=\"transactionInfo\">\n                  <div className=\"transactionInfoItem\">\n                    {reviewWithdrawData.priceImpact.gte(0) ? (\n                      <span className=\"bonus\">{t(\"bonus\")}: </span>\n                    ) : (\n                      <span className=\"slippage\">{t(\"priceImpact\")}</span>\n                    )}\n                    <span\n                      className={\n                        \"value \" +\n                        (reviewWithdrawData.priceImpact.gte(0)\n                          ? \"bonus\"\n                          : \"slippage\")\n                      }\n                    >\n                      {\" \"}\n                      {formatBNToPercentString(\n                        reviewWithdrawData.priceImpact,\n                        18,\n                        4,\n                      )}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </TabPanel>\n          </TabPanels>\n        </Tabs>\n      </div>\n      <div className=\"options\" style={{ height: \"100%\" }}>\n        <Center width=\"100%\">\n          <Button\n            variant=\"primary\"\n            size=\"lg\"\n            width=\"100%\"\n            disabled={\n              noShare ||\n              !!withdrawFormState.error ||\n              withdrawFormState.lpTokenAmountToSpend.isZero()\n            }\n            onClick={(): void => {\n              setIsModalOpen(true)\n            }}\n          >\n            {t(\"withdraw\")}\n          </Button>\n        </Center>\n        <div className=\"approvalMessage\">\n          Note: The &quot;Approve&quot; transaction is only needed the first\n          time; subsequent actions will not require approval.\n        </div>\n      </div>\n    </Box>\n  )\n}\n\nexport default Withdraw\n","/* eslint @typescript-eslint/no-explicit-any: 0 */\n/* eslint @typescript-eslint/no-unsafe-assignment: 0 */\n/* eslint @typescript-eslint/no-unsafe-call: 0 */\n/* eslint @typescript-eslint/no-unsafe-member-access: 0 */\n/* eslint @typescript-eslint/no-unsafe-return: 0 */\nimport { ChainId, POOLS_MAP, PoolName, TRANSACTION_TYPES } from \"../constants\"\nimport { Contract, ContractReceipt } from \"@ethersproject/contracts\"\nimport { addSlippage, subtractSlippage } from \"../utils/slippage\"\nimport { formatUnits, parseUnits } from \"@ethersproject/units\"\nimport { useLPTokenContract, usePoolContract } from \"./useContract\"\nimport { AppState } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { GasPrices } from \"../state/user\"\nimport { NumberInputState } from \"../utils/numberInputState\"\nimport { Zero } from \"@ethersproject/constants\"\nimport checkAndApproveTokenForTrade from \"../utils/checkAndApproveTokenForTrade\"\nimport { updateLastTransactionTimes } from \"../state/application\"\nimport { useActiveWeb3React } from \".\"\nimport { useDispatch } from \"react-redux\"\nimport { useSelector } from \"react-redux\"\n\ninterface ApproveAndWithdrawStateArgument {\n  tokenFormState: { [symbol: string]: NumberInputState }\n  withdrawType: string\n  lpTokenAmountToSpend: BigNumber\n}\n\nexport function useApproveAndWithdraw(\n  poolName: PoolName,\n): (state: ApproveAndWithdrawStateArgument) => Promise<ContractReceipt | void> {\n  const dispatch = useDispatch()\n  const poolContract = usePoolContract(poolName) as Contract\n  const { account, chainId } = useActiveWeb3React()\n  const { gasStandard, gasFast, gasInstant } = useSelector(\n    (state: AppState) => state.application,\n  )\n  const {\n    slippageCustom,\n    slippageSelected,\n    gasPriceSelected,\n    gasCustom,\n    infiniteApproval,\n  } = useSelector((state: AppState) => state.user)\n  const lpTokenContract = useLPTokenContract(poolName)\n  const POOL = POOLS_MAP[poolName]\n\n  return async function approveAndWithdraw(\n    state: ApproveAndWithdrawStateArgument,\n  ): Promise<ContractReceipt | void> {\n    try {\n      if (!account) throw new Error(\"Wallet must be connected\")\n      if (!poolContract) throw new Error(\"Swap contract is not loaded\")\n      if (state.lpTokenAmountToSpend.isZero()) return\n      if (lpTokenContract == null) return\n      // const gasPrice = Zero\n      let gasPrice\n      if (gasPriceSelected === GasPrices.Custom && gasCustom?.valueSafe) {\n        gasPrice = gasCustom.valueSafe\n      } else if (gasPriceSelected === GasPrices.Standard) {\n        gasPrice = gasStandard\n      } else if (gasPriceSelected === GasPrices.Instant) {\n        gasPrice = gasInstant\n      } else {\n        gasPrice = gasFast\n      }\n      gasPrice =\n        chainId === ChainId.AURORA_MAINNET\n          ? parseUnits(gasPrice?.toString() || \"45\", \"gwei\")\n          : Zero\n      const allowanceAmount =\n        state.withdrawType === \"IMBALANCE\"\n          ? addSlippage(\n              state.lpTokenAmountToSpend,\n              slippageSelected,\n              slippageCustom,\n            )\n          : state.lpTokenAmountToSpend\n      await checkAndApproveTokenForTrade(\n        lpTokenContract,\n        poolContract.address,\n        account,\n        allowanceAmount,\n        infiniteApproval,\n        gasPrice,\n        {\n          onTransactionError: () => {\n            throw new Error(\"Your transaction could not be completed\")\n          },\n        },\n      )\n\n      console.debug(\n        `lpTokenAmountToSpend: ${formatUnits(state.lpTokenAmountToSpend, 18)}`,\n      )\n      let spendTransaction\n      if (state.withdrawType === \"ALL\") {\n        const txnAmounts: BigNumber[] = POOL.poolTokens.map((poolToken) => {\n          return subtractSlippage(\n            BigNumber.from(state.tokenFormState[poolToken.symbol].valueSafe),\n            slippageSelected,\n            slippageCustom,\n          )\n        })\n        spendTransaction = await poolContract.remove_liquidity(\n          state.lpTokenAmountToSpend,\n          txnAmounts,\n          {\n            gasPrice,\n          },\n        )\n      } else if (state.withdrawType === \"IMBALANCE\") {\n        const txnAmounts: string[] = POOL.poolTokens.map((poolToken) => {\n          return state.tokenFormState[poolToken.symbol].valueSafe\n        })\n        spendTransaction = await poolContract.remove_liquidity_imbalance(\n          txnAmounts,\n          addSlippage(\n            state.lpTokenAmountToSpend,\n            slippageSelected,\n            slippageCustom,\n          ),\n          {\n            gasPrice,\n          },\n        )\n      } else {\n        // state.withdrawType === [TokenSymbol]\n        spendTransaction = await poolContract.remove_liquidity_one_coin(\n          state.lpTokenAmountToSpend,\n          POOL.poolTokens.findIndex(\n            ({ symbol }) => symbol === state.withdrawType,\n          ),\n          subtractSlippage(\n            BigNumber.from(\n              state.tokenFormState[state.withdrawType || \"\"].valueSafe,\n            ),\n            slippageSelected,\n            slippageCustom,\n          ),\n          {\n            gasPrice,\n          },\n        )\n      }\n\n      // notifyHandler(spendTransaction.hash, \"withdraw\")\n\n      const receipt = await spendTransaction.wait()\n      dispatch(\n        updateLastTransactionTimes({\n          [TRANSACTION_TYPES.WITHDRAW]: Date.now(),\n        }),\n      )\n      return receipt\n    } catch (e) {\n      console.error(e)\n      // notifyCustomError(e as Error)\n    }\n  }\n}\n","import {\n  POOLS_MAP,\n  POOL_FEE_PRECISION,\n  PoolName,\n  TOKENS_MAP,\n} from \"../constants\"\nimport React, { ReactElement } from \"react\"\nimport { commify, formatBNToPercentString, formatBNToString } from \"../utils\"\nimport useChakraToast, { TransactionType } from \"../hooks/useChakraToast\"\nimport BackButton from \"../components/BackButton\"\nimport BlockExplorerLink from \"../components/BlockExplorerLink\"\nimport ComponentWrapper from \"../components/wrappers/ComponentWrapper\"\nimport { ContractReceipt } from \"@ethersproject/contracts\"\nimport Deposit from \"../components/Deposit\"\nimport { FaChartPie } from \"react-icons/fa\"\nimport { Flex } from \"@chakra-ui/react\"\nimport PageWrapper from \"../components/wrappers/PageWrapper\"\nimport StakeDetails from \"../components/StakeDetails\"\nimport TabsWrapper from \"../components/wrappers/TabsWrapper\"\nimport Withdraw from \"../components/Withdraw\"\nimport { Zero } from \"@ethersproject/constants\"\nimport usePoolData from \"../hooks/usePoolData\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  poolName: PoolName\n}\n\nconst Pool = ({ poolName }: Props): ReactElement => {\n  const { t } = useTranslation()\n  const toast = useChakraToast()\n  const [poolData, userShareData] = usePoolData(poolName)\n\n  const formattedShareTokens =\n    userShareData?.tokens.map((coin) => {\n      const token = TOKENS_MAP[coin.symbol]\n      return {\n        tokenName: token.name,\n        icon: token.icon,\n        amount: commify(formatBNToString(coin.value, 18, 5)),\n      }\n    }) || []\n  const formattedPoolDataTokens =\n    poolData?.tokens.map((coin) => {\n      const token = TOKENS_MAP[coin.symbol]\n      return {\n        symbol: token.symbol,\n        name: token.name,\n        icon: token.icon,\n        percent: coin.percent,\n        value: commify(formatBNToString(coin.value, 18, 5)),\n      }\n    }) || []\n\n  const postTransaction = (\n    receipt: ContractReceipt | null,\n    transactionType: TransactionType,\n    error?: { code: number; message: string },\n  ): void => {\n    const description = receipt?.transactionHash ? (\n      <BlockExplorerLink\n        txnType={transactionType}\n        txnHash={receipt?.transactionHash}\n        status={receipt?.status ? \"Succeeded\" : \"Failed\"}\n      />\n    ) : null\n    if (receipt?.status) {\n      toast.transactionSuccess({\n        txnType: transactionType,\n        description: description,\n      })\n    } else {\n      toast.transactionFailed({\n        txnType: transactionType,\n        error,\n        description: description,\n      })\n    }\n  }\n\n  const preTransaction = (txnType: TransactionType) =>\n    toast.transactionPending({\n      txnType,\n    })\n\n  return (\n    <PageWrapper activeTab=\"pools\">\n      <ComponentWrapper\n        top={<BackButton route=\"/pools\" buttonText=\"Go back to pools\" />}\n        left={\n          <TabsWrapper\n            tabsProps={{ variant: \"primary\" }}\n            tab1={{\n              name: t(\"addLiquidity\"),\n              content: (\n                <Deposit\n                  poolName={poolName}\n                  handlePreSubmit={preTransaction}\n                  handlePostSubmit={postTransaction}\n                />\n              ),\n            }}\n            tab2={{\n              name: t(\"removeLiquidity\"),\n              content: (\n                <Withdraw\n                  poolName={poolName}\n                  handlePreSubmit={preTransaction}\n                  handlePostSubmit={postTransaction}\n                />\n              ),\n            }}\n          />\n        }\n        right={\n          <StakeDetails\n            extraStakeDetailChild={\n              <Flex justifyContent=\"space-between\" alignItems=\"center\">\n                <FaChartPie\n                  size=\"40px\"\n                  color=\"#cc3a59\"\n                  title=\"My Share of the Pool\"\n                />\n                <span style={{ fontSize: \"25px\", fontWeight: 700 }}>\n                  {formatBNToPercentString(userShareData?.share || Zero, 18, 5)}\n                </span>\n              </Flex>\n            }\n            balanceView={{\n              title: \"LP Token Balance\",\n              items: [\n                {\n                  tokenName: poolData?.lpToken ?? \"-\",\n                  icon: POOLS_MAP[poolData?.name || \"\"]?.lpToken.icon || \"-\",\n                  amount: commify(\n                    formatBNToString(\n                      userShareData?.lpTokenBalance || Zero,\n                      18,\n                      5,\n                    ),\n                  ),\n                },\n              ],\n            }}\n            stakedView={{\n              title: t(\"deposited\"),\n              items: formattedShareTokens,\n            }}\n            stats={[\n              {\n                statLabel: \"TVL\",\n                statValue: poolData?.reserve\n                  ? `$${commify(formatBNToString(poolData.reserve, 18, 2))}`\n                  : \"-\",\n                statPopOver: (\n                  <div className=\"tokenList\">\n                    {formattedPoolDataTokens.map((token, index) => (\n                      <div className=\"token\" key={index}>\n                        <div style={{ display: \"flex\", alignItems: \"center\" }}>\n                          <img alt=\"icon\" src={token.icon} />\n                          <span className=\"bold\">{`${token.symbol} ${token.percent}`}</span>\n                        </div>\n                        <span className=\"tokenValue\">{token.value}</span>\n                      </div>\n                    ))}\n                  </div>\n                ),\n              },\n              {\n                statLabel: t(\"fee\"),\n                statValue: poolData?.swapFee\n                  ? formatBNToPercentString(\n                      poolData.swapFee,\n                      POOL_FEE_PRECISION,\n                    )\n                  : \"-\",\n              },\n              {\n                statLabel: t(\"virtualPrice\"),\n                statValue: poolData?.virtualPrice\n                  ? commify(formatBNToString(poolData.virtualPrice, 18, 2))\n                  : \"-\",\n              },\n              {\n                statLabel: t(\"aParameter\"),\n                statValue: poolData?.aParameter\n                  ? commify(formatBNToString(poolData.aParameter, 0, 0))\n                  : \"-\",\n                statTooltip: t(\"aParameterTooltip\"),\n              },\n            ]}\n          />\n        }\n      />\n    </PageWrapper>\n  )\n}\n\nexport default Pool\n","import AnimatedComponentCard, { Field } from \"./ComponentCard\"\nimport React, { ReactElement, useMemo } from \"react\"\nimport { AppState } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport FormattedComponentName from \"./FormattedComponentName\"\nimport { POOL_SORT_FIELDS_TO_LABEL } from \"../constants\"\nimport { PoolSortFields } from \"../state/user\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { formatBNToShortString } from \"../utils\"\nimport { isMetaPool } from \"../constants\"\nimport { useSelector } from \"react-redux\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  poolRoute: string\n  poolName: string\n  poolIcon: string\n  balance: BigNumber\n  tvl: BigNumber\n  volume: BigNumber\n  farmDeposit: BigNumber\n}\n\nconst PoolOverview = (props: Props): ReactElement => {\n  const {\n    poolRoute,\n    poolName,\n    poolIcon,\n    balance,\n    tvl,\n    volume,\n    farmDeposit,\n  } = props\n\n  const { t } = useTranslation()\n\n  const isMetapool = isMetaPool(poolName)\n\n  const formattedData: { [field in PoolSortFields]: Field } = useMemo(() => {\n    return {\n      name: {\n        label: POOL_SORT_FIELDS_TO_LABEL[PoolSortFields.NAME],\n        valueRaw: poolName.replace(/ Pool/, \"\"),\n        tooltip: isMetapool ? t(\"metapool\") : undefined,\n        valueComponent: (\n          <FormattedComponentName\n            name={poolName.replace(/ Pool/, \"\")}\n            icon={poolIcon}\n          />\n        ),\n      },\n      tvl: {\n        label: POOL_SORT_FIELDS_TO_LABEL[PoolSortFields.TVL],\n        valueRaw: tvl.gt(Zero) ? `$${formatBNToShortString(tvl, 18)}` : \"-\",\n      },\n      volume: {\n        label: POOL_SORT_FIELDS_TO_LABEL[PoolSortFields.VOLUME],\n        valueRaw: volume.gt(Zero)\n          ? `$${formatBNToShortString(volume, 18)}`\n          : \"-\",\n      },\n      balance: {\n        label: POOL_SORT_FIELDS_TO_LABEL[PoolSortFields.BALANCE],\n        valueRaw: balance.gt(Zero) ? formatBNToShortString(balance, 18) : \"-\",\n      },\n      farmDeposit: {\n        label: POOL_SORT_FIELDS_TO_LABEL[PoolSortFields.FARM_DEPOSIT],\n        valueRaw: farmDeposit.gt(Zero)\n          ? formatBNToShortString(farmDeposit, 18)\n          : \"-\",\n      },\n    }\n  }, [poolName, balance, farmDeposit, isMetapool, t, tvl, volume, poolIcon])\n\n  const { poolPreferences } = useSelector(\n    (state: AppState) => state.user,\n    (l, r) =>\n      l.poolPreferences.visibleFields === r.poolPreferences.visibleFields,\n  )\n\n  const fields: Field[] = Object.values(PoolSortFields)\n    .filter((field) => {\n      return poolPreferences.visibleFields[field] > 0\n    })\n    .map((field) => {\n      return formattedData[field]\n    })\n\n  return (\n    <AnimatedComponentCard\n      name={formattedData.name.valueRaw}\n      fields={fields}\n      route={`pools/${poolRoute}`}\n      borderRadius=\"10px\"\n      p=\"15px\"\n      background=\"var(--background-element)\"\n      boxShadow=\"var(--shadow)\"\n      _hover={{ bg: \"var(--background-element-hover)\" }}\n    />\n  )\n}\n\nexport default PoolOverview\n","export default __webpack_public_path__ + \"static/media/dai-usdt-usdc.402feceb.png\";","import { AppDispatch, AppState } from \"../state\"\nimport {\n  BUSD_METAPOOL_NAME,\n  DashboardItems,\n  FARMS_MAP,\n  FRAX_METAPOOL_NAME,\n  FRAX_STABLES_LP_POOL_NAME,\n  FarmName,\n  MAI_METAPOOL_NAME,\n  POOLS_MAP,\n  POOL_FILTER_FIELDS_TO_LABEL,\n  POOL_SORT_FIELDS_TO_LABEL,\n  Pool,\n  PoolName,\n  // RUSD_METAPOOL_NAME,\n  STABLECOIN_POOL_V2_NAME,\n  UST_METAPOOL_NAME,\n} from \"../constants\"\nimport {\n  Drawer,\n  DrawerBody,\n  DrawerCloseButton,\n  DrawerContent,\n  DrawerOverlay,\n  Flex,\n  Skeleton,\n  Text,\n  useColorModeValue,\n  useDisclosure,\n  useTimeout,\n} from \"@chakra-ui/react\"\nimport {\n  FaChartPie,\n  FaFilter,\n  FaGift,\n  FaInfoCircle,\n  FaLayerGroup,\n  FaReceipt,\n  FaSortAmountUp,\n} from \"react-icons/fa\"\nimport {\n  PoolFilterFields,\n  PoolSortFields,\n  updatePoolFilterPreferences,\n  updatePoolSortPreferences,\n  updatePoolVisibleFieldPreferences,\n} from \"../state/user\"\nimport React, { ReactElement, useMemo, useState } from \"react\"\nimport {\n  calculatePctOfTotalShare,\n  formatBNToPercentString,\n  formatBNToString,\n} from \"../utils\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport usePoolData, { PoolDataType, UserShareType } from \"../hooks/usePoolData\"\nimport { AnimatePresence } from \"framer-motion\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { BsSliders } from \"react-icons/bs\"\nimport Dashboard from \"../components/Dashboard\"\nimport { Link } from \"react-router-dom\"\nimport OverviewInfo from \"../components/OverviewInfo\"\nimport OverviewInputFieldsWrapper from \"../components/wrappers/OverviewInputFieldsWrapper\"\nimport OverviewSettingsContent from \"../components/OverviewSettingsContent\"\nimport OverviewWrapper from \"../components/wrappers/OverviewWrapper\"\nimport PageWrapper from \"../components/wrappers/PageWrapper\"\nimport PoolOverview from \"../components/PoolOverview\"\nimport StakeDetails from \"../components/StakeDetails\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { commify } from \"@ethersproject/units\"\nimport stablesPoolIcon from \"../assets/icons/dai-usdt-usdc.png\"\nimport { useMultiCallFarmDeposits } from \"../hooks/useMultiCallFarmDeposits\"\n\nfunction Pools(): ReactElement | null {\n  const dispatch = useDispatch<AppDispatch>()\n  const { poolPreferences } = useSelector((state: AppState) => state.user)\n  const farmDeposits = useMultiCallFarmDeposits()\n  const { isOpen, onOpen, onClose } = useDisclosure()\n  const [usdPoolV2Data, usdV2UserShareData] = usePoolData(\n    STABLECOIN_POOL_V2_NAME,\n  )\n  const [fraxStablesPoolData, fraxStablesUserShareData] = usePoolData(\n    FRAX_STABLES_LP_POOL_NAME,\n  )\n  const [fraxMetaPoolData, fraxMetaPoolUserShareData] = usePoolData(\n    FRAX_METAPOOL_NAME,\n  )\n  const [ustMetaPoolData, ustMetaPoolUserShareData] = usePoolData(\n    UST_METAPOOL_NAME,\n  )\n  const [busdMetaPoolData, busdMetaPoolUserShareData] = usePoolData(\n    BUSD_METAPOOL_NAME,\n  )\n  const [maiMetaPoolData, maiMetaPoolUserShareData] = usePoolData(\n    MAI_METAPOOL_NAME,\n  )\n  // const [rusdMetaPoolData, rusdMetaPoolUserShareData] = usePoolData(\n  //   RUSD_METAPOOL_NAME,\n  // )\n\n  const [sortDirection, setSortDirection] = useState(1)\n  const [sortByField, setSortByField] = useState(poolPreferences.sortField)\n  const [filterByField, setfilterByField] = useState(\n    poolPreferences.filterField,\n  )\n  const [timeout, setTimout] = useState(false)\n  const [isInfo, setIsInfo] = useState(false)\n\n  useTimeout(() => setTimout(true), 5000)\n\n  const SORT_FUNCTIONS: {\n    [sortField in PoolSortFields]: (a: Pool, b: Pool) => boolean\n  } = {\n    name: (a: Pool, b: Pool) =>\n      a.name.localeCompare(b.name) > 0 ? true : false,\n    tvl: (a: Pool, b: Pool) =>\n      getPoolData(a.name).tvl.gt(getPoolData(b.name).tvl),\n    farmDeposit: (a: Pool, b: Pool) =>\n      (farmDeposits?.[a.farmName || \"\"] || Zero).gt(\n        farmDeposits?.[b.farmName || \"\"] || Zero,\n      ),\n    balance: (a: Pool, b: Pool) =>\n      getPoolData(a.name).balance.gt(getPoolData(b.name).balance),\n    volume: (a: Pool, b: Pool) =>\n      getPoolData(a.name).volume.gt(getPoolData(b.name).volume),\n  }\n\n  const FILTER_FUNCTIONS: {\n    [sortField in PoolFilterFields]: (a: Pool) => boolean\n  } = {\n    farmDeposit: (a: Pool) =>\n      (farmDeposits?.[a.farmName || \"\"] || Zero).gt(Zero),\n    balance: (a: Pool) => getPoolData(a.name).balance.gt(Zero),\n    noFilter: (a: Pool) => (a ? true : false),\n  }\n\n  const onIconButtonClick = (isInfo: boolean): void => {\n    onOpen()\n    setIsInfo(isInfo)\n  }\n\n  const resetDashboardView = () => {\n    onClose()\n    setIsInfo(false)\n  }\n\n  const allPoolData: PoolDataType[] = [\n    usdPoolV2Data,\n    fraxStablesPoolData,\n    fraxMetaPoolData,\n    ustMetaPoolData,\n    busdMetaPoolData,\n    // rusdMetaPoolData,\n  ]\n\n  const allUserShareData: (UserShareType | null)[] = [\n    usdV2UserShareData,\n    fraxStablesUserShareData,\n    fraxMetaPoolUserShareData,\n    ustMetaPoolUserShareData,\n    busdMetaPoolUserShareData,\n    // rusdMetaPoolUserShareData,\n  ]\n\n  const formattedLpTokenBalances = allUserShareData\n    .filter((data) => {\n      return data?.lpTokenBalance.gt(Zero)\n    })\n    .map((data) => {\n      return {\n        tokenName: POOLS_MAP[data?.name || \"\"]?.lpToken.symbol,\n        icon: POOLS_MAP[data?.name || \"\"]?.lpToken.icon,\n        amount: commify(formatBNToString(data?.lpTokenBalance || Zero, 18, 5)),\n      }\n    })\n\n  const farmDepositsFormatted = useMemo(() => {\n    return Object.entries(farmDeposits || {})\n      ?.filter((balance) => {\n        return balance[1].gt(Zero)\n      })\n      .map(([symbol, value]) => {\n        return {\n          tokenName: symbol,\n          icon: FARMS_MAP[symbol as FarmName].lpToken.icon,\n          amount: commify(formatBNToString(value, 18, 5)),\n        }\n      })\n  }, [farmDeposits])\n\n  const totalShare = calculatePctOfTotalShare(\n    allUserShareData.reduce((sum, data) => {\n      return sum.add(data?.lpTokenBalance || Zero)\n    }, Zero),\n    allPoolData.reduce((sum, data) => {\n      return sum.add(data.totalLocked)\n    }, Zero),\n  )\n\n  const total24HrVolume = allPoolData.reduce((sum, data) => {\n    return sum.add(data?.volume || Zero)\n  }, Zero)\n\n  const totalTvl = allPoolData\n    ?.map((data) => {\n      return BigNumber.from(data.reserve || Zero)\n    })\n    .reduce((sum, tvl) => {\n      return sum.add(tvl)\n    }, Zero)\n\n  function getPoolData(poolName: PoolName) {\n    switch (poolName) {\n      case FRAX_STABLES_LP_POOL_NAME:\n        return {\n          balance: fraxStablesUserShareData?.lpTokenBalance || Zero,\n          tvl: fraxStablesPoolData?.reserve || Zero,\n          volume: fraxStablesPoolData?.volume || Zero,\n        }\n      case FRAX_METAPOOL_NAME:\n        return {\n          balance: fraxMetaPoolUserShareData?.lpTokenBalance || Zero,\n          tvl: fraxMetaPoolData?.reserve || Zero,\n          volume: fraxMetaPoolData?.volume || Zero,\n        }\n      case UST_METAPOOL_NAME:\n        return {\n          balance: ustMetaPoolUserShareData?.lpTokenBalance || Zero,\n          tvl: ustMetaPoolData?.reserve || Zero,\n          volume: ustMetaPoolData?.volume || Zero,\n        }\n      case BUSD_METAPOOL_NAME:\n        return {\n          balance: busdMetaPoolUserShareData?.lpTokenBalance || Zero,\n          tvl: busdMetaPoolData?.reserve || Zero,\n          volume: busdMetaPoolData?.volume || Zero,\n        }\n      case MAI_METAPOOL_NAME:\n        return {\n          balance: maiMetaPoolUserShareData?.lpTokenBalance || Zero,\n          tvl: maiMetaPoolData?.reserve || Zero,\n          volume: maiMetaPoolData?.volume || Zero,\n        }\n      // case RUSD_METAPOOL_NAME:\n      //   return {\n      //     balance: rusdMetaPoolUserShareData?.lpTokenBalance || Zero,\n      //     tvl: rusdMetaPoolData?.reserve || Zero,\n      //     volume: rusdMetaPoolData?.volume || Zero,\n      //   }\n      default:\n        return {\n          balance: usdV2UserShareData?.lpTokenBalance || Zero,\n          tvl: usdPoolV2Data?.reserve || Zero,\n          volume: usdPoolV2Data?.volume || Zero,\n        }\n    }\n  }\n  return (\n    <PageWrapper activeTab=\"pools\" maxW=\"1550px\">\n      <Drawer\n        isOpen={isOpen}\n        placement=\"right\"\n        onClose={resetDashboardView}\n        size={isInfo ? \"sm\" : \"md\"}\n      >\n        <DrawerOverlay />\n        <DrawerContent\n          bg={useColorModeValue(\n            \"linear-gradient(to bottom, #f7819a, #ebd9c2, #e9e0d9)\",\n            \"linear-gradient(to right, #141414, #200122, #791038)\",\n          )}\n          p=\"50px 10px\"\n        >\n          <DrawerCloseButton />\n          <DrawerBody p=\"5px\">\n            {isInfo ? (\n              <OverviewInfo\n                infoType=\"Pool\"\n                sections={[\n                  {\n                    title: \"How to provide liquidity\",\n                    items: [\n                      {\n                        icon: FaChartPie,\n                        text:\n                          \"Add liquidity to one of our pools by clicking on one of the pool cards. Currently, we support StablePools and MetaPools.\",\n                      },\n                      {\n                        icon: FaReceipt,\n                        text:\n                          \"Deposit one or more of the tokens that the pool accepts. For example, the Stables Pool accepts DAI, USDT, & USDC as liquidity.\",\n                      },\n                      {\n                        icon: FaGift,\n                        text:\n                          \"You will earn trading fees proportional to your share of the pool, and can be claimed by withdrawing your liquidity.\",\n                      },\n                    ],\n                  },\n                  {\n                    title: \"Dashboard\",\n                    items: [\n                      {\n                        icon: FaLayerGroup,\n                        text:\n                          \"View your total share, LP token balances, & Farm Deposits across all pools all in one view!\",\n                      },\n                      {\n                        icon: FaInfoCircle,\n                        text:\n                          \"Note that your pool deposit is represented by your current LP token balance. Farm deposits represent the LP tokens you have deposited on the pool's farm.\",\n                      },\n                    ],\n                  },\n                  {\n                    title: \"Preferences\",\n                    items: [\n                      {\n                        icon: FaSortAmountUp,\n                        text:\n                          \" Sort by any of the pool card fields like TVL, Volume, & Name.\",\n                      },\n                      {\n                        icon: FaFilter,\n                        text:\n                          \"Filter by your LP Token Balances and pool deposits that you are farming.\",\n                      },\n                      {\n                        icon: BsSliders,\n                        text:\n                          \"Configure your preferences on this page like default sorting behavior. We will save this info for you and apply it each time you visit the page!\",\n                      },\n                    ],\n                  },\n                  {\n                    title: \"Farming\",\n                    items: [\n                      {\n                        icon: FaChartPie,\n                        text:\n                          \"When you add liquidity, you will receive LP tokens in exchange. With these LP tokens, you can then deposit them into the pool's corresponding farm.\",\n                      },\n                      {\n                        icon: FaGift,\n                        text:\n                          \"For example, after depositing liquidity into the Stables Pool, you can take those LP tokens and deposit them into the Stables Farm. By doing so, you can earn rewards in ROSE!\",\n                      },\n                      {\n                        icon: FaGift,\n                        text: (\n                          <>\n                            All farms can be found on our{\" \"}\n                            <Link\n                              to=\"/farms\"\n                              style={{\n                                textDecoration: \"underline\",\n                                margin: 0,\n                                fontWeight: \"bold\",\n                              }}\n                            >\n                              farms page\n                            </Link>\n                            .\n                          </>\n                        ),\n                      },\n                    ],\n                  },\n                  {\n                    title: \"MetaPools\",\n                    items: [\n                      {\n                        icon: FaChartPie,\n                        text:\n                          \"Metapools contain one token to trade with another underlying Base pool. Adding the single asset to the metapool does not dilute the liquidity of the underlying base pool.\",\n                      },\n                    ],\n                  },\n                ]}\n              />\n            ) : (\n              <PoolDashboard\n                totalShare={totalShare}\n                formattedBalances={formattedLpTokenBalances}\n                formattedDeposits={farmDepositsFormatted}\n                totalTvl={totalTvl}\n                total24hVolume={total24HrVolume}\n                loading={\n                  allUserShareData.some((item) => item === null) && !timeout\n                }\n              />\n            )}\n          </DrawerBody>\n        </DrawerContent>\n      </Drawer>\n      <OverviewWrapper\n        top={\n          <OverviewInputFieldsWrapper\n            sortDirection={sortDirection}\n            sortByField={sortByField}\n            sortFieldLabelMap={POOL_SORT_FIELDS_TO_LABEL}\n            filterByField={filterByField}\n            filterFieldLabelMap={POOL_FILTER_FIELDS_TO_LABEL}\n            handleSortDirection={setSortDirection}\n            handleClearFilter={() =>\n              setfilterByField(PoolFilterFields.NO_FILTER)\n            }\n            handleUpdateSortField={(e) =>\n              setSortByField(e.target.value as PoolSortFields)\n            }\n            handleUpdateFilterField={(e) =>\n              setfilterByField(e.target.value as PoolFilterFields)\n            }\n            popOverContent={\n              <OverviewSettingsContent\n                sortFieldLabelMap={POOL_SORT_FIELDS_TO_LABEL}\n                filterFieldLabelMap={POOL_FILTER_FIELDS_TO_LABEL}\n                preferences={poolPreferences}\n                updateVisibleFields={(e, field: string) =>\n                  dispatch(\n                    updatePoolVisibleFieldPreferences({\n                      field: field as PoolSortFields,\n                      value: +e.target.value * -1,\n                    }),\n                  )\n                }\n                updateFilterPreferences={(e) =>\n                  dispatch(\n                    updatePoolFilterPreferences(\n                      e.target.value as PoolFilterFields,\n                    ),\n                  )\n                }\n                updateSortPreferences={(e) =>\n                  dispatch(\n                    updatePoolSortPreferences(e.target.value as PoolSortFields),\n                  )\n                }\n              />\n            }\n            onIconClick={onIconButtonClick}\n          />\n        }\n        left={\n          <AnimatePresence>\n            {allUserShareData.every((item) => item !== null) || timeout\n              ? Object.values(POOLS_MAP)\n                  // temporarily hide Frax pool while keeping its page enabled\n                  .filter(({ name }) => name !== FRAX_STABLES_LP_POOL_NAME)\n                  .filter((pool) => FILTER_FUNCTIONS[filterByField](pool))\n                  .sort((a, b) =>\n                    SORT_FUNCTIONS[sortByField](a, b)\n                      ? sortDirection * -1\n                      : sortDirection,\n                  )\n                  .map((pool) => (\n                    <PoolOverview\n                      key={pool.name}\n                      poolName={pool.name}\n                      poolRoute={pool.route}\n                      poolIcon={\n                        pool.name === STABLECOIN_POOL_V2_NAME\n                          ? stablesPoolIcon\n                          : pool.lpToken.icon\n                      }\n                      farmDeposit={farmDeposits?.[pool.farmName || \"\"] || Zero}\n                      {...getPoolData(pool.name)}\n                    />\n                  ))\n              : Object.keys(POOLS_MAP).map((key) => (\n                  <Skeleton key={key} height=\"100px\" borderRadius=\"10px\" />\n                ))}\n          </AnimatePresence>\n        }\n        right={\n          <PoolDashboard\n            totalShare={totalShare}\n            formattedBalances={formattedLpTokenBalances}\n            formattedDeposits={farmDepositsFormatted}\n            totalTvl={totalTvl}\n            total24hVolume={total24HrVolume}\n            loading={allUserShareData.some((item) => item === null) && !timeout}\n          />\n        }\n      />\n    </PageWrapper>\n  )\n}\n\ninterface PoolDashboardProps {\n  totalShare: BigNumber\n  formattedBalances: DashboardItems[]\n  formattedDeposits: DashboardItems[]\n  totalTvl: BigNumber\n  total24hVolume: BigNumber\n  loading: boolean\n}\n\nconst PoolDashboard = ({\n  totalShare,\n  formattedBalances,\n  formattedDeposits,\n  totalTvl,\n  total24hVolume,\n  loading,\n}: PoolDashboardProps): ReactElement => {\n  return (\n    <Dashboard\n      dashboardName=\"Pools\"\n      dashboardContent={\n        <StakeDetails\n          extraStakeDetailChild={\n            <Flex justifyContent=\"space-between\" alignItems=\"center\">\n              <FaChartPie\n                color=\"#cc3a59\"\n                size=\"35px\"\n                title=\"Total Share of Pools\"\n              />\n              <Text\n                as=\"span\"\n                fontSize={{ base: \"24px\", lg: \"30px\" }}\n                fontWeight=\"700\"\n              >\n                {formatBNToPercentString(totalShare, 18, 5)}\n              </Text>\n            </Flex>\n          }\n          loading={loading}\n          balanceView={{\n            title: \"LP Token Balances\",\n            items: formattedBalances,\n          }}\n          stakedView={{\n            title: \"Farm Deposits\",\n            items: formattedDeposits,\n          }}\n          stats={[\n            {\n              statLabel: \"Total Pool TVL\",\n              statValue: `$${commify(formatBNToString(totalTvl, 18, 2))}`,\n            },\n            {\n              statLabel: \"Total 24h Volume\",\n              statValue: `$${commify(formatBNToString(total24hVolume, 18, 2))}`,\n            },\n          ]}\n        />\n      }\n    />\n  )\n}\n\nexport default Pools\n","import { Box, Flex, Text } from \"@chakra-ui/react\"\nimport React, { ReactElement } from \"react\"\nimport { AppState } from \"../state\"\nimport classNames from \"classnames\"\nimport styles from \"./StakePageTitle.module.scss\"\nimport { useSelector } from \"react-redux\"\n\nconst StakePageTitle = ({ title }: { title: string }): ReactElement => {\n  const { userDarkMode } = useSelector((state: AppState) => state.user)\n  const { stakeStats } = useSelector((state: AppState) => state.application)\n\n  return (\n    <Box bg=\"var(--secondary-background)\" borderRadius=\"10px\" p=\"20px\" w=\"100%\">\n      <Flex\n        justifyContent={{ base: \"center\", sm: \"space-between\" }}\n        alignItems=\"center\"\n        flexDirection={{ base: \"column\", sm: \"row\" }}\n        gridGap=\"10px\"\n      >\n        <Text as=\"h3\" fontWeight={700} fontSize=\"28px\" lineHeight=\"30px\">\n          {title}\n        </Text>\n        <Box\n          className={classNames(\n            styles.pill,\n            { [styles.glowPill]: userDarkMode },\n            { [styles.colorPill]: !userDarkMode },\n          )}\n        >\n          <Box>\n            1 stROSE {\" \"}\n            {stakeStats?.priceRatio\n              ? (+stakeStats?.priceRatio).toFixed(5)\n              : \"-\"}{\" \"}\n            ROSE\n          </Box>\n        </Box>\n      </Flex>\n    </Box>\n  )\n}\n\nexport default StakePageTitle\n","import { ChainId, SROSE } from \"../constants\"\nimport retry from \"async-retry\"\n\ninterface BlockTransactionResponse {\n  message: string\n  status: string\n  result: Transaction[]\n}\n\ninterface Transaction {\n  blockHash: string\n  blockNumber: string\n  confirmations: string\n  contractAddress: string\n  cumulativeGasUsed: string\n  from: string\n  gas: string\n  gasUsed: string\n  hash: string\n  input: string\n  isError: string\n  nonce: string\n  timeStamp: string\n  to: string\n  transactionIndex: string\n  value: string\n  txreceipt_status: string\n}\n\ninterface TokenTransferTxn extends Transaction {\n  logIndex: string\n  tokenDecimal: string\n  tokenSymbol: string\n  tokenName: string\n}\n\nconst blockTxnsUri = (\n  accountAddress: string,\n  startTimestamp: string,\n  networkId: string,\n) =>\n  `https://explorer.${networkId}.aurora.dev/api?module=account&action=txlist&address=${accountAddress}&starttimestamp=${startTimestamp}`\n\nconst tokenTransferTxnsUri = (\n  startBlock: string,\n  contractAddress: string,\n  accountAddress: string,\n  networkId: string,\n) =>\n  `https://explorer.${networkId}.aurora.dev/api?module=account&action=tokentx&address=${accountAddress}&contractaddress=${contractAddress}&startblock=${startBlock}`\n\nconst fetchBlockTxns = async (\n  accountAddress: string,\n  networkId: string,\n  daysOffset = 1,\n): Promise<Transaction[]> => {\n  const d = new Date()\n  d.setDate(d.getDate() - daysOffset) // default 1 day back\n  return fetch(\n    blockTxnsUri(\n      accountAddress,\n      d.getTime().toString().slice(0, 10),\n      networkId,\n    ),\n  )\n    .then((res) => res.json())\n    .then((body: BlockTransactionResponse) => {\n      return body.result\n    })\n}\n\nconst fetchTokenTransfers = (\n  startBlock: string,\n  contractAddress: string,\n  accountAddress: string,\n  networkId: string,\n): Promise<TokenTransferTxn[]> =>\n  fetch(\n    tokenTransferTxnsUri(\n      startBlock,\n      contractAddress,\n      accountAddress,\n      networkId,\n    ),\n  )\n    .then((res) => res.json())\n    .then((body: BlockTransactionResponse) => {\n      return body.result as TokenTransferTxn[]\n    })\n\nexport default async function fetchLastStakedTime(\n  accountAddress: string,\n  chainId: ChainId,\n): Promise<string | undefined> {\n  // fetch the user's txn list for last day\n  const networkId = chainId === ChainId.AURORA_TESTNET ? \"testnet\" : \"mainnet\"\n  const txnData = await retry(() => fetchBlockTxns(accountAddress, networkId), {\n    retries: 2,\n  })\n\n  // filter by stRose on `to` field and user account address\n  const stRoseAddress = SROSE.addresses[chainId]\n  const filteredTxnData = txnData.filter(\n    ({ to, from }) =>\n      to === stRoseAddress.toLowerCase() &&\n      from === accountAddress.toLowerCase(),\n  )\n\n  // if empty, return early\n  if (filteredTxnData.length === 0) return\n\n  // pull token transfer data starting at first block number from filtered txns\n  const tokenTransferData = await retry(\n    () =>\n      fetchTokenTransfers(\n        filteredTxnData[filteredTxnData.length - 1].blockNumber,\n        stRoseAddress,\n        accountAddress,\n        networkId,\n      ),\n    { retries: 2 },\n  )\n\n  // find the match and return\n  for (let i = 0; i < tokenTransferData.length; i += 1) {\n    if (\n      filteredTxnData.find(\n        ({ hash }) =>\n          hash === tokenTransferData[i].hash &&\n          tokenTransferData[i].to === accountAddress.toLowerCase(),\n      )\n    ) {\n      return tokenTransferData[i].timeStamp\n    }\n  }\n}\n","import { useEffect, useState } from \"react\"\nimport { AppState } from \"../state\"\nimport { TRANSACTION_TYPES } from \"../constants\"\nimport fetchLastStakedTime from \"../utils/fetchBlockTransactions\"\nimport { useActiveWeb3React } from \".\"\nimport { useSelector } from \"react-redux\"\n\nexport default function useLastStakedTime(): string | undefined {\n  const { account, chainId } = useActiveWeb3React()\n\n  const [lastStakedTime, setLastStakedTime] = useState<string | undefined>(\n    undefined,\n  )\n\n  const { lastTransactionTimes } = useSelector(\n    (state: AppState) => state.application,\n  )\n  const lastStakeTxn = lastTransactionTimes[TRANSACTION_TYPES.STAKE]\n\n  useEffect(() => {\n    if (!account || !chainId) return\n    fetchLastStakedTime(account, chainId)\n      .then((stakedTime) => {\n        setLastStakedTime(stakedTime)\n      })\n      .catch((err) => console.log(err))\n  }, [account, chainId, lastStakeTxn])\n\n  return lastStakedTime\n}\n","import { FaLock, FaUnlock } from \"react-icons/fa\"\nimport { Flex, Text, Tooltip } from \"@chakra-ui/react\"\nimport React, { ReactElement, useEffect, useMemo, useState } from \"react\"\nimport { commify, formatBNToShortString, formatBNToString } from \"../utils\"\nimport { useRoseContract, useStRoseContract } from \"../hooks/useContract\"\nimport { AppState } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport ComponentWrapper from \"../components/wrappers/ComponentWrapper\"\nimport { Erc20 } from \"../../types/ethers-contracts/Erc20\"\nimport PageWrapper from \"../components/wrappers/PageWrapper\"\nimport { ROSE_TOKENS_MAP } from \"../constants\"\nimport { StRose } from \"../../types/ethers-contracts/StRose\"\nimport StakeDetails from \"../components/StakeDetails\"\nimport StakeForm from \"../components/StakeForm\"\nimport StakePageTitle from \"../components/StakePageTitle\"\nimport TabsWrapper from \"../components/wrappers/TabsWrapper\"\nimport { TransactionType } from \"../hooks/useChakraToast\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { useApproveAndStake } from \"../hooks/useApproveAndStake\"\nimport { useApproveAndUnstake } from \"../hooks/useApproveAndUnstake\"\nimport { useCheckTokenRequiresApproval } from \"../hooks/useCheckTokenRequiresApproval\"\nimport useCountDown from \"react-countdown-hook\"\nimport useLastStakedTime from \"../hooks/useLastStakedTime\"\nimport { useRoseTokenBalances } from \"../state/wallet/hooks\"\nimport { useSelector } from \"react-redux\"\nimport { useTranslation } from \"react-i18next\"\n\nexport type BalanceDetails = {\n  balance: BigNumber\n  staked: BigNumber\n}\n\nconst Stake = (): ReactElement => {\n  const { t } = useTranslation()\n  const tokenBalances = useRoseTokenBalances()\n  const stake = useApproveAndStake()\n  const unstake = useApproveAndUnstake()\n  const roseContract = useRoseContract() as Erc20\n  const stRoseContract = useStRoseContract() as StRose\n  const [approved, loading, checkRoseApproved] = useCheckTokenRequiresApproval(\n    roseContract,\n    stRoseContract,\n  )\n  const { stakeStats } = useSelector((state: AppState) => state.application)\n  const [diff, setDiff] = useState(0)\n  const lastStaked = useLastStakedTime()\n\n  const { priceRatio, tvl, totalRoseStaked, priceOfRose, apr } = {\n    ...stakeStats,\n  }\n\n  const tokenBalanceDetails = useMemo((): BalanceDetails => {\n    const [roseToken, stRoseToken] = Object.values(ROSE_TOKENS_MAP).map(\n      ({ symbol }) => {\n        const amount = tokenBalances?.[symbol] || Zero\n        return {\n          amount,\n        }\n      },\n    )\n    return {\n      balance: roseToken.amount,\n      staked: stRoseToken.amount,\n    }\n  }, [tokenBalances])\n\n  useEffect(() => {\n    const d = new Date(lastStaked ? +lastStaked * 1000 : 0)\n    d.setDate(d.getDate() + 1)\n    setDiff((Date.now() - d.getTime()) * -1)\n  }, [lastStaked])\n\n  const [timeLeft, actions] = useCountDown(diff, 1000)\n\n  useEffect(() => {\n    actions.start(diff)\n  }, [actions, diff, lastStaked])\n\n  return (\n    <PageWrapper activeTab=\"stake\">\n      <ComponentWrapper\n        left={\n          <TabsWrapper\n            tabsProps={{ variant: \"primary\" }}\n            tab1={{\n              name: t(\"stake\"),\n              content: (\n                <StakeForm\n                  fieldName={\"stake\"}\n                  token={\"ROSE\"}\n                  tokenIcon={ROSE_TOKENS_MAP.rose.icon}\n                  submitButtonLabel={\n                    approved\n                      ? t(\"stake\")\n                      : t(\"approveAnd\", { action: t(\"stake\") })\n                  }\n                  formTitle={<StakePageTitle title={`${t(\"stake\")} ROSE`} />}\n                  formDescription={t(\"stakingInfo\")}\n                  isLoading={loading}\n                  usdPrice={+(priceOfRose || 0)}\n                  max={tokenBalanceDetails.balance}\n                  txnType={TransactionType.STAKE}\n                  handleInputChanged={checkRoseApproved}\n                  handleSubmit={stake}\n                />\n              ),\n            }}\n            tab2={{\n              name: t(\"unstake\"),\n              content: (\n                <StakeForm\n                  fieldName={\"unstake\"}\n                  token={\"stROSE\"}\n                  tokenIcon={ROSE_TOKENS_MAP.stRose.icon}\n                  isLoading={false}\n                  formTitle={\n                    <StakePageTitle title={`${t(\"unstake\")} stROSE`} />\n                  }\n                  formDescription={t(\"stakingInfo\")}\n                  submitButtonLabel={t(\"unstake\")}\n                  usdPrice={+(priceOfRose || 0) * +(priceRatio || 0)}\n                  max={tokenBalanceDetails.staked}\n                  txnType={TransactionType.UNSTAKE}\n                  handleSubmit={unstake}\n                />\n              ),\n            }}\n          />\n        }\n        right={\n          <StakeDetails\n            extraStakeDetailChild={\n              <Flex justifyContent=\"space-between\" alignItems=\"center\">\n                {timeLeft && timeLeft > 0 ? (\n                  <FaLock\n                    size=\"25px\"\n                    color=\"#cc3a59\"\n                    title=\"Your stROSE is locked.\"\n                  />\n                ) : (\n                  <FaUnlock\n                    size=\"25px\"\n                    color=\"#4BB543\"\n                    title=\"Your stROSE is unlocked.\"\n                  />\n                )}\n                <Tooltip\n                  bgColor=\"#cc3a59\"\n                  closeOnClick={false}\n                  label=\"This is an estimate of time remaining until you can unstake. Refresh the page for better accuracy.\"\n                >\n                  <Text\n                    fontSize=\"25px\"\n                    fontWeight={700}\n                    color=\"var(--text-title)\"\n                    borderBottom=\"1px dotted var(--text)\"\n                    cursor=\"help\"\n                  >\n                    {new Date((timeLeft / 1000) * 1000)\n                      .toISOString()\n                      .substr(11, 8)}\n                  </Text>\n                </Tooltip>\n              </Flex>\n            }\n            balanceView={{\n              title: t(\"balance\"),\n              items: [\n                {\n                  tokenName: \"ROSE\",\n                  icon: ROSE_TOKENS_MAP.rose.icon,\n                  amount: commify(\n                    formatBNToString(tokenBalanceDetails.balance, 18, 5),\n                  ),\n                },\n              ],\n            }}\n            stakedView={{\n              title: t(\"Staked\"),\n              items: [\n                {\n                  tokenName: \"stROSE\",\n                  icon: ROSE_TOKENS_MAP.stRose.icon,\n                  amount: commify(\n                    formatBNToString(tokenBalanceDetails.staked, 18, 5),\n                  ),\n                },\n              ],\n            }}\n            stats={[\n              {\n                statLabel: \"Total ROSE Staked\",\n                statValue: totalRoseStaked\n                  ? `${formatBNToShortString(\n                      BigNumber.from(totalRoseStaked),\n                      18,\n                    )}`\n                  : \"-\",\n              },\n              {\n                statLabel: \"Price of ROSE\",\n                statValue: `$${Number(priceOfRose).toFixed(3)}`,\n              },\n              {\n                statLabel: \"TVL\",\n                statValue: tvl\n                  ? `$${formatBNToShortString(BigNumber.from(tvl), 18)}`\n                  : \"-\",\n              },\n              {\n                statLabel: \"APR\",\n                statValue: apr ?? \"-\",\n              },\n            ]}\n          />\n        }\n      />\n    </PageWrapper>\n  )\n}\n\nexport default Stake\n","/* eslint @typescript-eslint/no-unsafe-member-access: 0 */\n/* eslint @typescript-eslint/no-unsafe-call: 0 */\n/* eslint @typescript-eslint/no-explicit-any: 0 */\nimport { ChainId, TRANSACTION_TYPES } from \"../constants\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { useRoseContract, useStRoseContract } from \"./useContract\"\nimport { AppState } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { ContractReceipt } from \"@ethersproject/contracts\"\nimport { Erc20 } from \"../../types/ethers-contracts/Erc20\"\nimport { GasPrices } from \"../state/user\"\nimport { StRose } from \"../../types/ethers-contracts/StRose\"\nimport { Zero } from \"@ethersproject/constants\"\nimport checkAndApproveTokenForTrade from \"../utils/checkAndApproveTokenForTrade\"\nimport { parseUnits } from \"ethers/lib/utils\"\nimport { updateLastTransactionTimes } from \"../state/application\"\nimport { useActiveWeb3React } from \".\"\n\nexport function useApproveAndStake(): (\n  amount: string,\n) => Promise<ContractReceipt | void> {\n  const roseContract = useRoseContract() as Erc20\n  const stRoseContract = useStRoseContract() as StRose\n  const { account, chainId } = useActiveWeb3React()\n  const { gasPriceSelected, gasCustom } = useSelector(\n    (state: AppState) => state.user,\n  )\n  const { gasStandard, gasFast, gasInstant } = useSelector(\n    (state: AppState) => state.application,\n  )\n  const dispatch = useDispatch()\n  return async function approveAndStake(\n    amount: string,\n    onApprovalTransactionStart?: () => void,\n  ): Promise<ContractReceipt | void> {\n    try {\n      if (!account) throw new Error(\"Wallet must be connected\")\n      if (!roseContract || !stRoseContract)\n        throw new Error(\"Rose contract is not loaded\")\n      let gasPrice: any\n      if (gasPriceSelected === GasPrices.Custom) {\n        gasPrice = gasCustom?.valueSafe\n      } else if (gasPriceSelected === GasPrices.Fast) {\n        gasPrice = gasFast\n      } else if (gasPriceSelected === GasPrices.Instant) {\n        gasPrice = gasInstant\n      } else {\n        gasPrice = gasStandard\n      }\n      gasPrice = parseUnits(gasPrice?.toString() || \"45\", \"gwei\")\n\n      const amountToStake = BigNumber.from(amount)\n      await checkAndApproveTokenForTrade(\n        roseContract,\n        stRoseContract.address,\n        account,\n        amountToStake,\n        true,\n        chainId === ChainId.AURORA_TESTNET ? Zero : gasPrice,\n        {\n          onTransactionStart: () => {\n            onApprovalTransactionStart?.()\n            return undefined\n          },\n        },\n      )\n      const tx = await stRoseContract.mint(amountToStake)\n      const receipt = await tx.wait()\n      dispatch(\n        updateLastTransactionTimes({\n          [TRANSACTION_TYPES.STAKE]: Date.now(),\n        }),\n      )\n      return receipt\n    } catch (e) {\n      const error = e as { code: number; message: string }\n      throw error\n    }\n  }\n}\n","import { BigNumber } from \"@ethersproject/bignumber\"\nimport { ContractReceipt } from \"@ethersproject/contracts\"\nimport { StRose } from \"../../types/ethers-contracts/StRose\"\nimport { useActiveWeb3React } from \".\"\nimport { useStRoseContract } from \"./useContract\"\n\nexport function useApproveAndUnstake(): (\n  amount: string,\n) => Promise<ContractReceipt | void> {\n  const stRoseContract = useStRoseContract() as StRose\n  const { account } = useActiveWeb3React()\n  return async function approveAndUnstake(\n    amount: string,\n  ): Promise<ContractReceipt | void> {\n    try {\n      if (!account) throw new Error(\"Wallet must be connected\")\n      if (!stRoseContract) throw new Error(\"Contracts are not loaded\")\n      const amountToUnStake = BigNumber.from(amount)\n      if (amountToUnStake.isZero()) return\n      const tx = await stRoseContract.burn(account, amountToUnStake)\n      return await tx.wait()\n    } catch (e) {\n      const error = e as { code: number; message: string }\n      throw error\n    }\n  }\n}\n","/* eslint @typescript-eslint/no-non-null-assertion: 0 */\nimport {\n  POOLS_MAP,\n  Pool,\n  PoolsMap,\n  SWAP_TYPES,\n  TOKENS_MAP,\n  Token,\n  TokensMap,\n} from \"../constants/index\"\nimport { useMemo, useState } from \"react\"\n\nimport { intersection } from \"../utils/index\"\nimport usePoolTVLs from \"./usePoolsTVL\"\n\n// swaptypes in order of least to most preferred (aka expensive)\nconst SWAP_TYPES_ORDERED_ASC = [\n  SWAP_TYPES.INVALID,\n  SWAP_TYPES.TOKEN_TO_TOKEN,\n  SWAP_TYPES.TOKEN_TO_SYNTH,\n  SWAP_TYPES.SYNTH_TO_TOKEN,\n  SWAP_TYPES.SYNTH_TO_SYNTH,\n  SWAP_TYPES.DIRECT,\n]\n\ntype TokenToPoolsMap = {\n  [tokenSymbol: string]: string[]\n}\n\ntype TokenToSwapDataMap = { [symbol: string]: SwapData[] }\nexport function useCalculateSwapPairs(): (token?: Token) => SwapData[] {\n  const [pairCache, setPairCache] = useState<TokenToSwapDataMap>({})\n  const poolTVLs = usePoolTVLs()\n  const [poolsSortedByTVL, tokenToPoolsMapSorted] = useMemo(() => {\n    const sortedPools = Object.values(POOLS_MAP).sort((a, b) => {\n      const aTVL = poolTVLs[a.name]\n      const bTVL = poolTVLs[b.name]\n      if (aTVL && bTVL) {\n        return aTVL.gt(bTVL) ? -1 : 1\n      }\n      return aTVL ? -1 : 1\n    })\n    const tokenToPools = sortedPools.reduce((acc, { name: poolName }) => {\n      const pool = POOLS_MAP[poolName]\n      const newAcc = { ...acc }\n      pool.poolTokens.forEach((token) => {\n        newAcc[token.symbol] = (newAcc[token.symbol] || []).concat(poolName)\n      })\n      return newAcc\n    }, {} as TokenToPoolsMap)\n    return [sortedPools, tokenToPools]\n  }, [poolTVLs])\n\n  return function calculateSwapPairs(token?: Token): SwapData[] {\n    if (!token) return []\n    const cacheHit = pairCache[token.symbol]\n    if (cacheHit) return cacheHit\n    const swapPairs = getTradingPairsForToken(\n      TOKENS_MAP,\n      POOLS_MAP,\n      poolsSortedByTVL,\n      tokenToPoolsMapSorted,\n      token,\n    )\n    setPairCache((prevState) => ({ ...prevState, [token.symbol]: swapPairs }))\n    return swapPairs\n  }\n}\n\nfunction buildSwapSideData(token: Token): SwapSide\nfunction buildSwapSideData(token: Token, pool: Pool): Required<SwapSide>\nfunction buildSwapSideData(\n  token: Token,\n  pool?: Pool,\n): Required<SwapSide> | SwapSide {\n  return {\n    symbol: token.symbol,\n    poolName: pool?.name,\n    tokenIndex:\n      pool?.underlyingPoolTokens?.findIndex((t) => t === token) ||\n      pool?.poolTokens.findIndex((t) => t === token),\n  }\n}\n\nexport type SwapSide = {\n  symbol: string\n  poolName?: string\n  tokenIndex?: number\n}\n\nexport type SwapData =\n  | {\n      from: Required<SwapSide>\n      to: Required<SwapSide>\n      type: Exclude<SWAP_TYPES, SWAP_TYPES.INVALID>\n      route: string[]\n    }\n  | {\n      from: SwapSide\n      to: SwapSide\n      type: SWAP_TYPES.INVALID\n      route: string[]\n    }\n\nfunction getTradingPairsForToken(\n  tokensMap: TokensMap,\n  poolsMap: PoolsMap,\n  poolsSortedByTVL: Pool[],\n  tokenToPoolsMap: TokenToPoolsMap,\n  originToken: Token,\n): SwapData[] {\n  const allTokens = Object.values(tokensMap).filter(\n    ({ isLPToken }) => !isLPToken,\n  )\n  const synthPoolsSet = new Set(\n    poolsSortedByTVL.filter(({ isSynthetic }) => isSynthetic),\n  )\n  const originTokenPoolsSet = new Set(\n    tokenToPoolsMap[originToken.symbol].map((poolName) => poolsMap[poolName]),\n  )\n  const originPoolsSynthSet = intersection(synthPoolsSet, originTokenPoolsSet)\n  const tokenToSwapDataMap: { [symbol: string]: SwapData } = {} // object is used for deduping\n\n  allTokens.forEach((token) => {\n    // Base Case: Invalid trade, eg token with itself\n    let swapData: SwapData = {\n      from: buildSwapSideData(originToken),\n      to: buildSwapSideData(token),\n      type: SWAP_TYPES.INVALID,\n      route: [],\n    }\n    const tokenPoolsSet = new Set(\n      tokenToPoolsMap[token.symbol].map((poolName) => poolsMap[poolName]),\n    )\n    const tokenPoolsSynthSet = intersection(synthPoolsSet, tokenPoolsSet)\n    const sharedPoolsSet = intersection(originTokenPoolsSet, tokenPoolsSet)\n\n    /**\n     * sToken = synth, Token = nonsynth\n     * sPool = synth, Pool = nonsynth\n     * sPool(TokenA) <> sTokenB = nonsynth token in synth pool swapping with synth token\n     */\n\n    // Case 1: TokenA <> TokenA\n    if (originToken === token) {\n      // fall through to default \"invalid\" swapData\n    }\n    // Case 2: poolA(TokenA) <> poolA(TokenB)\n    else if (sharedPoolsSet.size > 0) {\n      const tradePool = [...sharedPoolsSet][0]\n      swapData = {\n        type: SWAP_TYPES.DIRECT,\n        from: buildSwapSideData(originToken, tradePool),\n        to: buildSwapSideData(token, tradePool),\n        route: [originToken.symbol, token.symbol],\n      }\n    }\n\n    // Case 3: sTokenA <> sTokenB\n    else if (originToken.isSynthetic && token.isSynthetic) {\n      const originPool = [...originTokenPoolsSet][0]\n      const destinationPool = [...tokenPoolsSet][0]\n      swapData = {\n        type: SWAP_TYPES.SYNTH_TO_SYNTH,\n        from: buildSwapSideData(originToken, originPool),\n        to: buildSwapSideData(token, destinationPool),\n        route: [originToken.symbol, token.symbol],\n      }\n    }\n\n    // Case 4: sTokenA <> sPool(TokenB)\n    else if (\n      originToken.isSynthetic &&\n      !token.isSynthetic &&\n      tokenPoolsSynthSet.size > 0\n    ) {\n      const originPool = [...originTokenPoolsSet][0]\n      const destinationPool = [...tokenPoolsSynthSet][0]\n      const middleSynth = destinationPool.poolTokens.find(\n        ({ isSynthetic }) => isSynthetic,\n      )\n      if (middleSynth) {\n        swapData = {\n          type: SWAP_TYPES.SYNTH_TO_TOKEN,\n          from: buildSwapSideData(originToken, originPool),\n          to: buildSwapSideData(token, destinationPool),\n          route: [originToken.symbol, middleSynth.symbol, token.symbol],\n        }\n      }\n    }\n\n    // Case 5: sPoolA(TokenA) <> sPoolB(TokenB)\n    else if (\n      !originToken.isSynthetic &&\n      originPoolsSynthSet.size > 0 &&\n      !token.isSynthetic &&\n      tokenPoolsSynthSet.size > 0\n    ) {\n      const originPool = [...originPoolsSynthSet][0]\n      const destinationPool = [...tokenPoolsSynthSet][0]\n      const originSynth = originPool.poolTokens.find(\n        ({ isSynthetic }) => isSynthetic,\n      )\n      const destinationSynth = destinationPool.poolTokens.find(\n        ({ isSynthetic }) => isSynthetic,\n      )\n      if (originSynth && destinationSynth) {\n        swapData = {\n          type: SWAP_TYPES.TOKEN_TO_TOKEN,\n          from: buildSwapSideData(originToken, originPool),\n          to: buildSwapSideData(token, destinationPool),\n          route: [\n            originToken.symbol,\n            originSynth.symbol,\n            destinationSynth.symbol,\n            token.symbol,\n          ],\n        }\n      }\n    }\n\n    // Case 6: sPool(TokenA) <> sTokenB\n    else if (\n      !originToken.isSynthetic &&\n      originPoolsSynthSet.size > 0 &&\n      token.isSynthetic\n    ) {\n      const originPool = [...originPoolsSynthSet][0]\n      const destinationPool = [...tokenPoolsSet][0]\n      const middleSynth = originPool.poolTokens.find(\n        ({ isSynthetic }) => isSynthetic,\n      )\n      if (middleSynth) {\n        swapData = {\n          type: SWAP_TYPES.TOKEN_TO_SYNTH,\n          from: buildSwapSideData(originToken, originPool),\n          to: buildSwapSideData(token, destinationPool),\n          route: [originToken.symbol, middleSynth.symbol, token.symbol],\n        }\n      }\n    }\n\n    // TO-DO: clean this logic up\n    // Case 7: poolA(TokenA) <> poolB(TokenB) (temp workaround for tokens from diff pools)\n    else if (sharedPoolsSet.size === 0) {\n      const originPool = [...originTokenPoolsSet].find(\n        ({ isOutdated }) => !isOutdated,\n      )\n      const destinationPool = [...tokenPoolsSet].find(\n        ({ isOutdated }) => !isOutdated,\n      )\n      const metaSwapPool = originPool?.metaSwapAddresses\n        ? originPool\n        : destinationPool\n      if (\n        !(originPool?.metaSwapAddresses && destinationPool?.metaSwapAddresses)\n      ) {\n        swapData = {\n          type: SWAP_TYPES.DIRECT,\n          from: buildSwapSideData(originToken, metaSwapPool!),\n          to: buildSwapSideData(token, metaSwapPool!),\n          route: [originToken.symbol, token.symbol],\n        }\n      }\n    }\n\n    // use this swap only if we haven't already calculated a better swap for the pair\n    const existingTokenSwapData: SwapData | undefined =\n      tokenToSwapDataMap[token.symbol]\n    const existingSwapIdx = SWAP_TYPES_ORDERED_ASC.indexOf(\n      existingTokenSwapData?.type,\n    )\n    const newSwapIdx = SWAP_TYPES_ORDERED_ASC.indexOf(swapData.type)\n    if (!existingTokenSwapData || newSwapIdx > existingSwapIdx) {\n      tokenToSwapDataMap[token.symbol] = swapData\n    }\n  })\n\n  return Object.values(tokenToSwapDataMap)\n}\n\nexport const __test__ = {\n  getTradingPairsForToken,\n}\n","import { ChainId, POOLS_MAP, PoolName, PoolTypes } from \"../constants\"\nimport { Contract, Provider } from \"ethcall\"\nimport { MulticallContract, MulticallProvider } from \"../types/ethcall\"\nimport { useEffect, useState } from \"react\"\n\nimport { AppState } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport LPTOKEN_UNGUARDED_ABI from \"../constants/abis/lpTokenUnguarded.json\"\nimport { LpTokenUnguarded } from \"../../types/ethers-contracts/LpTokenUnguarded\"\nimport { parseUnits } from \"@ethersproject/units\"\nimport { useActiveWeb3React } from \".\"\nimport { useSelector } from \"react-redux\"\n\nexport default function usePoolTVLs(): { [poolName in PoolName]?: BigNumber } {\n  const { chainId, library } = useActiveWeb3React()\n  const { tokenPricesUSD } = useSelector((state: AppState) => state.application)\n  const [poolTvls, setPoolTvls] = useState<\n    { [poolName in PoolName]?: BigNumber }\n  >({})\n\n  useEffect(() => {\n    if (\n      Object.keys(poolTvls).length > 0 && // only run once\n      tokenPricesUSD?.BTC &&\n      tokenPricesUSD?.ETH\n    )\n      return\n    async function fetchTVLs() {\n      if (!library || !chainId) return\n      const ethcallProvider = new Provider() as MulticallProvider\n\n      await ethcallProvider.init(library)\n      // override the contract address when using aurora\n      if (chainId == ChainId.AURORA_TESTNET) {\n        ethcallProvider.multicallAddress =\n          \"0x508B1508AAd923fB24F6d13cD74Ac640fD8B66E8\"\n      } else if (chainId == ChainId.AURORA_MAINNET) {\n        ethcallProvider.multicallAddress =\n          \"0x49eb1F160e167aa7bA96BdD88B6C1f2ffda5212A\"\n      }\n\n      const pools = Object.values(POOLS_MAP)\n      const supplyCalls = pools\n        .map((p) => {\n          return new Contract(\n            p.lpToken.addresses[chainId],\n            LPTOKEN_UNGUARDED_ABI,\n          ) as MulticallContract<LpTokenUnguarded>\n        })\n        .map((c) => c.totalSupply())\n\n      try {\n        const tvls = await ethcallProvider.all(supplyCalls, \"latest\")\n        const tvlsUSD = pools.map((pool, i) => {\n          const tvlAmount = tvls[i]\n          let tokenValue = 0\n          if (pool.type === PoolTypes.BTC) {\n            tokenValue = tokenPricesUSD?.BTC || 0\n          } else if (pool.type === PoolTypes.ETH) {\n            tokenValue = tokenPricesUSD?.ETH || 0\n          } else {\n            tokenValue = 1 // USD\n          }\n          return parseUnits(tokenValue.toFixed(2), 2)\n            .mul(tvlAmount)\n            .div(BigNumber.from(10).pow(2)) //1e18\n        })\n        setPoolTvls((prevState) => {\n          return pools.reduce(\n            (acc, pool, i) => ({\n              ...acc,\n              [pool.name]: tvlsUSD[i],\n            }),\n            prevState,\n          )\n        })\n      } catch (e) {\n        console.error(e)\n      }\n    }\n    void fetchTVLs()\n  }, [chainId, library, tokenPricesUSD, poolTvls])\n  return poolTvls\n}\n","var _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.78933 11.0039C8.26249 11.0039 7.73565 11.0039 7.20882 11.0039C6.83657 11.0039 6.4806 11.3495 6.49688 11.7553C6.51315 12.1632 6.81013 12.5066 7.20882 12.5066C7.73565 12.5066 8.26249 12.5066 8.78933 12.5066C9.16157 12.5066 9.51754 12.161 9.50127 11.7553C9.485 11.3495 9.19005 11.0039 8.78933 11.0039Z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7.30393 7.50085C7.60136 7.50085 7.89648 7.50085 8.19391 7.50085C7.92415 7.24918 7.65669 6.99966 7.38693 6.74799C7.38693 7.31156 7.38693 7.87514 7.38693 8.43871C7.38693 9.33785 7.38693 10.2348 7.38693 11.134C7.38693 11.3405 7.38693 11.547 7.38693 11.7535C7.38693 12.1471 7.75814 12.5236 8.19391 12.5064C8.63199 12.4891 9.00089 12.1751 9.00089 11.7535C9.00089 11.1899 9.00089 10.6263 9.00089 10.0628C9.00089 9.16362 9.00089 8.26663 9.00089 7.36749C9.00089 7.16099 9.00089 6.95449 9.00089 6.74799C9.00089 6.34144 8.63199 5.99512 8.19391 5.99512C7.89648 5.99512 7.60136 5.99512 7.30393 5.99512C6.88199 5.99512 6.4785 6.34144 6.49695 6.74799C6.51539 7.15669 6.85202 7.50085 7.30393 7.50085Z\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7.45299 4.49198C7.45299 4.50083 7.45299 4.50746 7.45078 4.51631C7.45962 4.44776 7.46846 4.3792 7.47951 4.31065C7.47509 4.33498 7.47067 4.35709 7.45962 4.3792C7.48614 4.31729 7.51267 4.25537 7.53698 4.19345C7.53035 4.20672 7.52372 4.2222 7.51267 4.23325C7.55245 4.18018 7.59223 4.12932 7.63423 4.07625C7.61876 4.09615 7.60328 4.10942 7.5856 4.1249C7.63865 4.08509 7.68948 4.04529 7.74253 4.00327C7.72927 4.01212 7.71601 4.02096 7.70275 4.0276C7.76463 4.00106 7.82652 3.97452 7.88841 3.9502C7.86409 3.95904 7.8442 3.96568 7.81989 3.9701C7.88841 3.96126 7.95692 3.95241 8.02544 3.94135C8.00997 3.94356 7.99229 3.94356 7.97681 3.94135C8.04533 3.9502 8.11385 3.95904 8.18237 3.9701C8.15805 3.96568 8.13595 3.96126 8.11385 3.9502C8.17574 3.97673 8.23762 4.00327 8.29951 4.0276C8.28625 4.02096 8.27078 4.01433 8.25972 4.00327C8.31277 4.04308 8.36361 4.08288 8.41665 4.1249C8.39676 4.10942 8.3835 4.09394 8.36803 4.07625C8.40781 4.12932 8.44759 4.18018 8.48959 4.23325C8.48075 4.21999 8.47191 4.20672 8.46528 4.19345C8.4918 4.25537 8.51832 4.31729 8.54263 4.3792C8.53379 4.35488 8.52716 4.33498 8.52274 4.31065C8.53158 4.3792 8.54042 4.44776 8.55148 4.51631C8.54927 4.50083 8.54927 4.48314 8.55148 4.46766C8.54263 4.53621 8.53379 4.60476 8.52274 4.67332C8.52716 4.64899 8.53158 4.62688 8.54263 4.60476C8.51611 4.66668 8.48959 4.7286 8.46528 4.79052C8.47191 4.77725 8.47854 4.76177 8.48959 4.75071C8.44981 4.80379 8.41002 4.85465 8.36803 4.90772C8.3835 4.88782 8.39897 4.87455 8.41665 4.85907C8.36361 4.89888 8.31277 4.93868 8.25972 4.9807C8.27299 4.97185 8.28625 4.963 8.29951 4.95637C8.23762 4.98291 8.17574 5.00944 8.11385 5.03377C8.13816 5.02492 8.15805 5.01829 8.18237 5.01387C8.11385 5.02271 8.04533 5.03156 7.97681 5.04261C7.99229 5.0404 8.00997 5.0404 8.02544 5.04261C7.95692 5.03377 7.88841 5.02492 7.81989 5.01387C7.8442 5.01829 7.8663 5.02271 7.88841 5.03377C7.82652 5.00723 7.76463 4.9807 7.70275 4.95637C7.71601 4.963 7.73148 4.96964 7.74253 4.9807C7.68948 4.94089 7.63865 4.90109 7.5856 4.85907C7.60549 4.87455 7.61876 4.89003 7.63423 4.90772C7.59444 4.85465 7.55466 4.80379 7.51267 4.75071C7.52151 4.76398 7.53035 4.77725 7.53698 4.79052C7.51045 4.7286 7.48393 4.66668 7.45962 4.60476C7.46846 4.62909 7.47509 4.64899 7.47951 4.67332C7.47067 4.60476 7.46183 4.53621 7.45078 4.46766C7.45078 4.47429 7.45299 4.48314 7.45299 4.49198C7.46404 4.69764 7.53256 4.89224 7.68064 5.03819C7.81547 5.17309 8.03428 5.2726 8.22657 5.26596C8.4277 5.25712 8.63325 5.19078 8.7725 5.03819C8.90732 4.89224 9.0112 4.69543 9.00015 4.49198C8.98689 4.22441 8.89848 3.97673 8.70619 3.78435C8.52053 3.59859 8.26193 3.49023 7.99892 3.49023C7.44415 3.49023 7.01315 3.94799 6.99768 4.49198C6.98221 5.03377 7.45962 5.48489 7.98566 5.49373C8.24425 5.49816 8.51611 5.39201 8.69735 5.20847C8.89406 5.00944 8.98468 4.7684 8.99794 4.49198C9.00899 4.29959 8.90511 4.07846 8.77029 3.94578C8.63547 3.81088 8.41665 3.71137 8.22436 3.718C7.78894 3.73791 7.47509 4.05856 7.45299 4.49198Z\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14.7367 7.99866C14.7367 8.3344 14.7132 8.66834 14.6699 9.00048C14.6771 8.94452 14.6843 8.88856 14.6933 8.8326C14.6049 9.47702 14.4316 10.1052 14.1789 10.7045C14.2005 10.6539 14.2222 10.6034 14.2421 10.5528C13.9966 11.1305 13.6789 11.6738 13.2962 12.1702C13.3287 12.1269 13.3612 12.0853 13.3955 12.042C13.0056 12.5474 12.5507 13.0005 12.0453 13.3922C12.0886 13.3597 12.1301 13.3272 12.1734 13.2929C11.6752 13.6756 11.1319 13.9933 10.5561 14.2388C10.6066 14.2171 10.6572 14.1955 10.7077 14.1756C10.1084 14.4283 9.48023 14.6016 8.83582 14.6901C8.89178 14.6828 8.94773 14.6756 9.00369 14.6666C8.33942 14.7551 7.66432 14.7551 7.00004 14.6666C7.056 14.6738 7.11196 14.681 7.16792 14.6901C6.5235 14.6016 5.89533 14.4283 5.29604 14.1756C5.34658 14.1973 5.39712 14.2189 5.44767 14.2388C4.87004 13.9933 4.32671 13.6756 3.83031 13.2929C3.87363 13.3254 3.91515 13.3579 3.95847 13.3922C3.45304 13.0023 2.99997 12.5474 2.60826 12.042C2.64075 12.0853 2.67325 12.1269 2.70754 12.1702C2.32486 11.672 2.00717 11.1287 1.76168 10.5528C1.78334 10.6034 1.805 10.6539 1.82485 10.7045C1.57214 10.1052 1.39885 9.47702 1.3104 8.8326C1.31762 8.88856 1.32484 8.94452 1.33387 9.00048C1.24542 8.33621 1.24542 7.66111 1.33387 6.99684C1.32665 7.0528 1.31943 7.10876 1.3104 7.16472C1.39885 6.5203 1.57214 5.89214 1.82485 5.29285C1.80319 5.3434 1.78153 5.39394 1.76168 5.44448C2.00717 4.86686 2.32486 4.32353 2.70754 3.82713C2.67505 3.87046 2.64256 3.91197 2.60826 3.95529C2.99816 3.44987 3.45304 2.9968 3.95847 2.6051C3.91515 2.63759 3.87363 2.67008 3.83031 2.70438C4.32851 2.3217 4.87184 2.00401 5.44767 1.75852C5.39712 1.78018 5.34658 1.80184 5.29604 1.8217C5.89533 1.56899 6.5235 1.3957 7.16792 1.30725C7.11196 1.31447 7.056 1.32169 7.00004 1.33072C7.66432 1.24227 8.33942 1.24227 9.00369 1.33072C8.94773 1.3235 8.89178 1.31628 8.83582 1.30725C9.48023 1.3957 10.1084 1.56899 10.7077 1.8217C10.6572 1.80004 10.6066 1.77838 10.5561 1.75852C11.1337 2.00401 11.677 2.3217 12.1734 2.70438C12.1301 2.67189 12.0886 2.6394 12.0453 2.6051C12.5507 2.995 13.0038 3.44987 13.3955 3.95529C13.363 3.91197 13.3305 3.87046 13.2962 3.82713C13.6789 4.32534 13.9966 4.86866 14.2421 5.44448C14.2204 5.39394 14.1987 5.3434 14.1789 5.29285C14.4316 5.89214 14.6049 6.5203 14.6933 7.16472C14.6861 7.10876 14.6789 7.0528 14.6699 6.99684C14.7132 7.32898 14.7348 7.66292 14.7367 7.99866C14.7367 8.32899 15.0273 8.64488 15.3684 8.63044C15.7096 8.616 16.0002 8.35245 16.0002 7.99866C15.9966 6.36507 15.4948 4.72787 14.5417 3.39753C14.0489 2.70979 13.4713 2.11773 12.8016 1.60509C12.1662 1.11952 11.4568 0.745873 10.7077 0.471502C9.15171 -0.0989015 7.39355 -0.149443 5.80146 0.30724C4.27436 0.744068 2.87181 1.65022 1.86096 2.87767C1.31762 3.53832 0.891623 4.25674 0.568513 5.04736C0.259843 5.80369 0.086554 6.60695 0.0233759 7.41923C-0.104785 9.05824 0.303165 10.7424 1.15878 12.1467C1.98009 13.4969 3.21297 14.6143 4.65523 15.2659C5.04152 15.441 5.43864 15.5926 5.84659 15.7081C6.27259 15.8273 6.70762 15.9013 7.14625 15.9518C7.97479 16.0475 8.81596 15.9969 9.63186 15.8327C11.2023 15.5168 12.6752 14.6901 13.78 13.5312C14.8829 12.3742 15.6482 10.8778 15.8919 9.2929C15.9569 8.8651 15.9984 8.43368 16.0002 8.00046C16.0002 7.67014 15.7096 7.35425 15.3684 7.36869C15.0255 7.38313 14.7367 7.64487 14.7367 7.99866Z\"\n});\n\nfunction SvgInfo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgInfo);\nexport default __webpack_public_path__ + \"static/media/info.34e6e9fa.svg\";\nexport { ForwardRef as ReactComponent };","var _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1 8L8 15L15 8\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 15L8 0\"\n});\n\nfunction SvgThinArrowDown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"stepArrow\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgThinArrowDown);\nexport default __webpack_public_path__ + \"static/media/thinArrowDown.4da15561.svg\";\nexport { ForwardRef as ReactComponent };","export default __webpack_public_path__ + \"static/media/icon_down.cd4c2fb0.svg\";","import \"./ReviewSwap.scss\"\n\nimport React, { ReactElement, useState } from \"react\"\nimport { SWAP_TYPES, TOKENS_MAP, getIsVirtualSwap } from \"../constants\"\nimport { commify, formatBNToString } from \"../utils\"\n\nimport { AppState } from \"../state/index\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport Button from \"./Button\"\nimport HighPriceImpactConfirmation from \"./HighPriceImpactConfirmation\"\nimport { ReactComponent as ThinArrowDown } from \"../assets/icons/thinArrowDown.svg\"\nimport classnames from \"classnames\"\nimport { formatGasToString } from \"../utils/gas\"\nimport { formatSlippageToString } from \"../utils/slippage\"\nimport iconDown from \"../assets/icons/icon_down.svg\"\nimport { isHighPriceImpact } from \"../utils/priceImpact\"\nimport { useSelector } from \"react-redux\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  onClose: () => void\n  onConfirm: () => void\n  data: {\n    from: { symbol: string; value: string }\n    to: { symbol: string; value: string }\n    exchangeRateInfo: {\n      pair: string\n      priceImpact: BigNumber\n      exchangeRate: BigNumber\n      route: string[]\n    }\n    swapType: SWAP_TYPES\n    txnGasCost: {\n      amount: BigNumber\n      valueUSD: BigNumber | null // amount * ethPriceUSD\n    }\n  }\n}\n\nfunction ReviewSwap({ onClose, onConfirm, data }: Props): ReactElement {\n  const { t } = useTranslation()\n  const {\n    slippageCustom,\n    slippageSelected,\n    gasPriceSelected,\n    gasCustom,\n  } = useSelector((state: AppState) => state.user)\n  const { gasStandard, gasFast, gasInstant } = useSelector(\n    (state: AppState) => state.application,\n  )\n  const [\n    hasConfirmedHighPriceImpact,\n    setHasConfirmedHighPriceImpact,\n  ] = useState(false)\n  const isHighPriceImpactTxn = isHighPriceImpact(\n    data.exchangeRateInfo.priceImpact,\n  )\n  const isVirtualSwap = getIsVirtualSwap(data.swapType)\n\n  return (\n    <div className=\"reviewSwap\">\n      <h3>{t(\"reviewSwap\")}</h3>\n      <div className=\"swapTable\">\n        {isVirtualSwap ? (\n          <VirtualSwapTokens data={data} />\n        ) : (\n          <DirectSwapTokens data={data} />\n        )}\n        {data.swapType === SWAP_TYPES.SYNTH_TO_SYNTH && (\n          <div className=\"row\">\n            <span className=\"aside\">\n              {t(\"virtualSwapSynthToSynthInfo\")}{\" \"}\n              <a href=\"https://blog.synthetix.io/how-fee-reclamation-rebates-work/\">\n                {t(\"learnMore\")}\n              </a>\n            </span>\n          </div>\n        )}\n        <div className=\"divider\" style={{ height: \"1px\", width: \"100%\" }} />\n        <div className=\"swapInfo\">\n          <div className=\"priceTable\">\n            <span className=\"title\">{t(\"price\")} </span>\n            <span className=\"pair\">{data.exchangeRateInfo.pair}</span>\n            <button className=\"exchange\">\n              <svg\n                width=\"24\"\n                height=\"20\"\n                viewBox=\"0 0 24 20\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <path\n                  d=\"M17.4011 12.4196C17.4011 13.7551 16.5999 13.8505 16.4472 13.8505H6.62679L9.14986 11.3274L8.47736 10.6501L5.13869 13.9888C5.04986 14.0782 5 14.1991 5 14.3251C5 14.4511 5.04986 14.572 5.13869 14.6613L8.47736 18L9.14986 17.3275L6.62679 14.8044H16.4472C17.1054 14.8044 18.355 14.3274 18.355 12.4196V10.9888H17.4011V12.4196Z\"\n                  fill=\"#ffffff\"\n                />\n                <path\n                  d=\"M5.9539 7.58511C5.9539 6.24965 6.75519 6.15426 6.90781 6.15426H16.7283L14.2052 8.67733L14.8777 9.34984L18.2164 6.01117C18.3052 5.92181 18.355 5.80092 18.355 5.67492C18.355 5.54891 18.3052 5.42803 18.2164 5.33867L14.8777 2L14.2004 2.67727L16.7283 5.20035H6.90781C6.24962 5.20035 5 5.6773 5 7.58511V9.01597H5.9539V7.58511Z\"\n                  fill=\"#ffffff\"\n                />\n              </svg>\n            </button>\n            <span className=\"value floatRight\">\n              {formatBNToString(data.exchangeRateInfo.exchangeRate, 18, 6)}\n            </span>\n          </div>\n          <div className=\"row\">\n            <span className=\"title\">{t(\"gas\")}</span>\n            <span className=\"value floatRight\">\n              {formatGasToString(\n                { gasStandard, gasFast, gasInstant },\n                gasPriceSelected,\n                gasCustom,\n              )}{\" \"}\n              GWEI\n            </span>\n          </div>\n          {data.txnGasCost?.valueUSD && (\n            <div className=\"row\">\n              <span className=\"title\">{t(\"estimatedTxCost\")}</span>\n              <span className=\"value floatRight\">\n                {`$${commify(\n                  formatBNToString(data.txnGasCost.valueUSD, 2, 2),\n                )}`}\n              </span>\n            </div>\n          )}\n          <div className=\"row\">\n            <span className=\"title\">{t(\"maxSlippage\")}</span>\n            <span className=\"value floatRight\">\n              {formatSlippageToString(slippageSelected, slippageCustom)}%\n            </span>\n          </div>\n          {isHighPriceImpactTxn && (\n            <div className=\"row\">\n              <HighPriceImpactConfirmation\n                checked={hasConfirmedHighPriceImpact}\n                onCheck={(): void =>\n                  setHasConfirmedHighPriceImpact((prevState) => !prevState)\n                }\n              />\n            </div>\n          )}\n        </div>\n      </div>\n      <div className=\"bottom\">\n        <p>{t(\"estimatedOutput\")}</p>\n        <div className=\"buttonWrapper\">\n          <Button\n            onClick={onConfirm}\n            kind=\"primary\"\n            disabled={isHighPriceImpactTxn && !hasConfirmedHighPriceImpact}\n          >\n            {t(\"confirmSwap\")}\n          </Button>\n          <Button onClick={onClose} kind=\"cancel\">\n            {t(\"cancel\")}\n          </Button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction DirectSwapTokens({ data }: { data: Props[\"data\"] }) {\n  const fromToken = TOKENS_MAP[data.from.symbol]\n  const toToken = TOKENS_MAP[data.to.symbol]\n  return (\n    <>\n      <div className=\"row\">\n        <div style={{ display: \"flex\" }}>\n          <img className=\"tokenIcon\" src={fromToken.icon} alt=\"icon\" />\n          <span className=\"tokenName\">{data.from.symbol}</span>\n        </div>\n        <div>\n          <span>{data.from.value}</span>\n        </div>\n      </div>\n      <img src={iconDown} alt=\"to\" className=\"arrowDown\" />\n      <div className=\"row\">\n        <div style={{ display: \"flex\" }}>\n          <img className=\"tokenIcon\" src={toToken.icon} alt=\"icon\" />\n          <span className=\"tokenName\">{data.to.symbol}</span>\n        </div>\n\n        <div>\n          <span>{data.to.value}</span>\n        </div>\n      </div>\n    </>\n  )\n}\n\nfunction VirtualSwapTokens({ data }: { data: Props[\"data\"] }) {\n  const { t } = useTranslation()\n\n  return (\n    <>\n      {data.exchangeRateInfo.route.map((symbol, i) => {\n        const isFirst = i === 0\n        const isLast = i === data.exchangeRateInfo.route.length - 1\n        const token = TOKENS_MAP[symbol]\n        return (\n          <div className=\"row\" key={symbol}>\n            <div>\n              {!isFirst && !isLast && <ThinArrowDown className=\"stepArrow\" />}\n              <img className=\"tokenIcon\" src={token.icon} alt=\"icon\" />\n              <span className={classnames(\"tokenName\", { grey: isLast })}>\n                {token.symbol}\n              </span>\n\n              {(isFirst || isLast) && (\n                <span className=\"aside\">\n                  {\" \"}\n                  (\n                  {t(\"stepN\", {\n                    step: isFirst ? 1 : 2,\n                  })}\n                  )\n                </span>\n              )}\n            </div>\n            <div>\n              {isFirst && <span>{data.from.value}</span>}\n              {isLast && <span className=\"grey\">{data.to.value}</span>}\n            </div>\n          </div>\n        )\n      })}\n    </>\n  )\n}\n\nexport default ReviewSwap\n","import React, { ReactElement } from \"react\"\n\nimport styles from \"./Divider.module.scss\"\n\nconst Divider = (): ReactElement => <div className={styles.divider}></div>\n\nexport default Divider\n","import React, {\n  ReactElement,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\"\n\nimport Divider from \"./Divider\"\nimport { SWAP_TYPES } from \"../constants\"\nimport type { TokenOption } from \"../pages/Swap\"\nimport classnames from \"classnames\"\nimport { commify } from \"../utils\"\nimport { formatBNToString } from \"../utils\"\nimport styles from \"./SearchSelect.module.scss\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  tokensData: TokenOption[]\n  onSelect: (symbol: string) => void\n  value?: string\n}\n\nexport default function SearchSelect({\n  tokensData,\n  onSelect,\n}: Props): ReactElement {\n  const [searchTerm, setSearchTerm] = useState(\"\")\n  const [activeIndex, setActiveIndex] = useState<number | null>(null)\n  const inputRef = useRef<HTMLInputElement>(null)\n  const focusedItemRef = useRef<HTMLLIElement>(null)\n  const { t } = useTranslation()\n\n  useEffect(() => {\n    if (inputRef?.current != null) {\n      inputRef.current.focus()\n    }\n  }, [inputRef])\n  useEffect(() => {\n    // scroll active li into view if user got there via keyboard nav\n    if (focusedItemRef?.current != null) {\n      focusedItemRef.current.scrollIntoView()\n    }\n  }, [focusedItemRef, activeIndex])\n  const filteredTokens = useMemo(() => {\n    // filter tokens by user input\n    return tokensData.filter(({ symbol, name }) => {\n      const target = searchTerm.toLowerCase()\n      return (\n        symbol.toLowerCase().includes(target) ||\n        name.toLowerCase().includes(target)\n      )\n    })\n  }, [tokensData, searchTerm])\n  const lastSelectableIndex = useMemo(() => {\n    // find the last idx of isAvailable tokens\n    const lastAvailableIndex =\n      filteredTokens.findIndex(({ isAvailable }) => isAvailable === false) - 1\n    return lastAvailableIndex < 0\n      ? filteredTokens.length - 1\n      : lastAvailableIndex\n  }, [filteredTokens])\n\n  return (\n    <div className={styles.searchSelect}>\n      <div className={styles.inputContainer}>\n        <svg\n          width=\"24\"\n          height=\"24\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            d=\"M15.5 14H14.71L14.43 13.73C15.41 12.59 16 11.11 16 9.5C16 5.91 13.09 3 9.5 3C5.91 3 3 5.91 3 9.5C3 13.09 5.91 16 9.5 16C11.11 16 12.59 15.41 13.73 14.43L14 14.71V15.5L19 20.49L20.49 19L15.5 14ZM9.5 14C7.01 14 5 11.99 5 9.5C5 7.01 7.01 5 9.5 5C11.99 5 14 7.01 14 9.5C14 11.99 11.99 14 9.5 14Z\"\n            fill=\"#B1B1B1\"\n          />\n        </svg>\n\n        <input\n          value={searchTerm}\n          onChange={(e) => {\n            const inputValue = e.target.value\n            const nextActiveIndex = inputValue === \"\" ? null : 0\n            activeIndex !== nextActiveIndex && setActiveIndex(nextActiveIndex)\n            setSearchTerm(inputValue)\n          }}\n          ref={inputRef}\n          onFocus={() => activeIndex != null && setActiveIndex(null)}\n          onKeyDown={(e) => {\n            if (e.key === \"Enter\" && activeIndex != null) {\n              const token = filteredTokens[activeIndex]\n              token.isAvailable && onSelect(token.symbol)\n            } else if (e.key === \"ArrowUp\") {\n              setActiveIndex((prev) =>\n                prev === null || prev === 0 ? null : Math.max(0, prev - 1),\n              )\n            } else if (e.key === \"ArrowDown\") {\n              setActiveIndex((prev) =>\n                prev === null ? 0 : Math.min(lastSelectableIndex, prev + 1),\n              )\n            }\n          }}\n        />\n      </div>\n      <ul className={styles.listContainer}>\n        {filteredTokens.map((item, i) => {\n          return (\n            <li\n              key={item.symbol}\n              onClick={() => item.isAvailable && onSelect(item.symbol)}\n              ref={i === activeIndex ? focusedItemRef : null}\n            >\n              <Divider />\n              <ListItem {...item} isActive={i === activeIndex} />\n            </li>\n          )\n        })}\n        {filteredTokens.length === 0 ? (\n          <li className={styles.listItem}>{t(\"noTokensFound\")}</li>\n        ) : null}\n      </ul>\n    </div>\n  )\n}\n\nfunction ListItem({\n  amount,\n  valueUSD,\n  name,\n  icon,\n  symbol,\n  decimals,\n  isActive,\n  isAvailable,\n  swapType,\n}: TokenOption & { isActive: boolean }) {\n  const { t } = useTranslation()\n  const isVirtualSwap = ([\n    SWAP_TYPES.SYNTH_TO_SYNTH,\n    SWAP_TYPES.SYNTH_TO_TOKEN,\n    SWAP_TYPES.TOKEN_TO_SYNTH,\n    SWAP_TYPES.TOKEN_TO_TOKEN,\n  ] as Array<SWAP_TYPES | null>).includes(swapType)\n  return (\n    <div\n      className={classnames(styles.listItem, {\n        [styles.isActive]: isActive,\n        [styles.isUnavailable]: !isAvailable,\n        [styles.isAvailable]: isAvailable,\n      })}\n    >\n      <img src={icon} height=\"24px\" width=\"24px\" />\n      <div>\n        <div className={styles.tagWrapper}>\n          <b>{symbol}</b>\n          {!isAvailable && (\n            <span className={styles.unavailableTag}>{t(\"unavailable\")}</span>\n          )}\n          {isAvailable && isVirtualSwap && (\n            <span className={styles.virtualSwapTag}>{t(\"virtualSwap\")}</span>\n          )}\n        </div>\n        <p className={styles.textMinor}>{name}</p>\n      </div>\n      <div>\n        <p>{commify(formatBNToString(amount, decimals))}</p>\n        <p className={styles.textMinor}>\n          ${commify(formatBNToString(valueUSD, 18, 2))}\n        </p>\n      </div>\n    </div>\n  )\n}\n","import React, { ReactElement, useCallback, useRef, useState } from \"react\"\n\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport SearchSelect from \"./SearchSelect\"\nimport { TOKENS_MAP } from \"../constants\"\nimport type { TokenOption } from \"../pages/Swap\"\nimport classnames from \"classnames\"\nimport { commify } from \"../utils\"\nimport { formatBNToString } from \"../utils\"\nimport styles from \"./SwapInput.module.scss\"\nimport useDetectOutsideClick from \"../hooks/useDetectOutsideClick\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  tokens: TokenOption[]\n  selected: string\n  inputValue: string\n  inputValueUSD: BigNumber\n  isSwapFrom: boolean\n  onSelect?: (tokenSymbol: string) => void\n  onChangeAmount?: (value: string) => void\n}\nexport default function SwapInput({\n  tokens,\n  selected,\n  onSelect,\n  inputValue,\n  inputValueUSD,\n  isSwapFrom,\n  onChangeAmount,\n}: Props): ReactElement {\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false)\n  const wrapperRef = useRef(null)\n  const inputRef = useRef<HTMLInputElement>(null)\n  const { t } = useTranslation()\n  useDetectOutsideClick(\n    wrapperRef,\n    () => setIsDropdownOpen(false),\n    isDropdownOpen,\n  )\n  const handleSelect = useCallback(\n    (value: string) => {\n      onSelect?.(value)\n      setIsDropdownOpen(false)\n    },\n    [onSelect],\n  )\n\n  const selectedToken = TOKENS_MAP[selected]\n\n  const onChangeInput = (e: React.ChangeEvent<HTMLInputElement>): void => {\n    const decimals = selectedToken ? selectedToken.decimals : 18\n    // remove all chars that aren't a digit or a period\n    const newValue = e.target.value.replace(/[^\\d|.]/g, \"\")\n    // disallow more than one period\n    if (newValue.indexOf(\".\") !== newValue.lastIndexOf(\".\")) return\n    const parsedValue = parseFloat(\"0\" + newValue)\n    const periodIndex = newValue.indexOf(\".\")\n    const isValidInput = newValue === \"\" || !isNaN(parsedValue)\n    const isValidPrecision =\n      periodIndex === -1 || newValue.length - 1 - periodIndex <= decimals\n    if (isValidInput && isValidPrecision) {\n      // don't allow input longer than the token allows\n      onChangeAmount?.(newValue)\n    }\n  }\n\n  return (\n    <div className={styles.swapInputContainer}>\n      <div\n        className={classnames(\n          styles.selectGroup,\n          onSelect && styles.hoverPointer,\n        )}\n        onClick={() => onSelect && setIsDropdownOpen((prev) => !prev)}\n        tabIndex={0}\n        onKeyDown={(e) => {\n          if (onSelect && (e.key === \"Enter\" || e.key === \" \")) {\n            setIsDropdownOpen((prev) => !prev)\n          }\n        }}\n      >\n        {selectedToken && <img src={selectedToken.icon} />}\n        <div className={styles.tokenNameContainer}>\n          <div className={styles.symbolArrowContainer}>\n            <b className={styles.textBoldPurple}>\n              {selectedToken ? selectedToken.symbol : t(\"chooseToken\")}\n            </b>\n            &nbsp;\n            {onSelect && (\n              <svg\n                width=\"12\"\n                height=\"12\"\n                viewBox=\"0 0 12 12\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <path d=\"M10.0163 3L6 7.17206L1.98375 3L0.75 4.28441L6 9.75L11.25 4.28441L10.0163 3Z\" />\n              </svg>\n            )}\n          </div>\n          {selectedToken && (\n            <p className={styles.textMinor}>{selectedToken.name}</p>\n          )}\n        </div>\n      </div>\n      <div\n        className={classnames(\n          { [styles.focusable]: isSwapFrom },\n          styles.inputGroup,\n        )}\n        onClick={() => {\n          inputRef.current?.focus()\n        }}\n      >\n        <input\n          ref={inputRef}\n          autoComplete=\"off\"\n          autoCorrect=\"off\"\n          type=\"text\"\n          placeholder=\"0.0\"\n          spellCheck=\"false\"\n          value={isSwapFrom ? inputValue : commify(inputValue)}\n          onChange={onChangeInput}\n          onFocus={(e: React.ChangeEvent<HTMLInputElement>): void => {\n            if (isSwapFrom) {\n              e.target.select()\n            }\n          }}\n          readOnly={!isSwapFrom}\n          tabIndex={isSwapFrom ? 0 : -1}\n        />\n        <p className={styles.textMinor}>\n          ${commify(formatBNToString(inputValueUSD, 18, 2))}\n        </p>\n      </div>\n      {isDropdownOpen && (\n        <div className={styles.dropdownContainer} ref={wrapperRef}>\n          <SearchSelect tokensData={tokens} onSelect={handleSelect} />\n        </div>\n      )}\n    </div>\n  )\n}\n","import { RefObject, useEffect } from \"react\"\n\nexport default function useDetectOutsideClick(\n  elementRef: RefObject<HTMLElement>,\n  callback: () => void,\n  active: boolean,\n): void {\n  useEffect(() => {\n    const handleClick = (event: MouseEvent) => {\n      if (\n        active &&\n        elementRef?.current &&\n        !elementRef?.current.contains(event.target as Node)\n      ) {\n        event.preventDefault()\n        event.stopPropagation()\n        callback()\n      }\n    }\n    const handleKeyPress = (event: KeyboardEvent) => {\n      if (event.key === \"Escape\") {\n        callback()\n      }\n    }\n\n    if (active) {\n      document.addEventListener(\"keydown\", handleKeyPress, true)\n      document.addEventListener(\"click\", handleClick, true)\n    }\n\n    return () => {\n      document.addEventListener(\"keydown\", handleKeyPress, true)\n      document.removeEventListener(\"click\", handleClick, true)\n    }\n  }, [active, callback, elementRef])\n}\n","import \"./SwapPage.scss\"\n\nimport { Button, Center } from \"@chakra-ui/react\"\nimport { FaArrowDown, FaArrowUp } from \"react-icons/fa\"\nimport React, { ReactElement, useMemo, useState } from \"react\"\nimport { SWAP_TYPES, getIsVirtualSwap } from \"../constants\"\nimport { formatBNToPercentString, formatBNToString } from \"../utils\"\nimport useChakraToast, { TransactionType } from \"../hooks/useChakraToast\"\n\nimport AdvancedOptions from \"./AdvancedOptions\"\nimport { AppState } from \"../state/index\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport BlockExplorerLink from \"./BlockExplorerLink\"\nimport { BsSliders } from \"react-icons/bs\"\nimport { ContractReceipt } from \"@ethersproject/contracts\"\nimport { IconButtonPopover } from \"./Popover\"\nimport { ReactComponent as InfoIcon } from \"../assets/icons/info.svg\"\nimport Modal from \"./Modal\"\nimport ReviewSwap from \"./ReviewSwap\"\nimport { Slippages } from \"../state/user\"\nimport SwapInput from \"./SwapInput\"\nimport type { TokenOption } from \"../pages/Swap\"\nimport TopMenu from \"./TopMenu\"\nimport { Zero } from \"@ethersproject/constants\"\nimport classNames from \"classnames\"\nimport { commify } from \"../utils\"\nimport { isHighPriceImpact } from \"../utils/priceImpact\"\nimport { logEvent } from \"../utils/googleAnalytics\"\nimport { useActiveWeb3React } from \"../hooks\"\nimport { useSelector } from \"react-redux\"\nimport { useTranslation } from \"react-i18next\"\n\ninterface Props {\n  tokenOptions: {\n    from: TokenOption[]\n    to: TokenOption[]\n  }\n  exchangeRateInfo: {\n    pair: string\n    exchangeRate: BigNumber\n    priceImpact: BigNumber\n    route: string[]\n  }\n  txnGasCost: {\n    amount: BigNumber\n    valueUSD: BigNumber | null // amount * ethPriceUSD\n  }\n  error: string | null\n  swapType: SWAP_TYPES\n  fromState: { symbol: string; value: string; valueUSD: BigNumber }\n  toState: { symbol: string; value: string; valueUSD: BigNumber }\n  onChangeFromToken: (tokenSymbol: string) => void\n  onChangeFromAmount: (amount: string) => void\n  onChangeToToken: (tokenSymbol: string) => void\n  onConfirmTransaction: () => Promise<ContractReceipt | void>\n  onClickReverseExchangeDirection: () => void\n}\n\nconst SwapPage = (props: Props): ReactElement => {\n  const {\n    tokenOptions,\n    exchangeRateInfo,\n    txnGasCost,\n    error,\n    fromState,\n    toState,\n    swapType,\n    onChangeFromToken,\n    onChangeFromAmount,\n    onChangeToToken,\n    onConfirmTransaction,\n    onClickReverseExchangeDirection,\n  } = props\n\n  const { t } = useTranslation()\n  const { account } = useActiveWeb3React()\n  const toast = useChakraToast()\n\n  const [isOpen, setIsOpen] = useState(false)\n\n  const { slippageCustom, slippageSelected } = useSelector(\n    (state: AppState) => state.user,\n  )\n\n  const postTransaction = (\n    transactionType: TransactionType,\n    receipt?: ContractReceipt | null,\n    error?: { code: number; message: string },\n  ): void => {\n    const description = receipt?.transactionHash ? (\n      <BlockExplorerLink\n        txnType={transactionType}\n        txnHash={receipt?.transactionHash}\n        status={receipt?.status ? \"Succeeded\" : \"Failed\"}\n      />\n    ) : null\n    if (receipt?.status) {\n      toast.transactionSuccess({\n        txnType: transactionType,\n        description: description,\n      })\n    } else {\n      console.log(error)\n      toast.transactionFailed({\n        txnType: transactionType,\n        error,\n        description: description,\n      })\n    }\n  }\n\n  const preTransaction = (txnType: TransactionType) =>\n    toast.transactionPending({\n      txnType,\n    })\n\n  const fromToken = useMemo(() => {\n    return tokenOptions.from.find(({ symbol }) => symbol === fromState.symbol)\n  }, [tokenOptions.from, fromState.symbol])\n\n  const formattedPriceImpact = commify(\n    formatBNToPercentString(exchangeRateInfo.priceImpact, 18),\n  )\n  const formattedExchangeRate = commify(\n    formatBNToString(exchangeRateInfo.exchangeRate, 18, 6),\n  )\n  const formattedRoute = exchangeRateInfo.route.join(\" > \")\n  const formattedBalance = commify(\n    formatBNToString(fromToken?.amount || Zero, fromToken?.decimals || 0, 6),\n  )\n  const isVirtualSwap = getIsVirtualSwap(swapType)\n  const isHighSlippage =\n    slippageSelected === Slippages.OneTenth ||\n    (slippageSelected === Slippages.Custom &&\n      parseFloat(slippageCustom?.valueRaw || \"0\") < 0.5)\n\n  return (\n    <div className=\"swapPage\">\n      <TopMenu activeTab={\"swap\"} />\n      <div className=\"content\">\n        <div className=\"swapHeader\">\n          <h3 className=\"swapTitle\">{t(\"swap\")}</h3>\n          <IconButtonPopover\n            IconButtonProps={{\n              \"aria-label\": \"Configure Settings\",\n              variant: \"outline\",\n              size: \"lg\",\n              icon: <BsSliders size=\"25px\" />,\n              title: \"Configure Settings\",\n            }}\n            PopoverBodyContent={<AdvancedOptions />}\n          />\n        </div>\n        <div className=\"swapForm\">\n          <div className=\"row\">\n            <h3 className=\"swapTitle\">{t(\"from\")}</h3>\n            <div className=\"balanceContainer\">\n              <span>{t(\"balance\")}:</span>\n              &nbsp;\n              <a\n                onClick={() => {\n                  if (fromToken == null) return\n                  const amtStr = formatBNToString(\n                    fromToken.amount,\n                    fromToken.decimals || 0,\n                  )\n                  onChangeFromAmount(amtStr)\n                }}\n              >\n                {formattedBalance}\n              </a>\n            </div>\n          </div>\n          <div className=\"row\">\n            <SwapInput\n              tokens={tokenOptions.from.filter(\n                ({ symbol }) => symbol !== toState.symbol,\n              )}\n              onSelect={onChangeFromToken}\n              onChangeAmount={onChangeFromAmount}\n              selected={fromState.symbol}\n              inputValue={fromState.value}\n              inputValueUSD={fromState.valueUSD}\n              isSwapFrom={true}\n            />\n          </div>\n          <div className=\"row swapButtonContainer\">\n            <h3 className=\"swapTitle\">{t(\"to\")}</h3>\n            <Button\n              variant=\"light\"\n              width=\"50px\"\n              size=\"sm\"\n              onClick={onClickReverseExchangeDirection}\n              disabled={!fromState.symbol || !toState.symbol}\n            >\n              <FaArrowUp size=\"1em\" />\n              <FaArrowDown size=\"1em\" />\n            </Button>\n          </div>\n          <div className=\"row\">\n            <SwapInput\n              tokens={tokenOptions.to.filter(\n                ({ symbol }) => symbol !== fromState.symbol,\n              )}\n              onSelect={onChangeToToken}\n              selected={toState.symbol}\n              inputValue={toState.value}\n              inputValueUSD={toState.valueUSD}\n              isSwapFrom={false}\n            />\n          </div>\n          <div style={{ height: \"24px\" }}></div>\n          {fromState.symbol && toState.symbol && (\n            <div className=\"row\">\n              <div>\n                <span>{t(\"rate\")}</span>\n                &nbsp;\n                <span>{exchangeRateInfo.pair}</span>\n                &nbsp;\n              </div>\n              <span className=\"exchRate\">{formattedExchangeRate}</span>\n            </div>\n          )}\n          <div className=\"row\">\n            <span>{t(\"priceImpact\")}</span>\n            <span>{formattedPriceImpact}</span>\n          </div>\n          {formattedRoute && (\n            <>\n              <div className=\"row\">\n                <span>{t(\"route\")}</span>\n                <span>{formattedRoute}</span>\n              </div>\n              {isVirtualSwap && (\n                <div className=\"row\">\n                  <span></span>\n                  <span>\n                    <a\n                      href=\"https://docs.saddle.finance/saddle-faq#what-is-virtual-swap\"\n                      style={{ textDecoration: \"underline\" }}\n                      target=\"_blank\"\n                      rel=\"noreferrer\"\n                    >\n                      ({t(\"virtualSwap\")})\n                    </a>\n                  </span>\n                </div>\n              )}\n              {isVirtualSwap && isHighSlippage && (\n                <div className=\"exchangeWarning\">\n                  {t(\"lowSlippageVirtualSwapWarning\")}\n                </div>\n              )}\n            </>\n          )}\n        </div>\n        {account && isHighPriceImpact(exchangeRateInfo.priceImpact) ? (\n          <div className=\"exchangeWarning\">\n            {t(\"highPriceImpact\", {\n              rate: formattedPriceImpact,\n            })}\n          </div>\n        ) : null}\n        {isVirtualSwap && (\n          <div className=\"virtualSwapInfoBubble\">\n            <InfoIcon />\n            {t(\"crossAssetSwapsUseVirtualSwaps\")} {\"<\"}\n            <a\n              href=\"https://docs.saddle.finance/saddle-faq#what-is-virtual-swap\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              {t(\"learnMore\")}\n            </a>\n            {\">\"}\n          </div>\n        )}\n        <Center width=\"100%\" className=\"submitButtonWrapper\">\n          <Button\n            variant=\"primary\"\n            size=\"lg\"\n            width=\"100%\"\n            onClick={(): void => {\n              setIsOpen(true)\n            }}\n            disabled={!!error || +toState.value <= 0}\n          >\n            {t(\"swap\")}\n          </Button>\n          <div className={classNames({ showError: !!error }, \"error\")}>\n            {error}\n          </div>\n        </Center>\n        <Modal isOpen={isOpen} onClose={(): void => setIsOpen(false)}>\n          <ReviewSwap\n            onClose={(): void => setIsOpen(false)}\n            onConfirm={async () => {\n              setIsOpen(false)\n              logEvent(\"swap\", {\n                from: fromState.symbol,\n                to: toState.symbol,\n              })\n              preTransaction(TransactionType.SWAP)\n              try {\n                const receipt = (await onConfirmTransaction?.()) as ContractReceipt\n                postTransaction(TransactionType.SWAP, receipt)\n              } catch (e) {\n                const error = e as { code: number; message: string }\n                postTransaction(TransactionType.SWAP, null, {\n                  code: error.code,\n                  message: error.message,\n                })\n              }\n            }}\n            data={{\n              from: fromState,\n              to: toState,\n              exchangeRateInfo,\n              txnGasCost,\n              swapType,\n            }}\n          />\n        </Modal>\n      </div>\n    </div>\n  )\n}\n\nexport default SwapPage\n","/* eslint @typescript-eslint/no-unsafe-assignment: 0 */\n/* eslint @typescript-eslint/no-unsafe-call: 0 */\nimport {\n  IS_VIRTUAL_SWAP_ACTIVE,\n  POOLS_MAP,\n  PoolName,\n  SWAP_TYPES,\n  TOKENS_MAP,\n  isMetaPool,\n} from \"../constants\"\nimport React, {\n  ReactElement,\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n} from \"react\"\nimport {\n  SwapData,\n  SwapSide,\n  useCalculateSwapPairs,\n} from \"../hooks/useCalculateSwapPairs\"\nimport {\n  calculateExchangeRate,\n  calculatePrice,\n  formatBNToString,\n  shiftBNDecimals,\n} from \"../utils\"\nimport { formatUnits, parseUnits } from \"@ethersproject/units\"\nimport {\n  useBridgeContract,\n  usePoolContract,\n  useSynthetixExchangeRatesContract,\n} from \"../hooks/useContract\"\n\nimport { AppState } from \"../state/index\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { ContractReceipt } from \"@ethersproject/contracts\"\nimport SwapPage from \"../components/SwapPage\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { calculateGasEstimate } from \"../utils/gasEstimate\"\nimport { calculatePriceImpact } from \"../utils/priceImpact\"\nimport { debounce } from \"lodash\"\n// import { ethers } from \"ethers\"\n// import { formatGasToString } from \"../utils/gas\"\nimport { useActiveWeb3React } from \"../hooks\"\nimport { useApproveAndSwap } from \"../hooks/useApproveAndSwap\"\nimport { usePoolTokenBalances } from \"../state/wallet/hooks\"\nimport { useSelector } from \"react-redux\"\nimport { useTranslation } from \"react-i18next\"\nimport { utils } from \"ethers\"\n\ntype FormState = {\n  error: null | string\n  from: {\n    value: string\n    valueUSD: BigNumber\n  } & SwapSide\n  to: {\n    value: BigNumber\n    valueUSD: BigNumber\n    valueSynth: BigNumber\n  } & SwapSide\n  priceImpact: BigNumber\n  exchangeRate: BigNumber\n  route: string[]\n  swapType: SWAP_TYPES\n  currentSwapPairs: SwapData[]\n}\nexport interface TokenOption {\n  symbol: string\n  name: string\n  valueUSD: BigNumber\n  amount: BigNumber\n  icon: string\n  decimals: number\n  swapType: SWAP_TYPES | null\n  isAvailable: boolean\n}\n\nconst EMPTY_FORM_STATE = {\n  error: null,\n  from: {\n    symbol: \"\",\n    value: \"0.0\",\n    valueUSD: Zero,\n  },\n  to: {\n    symbol: \"\",\n    value: Zero,\n    valueUSD: Zero,\n    valueSynth: Zero,\n  },\n  priceImpact: Zero,\n  exchangeRate: Zero,\n  route: [],\n  swapType: SWAP_TYPES.INVALID,\n  currentSwapPairs: [],\n}\n\nfunction Swap(): ReactElement {\n  const { t } = useTranslation()\n  const { chainId } = useActiveWeb3React()\n  const approveAndSwap = useApproveAndSwap()\n  const tokenBalances = usePoolTokenBalances()\n  const bridgeContract = useBridgeContract()\n  const snxEchangeRatesContract = useSynthetixExchangeRatesContract()\n  const calculateSwapPairs = useCalculateSwapPairs()\n  const { tokenPricesUSD } = useSelector((state: AppState) => state.application)\n\n  const [formState, setFormState] = useState<FormState>(EMPTY_FORM_STATE)\n  const [prevFormState, setPrevFormState] = useState<FormState>(\n    EMPTY_FORM_STATE,\n  )\n\n  const swapContract = usePoolContract(\n    formState.to.poolName as PoolName | undefined,\n  )\n  // build a representation of pool tokens for the UI\n  const tokenOptions = useMemo(() => {\n    const allTokens = Object.values(TOKENS_MAP)\n      .filter(({ isLPToken }) => !isLPToken)\n      .map(({ symbol, name, icon, decimals }) => {\n        const amount = tokenBalances?.[symbol] || Zero\n        return {\n          name,\n          icon,\n          symbol,\n          decimals,\n          amount,\n          valueUSD: calculatePrice(amount, tokenPricesUSD?.[symbol], decimals),\n          isAvailable: true,\n          swapType: null,\n        }\n      })\n      .sort(sortTokenOptions)\n    const toTokens =\n      formState.currentSwapPairs.length > 0\n        ? formState.currentSwapPairs\n            .map(({ to, type: swapType }) => {\n              const { symbol, name, icon, decimals } = TOKENS_MAP[to.symbol]\n              const amount = tokenBalances?.[symbol] || Zero\n              return {\n                name,\n                icon,\n                symbol,\n                decimals,\n                amount,\n                valueUSD: calculatePrice(\n                  amount,\n                  tokenPricesUSD?.[symbol],\n                  decimals,\n                ),\n                swapType,\n                isAvailable: IS_VIRTUAL_SWAP_ACTIVE\n                  ? swapType !== SWAP_TYPES.INVALID\n                  : swapType === SWAP_TYPES.DIRECT, // TODO replace once VSwaps are live\n              }\n            })\n            .sort(sortTokenOptions)\n        : allTokens\n    // from: all tokens always available. to: limited by selected \"from\" token.\n    return {\n      from: allTokens,\n      to: toTokens,\n    }\n  }, [tokenPricesUSD, tokenBalances, formState.currentSwapPairs])\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const calculateSwapAmount = useCallback(\n    debounce(async (formStateArg: FormState) => {\n      if (formStateArg.swapType === SWAP_TYPES.INVALID) return\n      if (tokenBalances === null || chainId == null)\n        // || bridgeContract == null\n        return\n      if (\n        formStateArg.from.tokenIndex === undefined ||\n        formStateArg.from.poolName === undefined ||\n        formStateArg.to.tokenIndex === undefined ||\n        formStateArg.to.poolName === undefined\n      )\n        return\n      const cleanedFormFromValue = formStateArg.from.value.replace(/[$,]/g, \"\")\n      if (\n        cleanedFormFromValue === \"\" ||\n        isNaN(+cleanedFormFromValue) ||\n        formStateArg.to.symbol === \"\"\n      ) {\n        setFormState((prevState) => ({\n          ...prevState,\n          to: {\n            ...prevState.to,\n            value: Zero,\n          },\n          priceImpact: Zero,\n        }))\n        return\n      }\n      const amountToGive = parseUnits(\n        cleanedFormFromValue,\n        TOKENS_MAP[formStateArg.from.symbol].decimals,\n      )\n      const tokenFrom = TOKENS_MAP[formStateArg.from.symbol]\n      const tokenTo = TOKENS_MAP[formStateArg.to.symbol]\n      let error: string | null = null\n      let amountToReceive = Zero\n      let amountMediumSynth = Zero\n      if (amountToGive.gt(tokenBalances[formStateArg.from.symbol] || Zero)) {\n        error = t(\"insufficientBalance\")\n      }\n      if (amountToGive.isZero()) {\n        amountToReceive = Zero\n      } else if (\n        formStateArg.swapType === SWAP_TYPES.TOKEN_TO_TOKEN &&\n        bridgeContract != null\n      ) {\n        const originPool = POOLS_MAP[formStateArg.from.poolName]\n        const destinationPool = POOLS_MAP[formStateArg.to.poolName]\n        const [\n          amountOutSynth,\n          amountOutToken,\n        ] = await bridgeContract.calcTokenToToken(\n          [originPool.addresses[chainId], destinationPool.addresses[chainId]],\n          formStateArg.from.tokenIndex,\n          formStateArg.to.tokenIndex,\n          amountToGive,\n        )\n        amountToReceive = amountOutToken\n        amountMediumSynth = amountOutSynth\n      } else if (\n        formStateArg.swapType === SWAP_TYPES.SYNTH_TO_TOKEN &&\n        bridgeContract != null\n      ) {\n        const destinationPool = POOLS_MAP[formStateArg.to.poolName]\n        const [\n          amountOutSynth,\n          amountOutToken,\n        ] = await bridgeContract.calcSynthToToken(\n          destinationPool.addresses[chainId],\n          utils.formatBytes32String(formStateArg.from.symbol),\n          formStateArg.to.tokenIndex,\n          amountToGive,\n        )\n        amountToReceive = amountOutToken\n        amountMediumSynth = amountOutSynth\n      } else if (\n        formStateArg.swapType === SWAP_TYPES.TOKEN_TO_SYNTH &&\n        bridgeContract != null\n      ) {\n        const originPool = POOLS_MAP[formStateArg.from.poolName]\n        amountToReceive = await bridgeContract.calcTokenToSynth(\n          originPool.addresses[chainId],\n          formStateArg.from.tokenIndex,\n          utils.formatBytes32String(formStateArg.to.symbol),\n          amountToGive,\n        )\n        // TO-DO: we need to clean this\n      } else if (\n        formStateArg.swapType === SWAP_TYPES.DIRECT &&\n        swapContract != null\n      ) {\n        if (\n          isMetaPool(formState.from.poolName) ||\n          isMetaPool(formState.to.poolName)\n        ) {\n          amountToReceive = await swapContract.get_dy_underlying(\n            formStateArg.from.tokenIndex,\n            formStateArg.to.tokenIndex,\n            amountToGive,\n          )\n        } else {\n          amountToReceive = await swapContract.get_dy(\n            formStateArg.from.tokenIndex,\n            formStateArg.to.tokenIndex,\n            amountToGive,\n          )\n        }\n      } else if (\n        formStateArg.swapType === SWAP_TYPES.SYNTH_TO_SYNTH &&\n        snxEchangeRatesContract != null\n      ) {\n        amountToReceive = await snxEchangeRatesContract.effectiveValue(\n          utils.formatBytes32String(formStateArg.from.symbol),\n          amountToGive,\n          utils.formatBytes32String(formStateArg.to.symbol),\n        )\n      }\n      const toValueUSD = calculatePrice(\n        amountToReceive,\n        tokenPricesUSD?.[tokenTo.symbol],\n        tokenTo.decimals,\n      )\n      const priceImpact = calculatePriceImpact(\n        formStateArg.from.valueUSD,\n        toValueUSD,\n      )\n      setFormState((prevState) => {\n        const newState = {\n          ...prevState,\n          error,\n          to: {\n            ...prevState.to,\n            value: amountToReceive,\n            valueUSD: toValueUSD,\n            valueSynth: amountMediumSynth,\n          },\n          priceImpact,\n          exchangeRate: calculateExchangeRate(\n            amountToGive,\n            tokenFrom.decimals,\n            amountToReceive,\n            tokenTo.decimals,\n          ),\n        }\n        setPrevFormState(newState)\n        return newState\n      })\n    }, 250),\n    [tokenBalances, swapContract, bridgeContract, chainId, tokenPricesUSD],\n  )\n\n  useEffect(() => {\n    // watch user input fields and calculate other fields if necessary\n    if (\n      prevFormState.from.symbol !== formState.from.symbol ||\n      prevFormState.from.value !== formState.from.value ||\n      prevFormState.to.symbol !== formState.to.symbol\n    ) {\n      void calculateSwapAmount(formState)\n    }\n  }, [prevFormState, formState, calculateSwapAmount])\n\n  function handleUpdateAmountFrom(value: string): void {\n    setFormState((prevState) => {\n      const nextState = {\n        ...prevState,\n        from: {\n          ...prevState.from,\n          value,\n          valueUSD: calculatePrice(\n            value,\n            tokenPricesUSD?.[prevState.from.symbol],\n          ),\n        },\n      }\n      return nextState\n    })\n  }\n  function handleReverseExchangeDirection(): void {\n    setFormState((prevState) => {\n      const swapPairs = calculateSwapPairs(TOKENS_MAP[prevState.to.symbol])\n      const activeSwapPair = swapPairs.find(\n        (pair) => pair.to.symbol === prevState.from.symbol,\n      )\n      const nextState = {\n        error: null,\n        from: {\n          symbol: prevState.to.symbol,\n          value: formatBNToString(\n            prevState.to.value,\n            TOKENS_MAP[prevState.to.symbol].decimals,\n            TOKENS_MAP[prevState.to.symbol].decimals,\n          ),\n          valueUSD: calculatePrice(\n            prevState.from.value,\n            tokenPricesUSD?.[prevState.to.symbol],\n          ),\n          poolName: activeSwapPair?.from.poolName,\n          tokenIndex: activeSwapPair?.from.tokenIndex,\n        },\n        to: {\n          symbol: prevState.from.symbol,\n          value: Zero,\n          valueUSD: Zero,\n          valueSynth: Zero,\n          poolName: activeSwapPair?.to.poolName,\n          tokenIndex: activeSwapPair?.to.tokenIndex,\n        },\n        priceImpact: Zero,\n        exchangeRate: Zero,\n        route: activeSwapPair?.route || [],\n        currentSwapPairs: swapPairs,\n        swapType: activeSwapPair?.type || SWAP_TYPES.INVALID,\n      }\n      return nextState\n    })\n  }\n  function handleUpdateTokenFrom(symbol: string): void {\n    if (symbol === formState.to.symbol) return handleReverseExchangeDirection()\n    setFormState((prevState) => {\n      const swapPairs = calculateSwapPairs(TOKENS_MAP[symbol])\n      const activeSwapPair = swapPairs.find(\n        (pair) => pair.to.symbol === prevState.to.symbol,\n      )\n      const isValidSwap =\n        IS_VIRTUAL_SWAP_ACTIVE && activeSwapPair\n          ? activeSwapPair.type !== SWAP_TYPES.INVALID\n          : activeSwapPair?.type === SWAP_TYPES.DIRECT\n      const fromDecimals = TOKENS_MAP[prevState.from.symbol]?.decimals || 0\n      const toDecimals = TOKENS_MAP[symbol]?.decimals || 0\n      const nextState = {\n        ...prevState,\n        error: null,\n        from: {\n          ...prevState.from,\n          symbol,\n          value:\n            fromDecimals > toDecimals\n              ? (+prevState.from.value).toFixed(toDecimals)\n              : prevState.from.value,\n          valueUSD: calculatePrice(\n            prevState.from.value,\n            tokenPricesUSD?.[symbol],\n          ),\n          poolName: activeSwapPair?.from.poolName,\n          tokenIndex: activeSwapPair?.from.tokenIndex,\n        },\n        to: {\n          ...prevState.to,\n          value: Zero,\n          valueSynth: Zero,\n          valueUSD: Zero,\n          symbol: isValidSwap ? prevState.to.symbol : \"\",\n          poolName: isValidSwap ? activeSwapPair?.to.poolName : undefined,\n          tokenIndex: isValidSwap ? activeSwapPair?.to.tokenIndex : undefined,\n        },\n        priceImpact: Zero,\n        exchangeRate: Zero,\n        route: activeSwapPair?.route || [],\n        currentSwapPairs: swapPairs,\n        swapType: activeSwapPair?.type || SWAP_TYPES.INVALID,\n      }\n      return nextState\n    })\n  }\n\n  function handleUpdateTokenTo(symbol: string): void {\n    if (symbol === formState.from.symbol)\n      return handleReverseExchangeDirection()\n    setFormState((prevState) => {\n      const activeSwapPair = prevState.currentSwapPairs.find(\n        (pair) => pair.to.symbol === symbol,\n      )\n      const nextState = {\n        ...prevState,\n        from: {\n          ...prevState.from,\n          ...(activeSwapPair?.from || {}),\n        },\n        error: null,\n        to: {\n          ...prevState.to,\n          value: Zero,\n          valueSynth: Zero,\n          symbol,\n          valueUSD: Zero,\n          poolName: activeSwapPair?.to.poolName,\n          tokenIndex: activeSwapPair?.to.tokenIndex,\n        },\n        priceImpact: Zero,\n        exchangeRate: Zero,\n        route: activeSwapPair?.route || [],\n        swapType: activeSwapPair?.type || SWAP_TYPES.INVALID,\n      }\n      return nextState\n    })\n  }\n\n  async function handleConfirmTransaction(): Promise<ContractReceipt | void> {\n    const fromToken = TOKENS_MAP[formState.from.symbol]\n    if (\n      formState.swapType === SWAP_TYPES.INVALID ||\n      formState.from.tokenIndex === undefined ||\n      formState.from.poolName === undefined ||\n      formState.to.tokenIndex === undefined ||\n      formState.to.poolName === undefined\n    ) {\n      console.debug(\"Invalid transaction\", formState)\n      setFormState((prevState) => ({\n        ...EMPTY_FORM_STATE,\n        error: \"Invalid Transaction\",\n        from: {\n          ...prevState.from,\n          value: \"0.0\",\n          valueUSD: Zero,\n        },\n      }))\n      return\n    }\n    const receipt = await approveAndSwap({\n      bridgeContract: bridgeContract,\n      poolContract: swapContract,\n      from: {\n        amount: parseUnits(formState.from.value, fromToken.decimals),\n        symbol: formState.from.symbol,\n        poolName: formState.from.poolName,\n        tokenIndex: formState.from.tokenIndex,\n      },\n      to: {\n        amount: formState.to.value,\n        symbol: formState.to.symbol,\n        poolName: formState.to.poolName,\n        tokenIndex: formState.to.tokenIndex,\n        amountMediumSynth: formState.to.valueSynth,\n      },\n      swapType: formState.swapType,\n    })\n    // Clear input after deposit\n    setFormState((prevState) => ({\n      error: null,\n      from: {\n        ...prevState.from,\n        value: \"0.0\",\n        valueUSD: Zero,\n      },\n      to: {\n        ...prevState.to,\n        value: Zero,\n        valueUSD: Zero,\n      },\n      priceImpact: Zero,\n      exchangeRate: Zero,\n      route: prevState.route,\n      currentSwapPairs: prevState.currentSwapPairs,\n      swapType: prevState.swapType,\n    }))\n    return receipt\n  }\n\n  const gasPrice = Zero\n  const gasAmount = calculateGasEstimate(formState.swapType).mul(gasPrice) // units of gas * GWEI/Unit of gas\n\n  const txnGasCost = {\n    amount: gasAmount,\n    valueUSD: tokenPricesUSD?.ETH\n      ? parseUnits(tokenPricesUSD.ETH.toFixed(2), 18) // USD / ETH  * 10^18\n          .mul(gasAmount) // GWEI\n          .div(BigNumber.from(10).pow(25)) // USD / ETH * GWEI * ETH / GWEI = USD\n      : null,\n  }\n\n  return (\n    <SwapPage\n      tokenOptions={tokenOptions}\n      exchangeRateInfo={{\n        pair: `${formState.from.symbol}/${formState.to.symbol}`,\n        exchangeRate: formState.exchangeRate,\n        priceImpact: formState.priceImpact,\n        route: formState.route,\n      }}\n      txnGasCost={txnGasCost}\n      fromState={formState.from}\n      toState={{\n        ...formState.to,\n        value:\n          formState.to.symbol === \"\"\n            ? \"0\"\n            : formatUnits(\n                formState.to.value,\n                TOKENS_MAP[formState.to.symbol].decimals,\n              ),\n      }}\n      swapType={formState.swapType}\n      onChangeFromAmount={handleUpdateAmountFrom}\n      onChangeFromToken={handleUpdateTokenFrom}\n      onChangeToToken={handleUpdateTokenTo}\n      error={formState.error}\n      onConfirmTransaction={handleConfirmTransaction}\n      onClickReverseExchangeDirection={handleReverseExchangeDirection}\n    />\n  )\n}\n\nexport default Swap\n\nconst sortTokenOptions = (a: TokenOption, b: TokenOption) => {\n  if (a.isAvailable !== b.isAvailable) {\n    return a.isAvailable ? -1 : 1\n  }\n  // if either is invalid, put the valid one first\n  if (a.swapType === SWAP_TYPES.INVALID || b.swapType === SWAP_TYPES.INVALID) {\n    return a.swapType === SWAP_TYPES.INVALID ? 1 : -1\n  }\n  if (a.valueUSD.eq(b.valueUSD)) {\n    const amountA = shiftBNDecimals(a.amount, 18 - a.decimals)\n    const amountB = shiftBNDecimals(b.amount, 18 - b.decimals)\n    return amountA.gt(amountB) ? -1 : 1\n  } else if (a.valueUSD.gt(b.valueUSD)) {\n    return -1\n  }\n  return 1\n}\n","/* eslint @typescript-eslint/no-explicit-any: 0 */\n/* eslint @typescript-eslint/no-unsafe-assignment: 0 */\n/* eslint @typescript-eslint/no-unsafe-call: 0 */\n/* eslint @typescript-eslint/no-unsafe-member-access: 0 */\n/* eslint @typescript-eslint/no-unsafe-return: 0 */\n/* eslint sort-imports: 0 */\nimport {\n  Contract,\n  ContractReceipt,\n  ContractTransaction,\n} from \"@ethersproject/contracts\"\nimport {\n  ChainId,\n  isMetaPool,\n  POOLS_MAP,\n  SWAP_TYPES,\n  TRANSACTION_TYPES,\n} from \"../constants\"\n\nimport { AppState } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport { Erc20 } from \"../../types/ethers-contracts/Erc20\"\nimport { Bridge } from \"../../types/ethers-contracts/Bridge\"\nimport checkAndApproveTokenForTrade from \"../utils/checkAndApproveTokenForTrade\"\nimport { GasPrices } from \"../state/user\"\nimport { parseUnits } from \"@ethersproject/units\"\nimport { Zero } from \"@ethersproject/constants\"\nimport { subtractSlippage } from \"../utils/slippage\"\nimport { updateLastTransactionTimes } from \"../state/application\"\nimport { useActiveWeb3React } from \".\"\nimport { useAllContracts } from \"./useContract\"\nimport { useDispatch } from \"react-redux\"\nimport { useSelector } from \"react-redux\"\nimport { utils } from \"ethers\"\n\ntype Contracts = {\n  poolContract: Contract | null\n  bridgeContract: Bridge | null\n}\ntype SwapSide = {\n  amount: BigNumber\n  symbol: string\n  poolName: string\n  tokenIndex: number\n}\ntype FormState = {\n  from: SwapSide\n  to: SwapSide & { amountMediumSynth: BigNumber }\n  swapType: Exclude<SWAP_TYPES, SWAP_TYPES.INVALID>\n}\ntype ApproveAndSwapStateArgument = FormState & Contracts\n\nexport function useApproveAndSwap(): (\n  state: ApproveAndSwapStateArgument,\n) => Promise<ContractReceipt | void> {\n  const dispatch = useDispatch()\n  const tokenContracts = useAllContracts()\n  const { account, chainId } = useActiveWeb3React()\n  const { gasStandard, gasFast, gasInstant } = useSelector(\n    (state: AppState) => state.application,\n  )\n  const {\n    slippageCustom,\n    slippageSelected,\n    gasPriceSelected,\n    gasCustom,\n    infiniteApproval,\n  } = useSelector((state: AppState) => state.user)\n  return async function approveAndSwap(\n    state: ApproveAndSwapStateArgument,\n  ): Promise<ContractReceipt | void> {\n    try {\n      if (!account) throw new Error(\"Wallet must be connected\")\n      if (state.swapType === SWAP_TYPES.DIRECT && !state.poolContract)\n        throw new Error(\"Swap contract is not loaded\")\n      if (state.swapType !== SWAP_TYPES.DIRECT && !state.bridgeContract)\n        throw new Error(\"Bridge contract is not loaded\")\n      if (chainId === undefined) throw new Error(\"Unknown chain\")\n      // For each token being deposited, check the allowance and approve it if necessary\n      const tokenContract = tokenContracts?.[state.from.symbol] as Erc20\n      // const gasPrice = Zero\n      let gasPrice\n      if (gasPriceSelected === GasPrices.Custom) {\n        gasPrice = gasCustom?.valueSafe\n      } else if (gasPriceSelected === GasPrices.Fast) {\n        gasPrice = gasFast\n      } else if (gasPriceSelected === GasPrices.Instant) {\n        gasPrice = gasInstant\n      } else {\n        gasPrice = gasStandard\n      }\n      gasPrice =\n        chainId === ChainId.AURORA_MAINNET\n          ? parseUnits(gasPrice?.toString() || \"45\", \"gwei\")\n          : Zero\n      if (tokenContract == null) return\n      let addressToApprove = \"\"\n      if (state.swapType === SWAP_TYPES.DIRECT) {\n        addressToApprove = state.poolContract?.address as string\n      } else {\n        addressToApprove = state.bridgeContract?.address as string\n      }\n      await checkAndApproveTokenForTrade(\n        tokenContract,\n        addressToApprove,\n        account,\n        state.from.amount,\n        infiniteApproval,\n        gasPrice,\n      )\n      let swapTransaction: ContractTransaction\n      if (state.swapType === SWAP_TYPES.TOKEN_TO_TOKEN) {\n        const originPool = POOLS_MAP[state.from.poolName]\n        const destinationPool = POOLS_MAP[state.to.poolName]\n        const args = [\n          [\n            originPool.addresses[chainId],\n            destinationPool.addresses[chainId],\n          ] as [string, string],\n          state.from.tokenIndex,\n          state.to.tokenIndex,\n          state.from.amount,\n          subtractSlippage(\n            state.to.amountMediumSynth,\n            slippageSelected,\n            slippageCustom,\n          ), // subtract slippage from minSynth\n          { gasPrice },\n        ] as const\n        console.debug(\"swap - tokenToToken\", args)\n        swapTransaction = await (state.bridgeContract as Bridge).tokenToToken(\n          ...args,\n        )\n      } else if (state.swapType === SWAP_TYPES.SYNTH_TO_TOKEN) {\n        const destinationPool = POOLS_MAP[state.to.poolName]\n        const args = [\n          destinationPool.addresses[chainId],\n          utils.formatBytes32String(state.from.symbol),\n          state.to.tokenIndex,\n          state.from.amount,\n          subtractSlippage(\n            state.to.amountMediumSynth,\n            slippageSelected,\n            slippageCustom,\n          ), // subtract slippage from minSynth\n          { gasPrice },\n        ] as const\n        console.debug(\"swap - synthToToken\", args)\n        swapTransaction = await (state.bridgeContract as Bridge).synthToToken(\n          ...args,\n        )\n      } else if (state.swapType === SWAP_TYPES.TOKEN_TO_SYNTH) {\n        const originPool = POOLS_MAP[state.from.poolName]\n        const args = [\n          originPool.addresses[chainId],\n          state.from.tokenIndex,\n          utils.formatBytes32String(state.to.symbol),\n          state.from.amount,\n          subtractSlippage(state.to.amount, slippageSelected, slippageCustom),\n          { gasPrice },\n        ] as const\n        console.debug(\"swap - tokenToSynth\", args)\n        swapTransaction = await (state.bridgeContract as Bridge).tokenToSynth(\n          ...args,\n        )\n      } else if (state.swapType === SWAP_TYPES.DIRECT) {\n        if (isMetaPool(state.from.poolName) || isMetaPool(state.to.poolName)) {\n          const args = [\n            state.from.tokenIndex,\n            state.to.tokenIndex,\n            state.from.amount,\n            subtractSlippage(state.to.amount, slippageSelected, slippageCustom),\n            { gasPrice },\n          ] as const\n          console.debug(\"exchange_underlying - direct\", args)\n          swapTransaction = await (state.poolContract as NonNullable<\n            typeof state.poolContract // we already check for nonnull above\n          >).exchange_underlying(...args)\n        } else {\n          const args = [\n            state.from.tokenIndex,\n            state.to.tokenIndex,\n            state.from.amount,\n            subtractSlippage(state.to.amount, slippageSelected, slippageCustom),\n            { gasPrice },\n          ] as const\n          console.debug(\"exchange - direct\", args)\n          swapTransaction = await (state.poolContract as NonNullable<\n            typeof state.poolContract // we already check for nonnull above\n          >).exchange(...args)\n        }\n      } else {\n        throw new Error(\"Invalid Swap Type, or contract not loaded\")\n      }\n\n      dispatch(\n        updateLastTransactionTimes({\n          [TRANSACTION_TYPES.SWAP]: Date.now(),\n        }),\n      )\n      return await swapTransaction?.wait()\n    } catch (e) {\n      const error = e as { code: number; message: string }\n      throw error\n    }\n  }\n}\n","import React, { useEffect, useState } from \"react\"\nimport { useEagerConnect, useInactiveListener } from \"../../hooks\"\n\nimport { NetworkContextName } from \"../../constants\"\nimport { network } from \"../../connectors\"\nimport { useWeb3React } from \"@web3-react/core\"\n\nexport default function Web3ReactManager({\n  children,\n}: {\n  children: JSX.Element\n}): JSX.Element | null {\n  const { active } = useWeb3React()\n  const {\n    active: networkActive,\n    error: networkError,\n    activate: activateNetwork,\n  } = useWeb3React(NetworkContextName)\n\n  // try to eagerly connect to an injected provider, if it exists and has granted access already\n  const triedEager = useEagerConnect()\n\n  // after eagerly trying injected, if the network connect ever isn't active or in an error state, activate it\n  useEffect(() => {\n    if (triedEager && !networkActive && !networkError && !active) {\n      void activateNetwork(network)\n    }\n  }, [triedEager, networkActive, networkError, activateNetwork, active])\n\n  // when there's no account connected, react to logins (broadly speaking) on the injected provider, if it exists\n  useInactiveListener(!triedEager)\n\n  // handle delayed loader state\n  const [showLoader, setShowLoader] = useState(false)\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      setShowLoader(true)\n    }, 600)\n\n    return (): void => {\n      clearTimeout(timeout)\n    }\n  }, [])\n\n  // on page load, do nothing until we've tried to connect to the injected connector\n  if (!triedEager) {\n    return null\n  }\n\n  // if the account context isn't active, and there's an error on the network context, it's an irrecoverable error\n  if (!active && networkError) {\n    return (\n      // TODO: style\n      <h1>Unknown error</h1>\n    )\n  }\n\n  // if neither context is active, spin\n  if (!active && !networkActive) {\n    // TODO: style and/or add proper loader\n    return showLoader ? <h1>Loading...</h1> : null\n  }\n\n  return children\n}\n","import { AppDispatch } from \"../state\"\nimport retry from \"async-retry\"\nimport { updateGasPrices } from \"../state/application\"\n\ninterface GenericGasReponse {\n  gasStandard: number\n  gasFast: number\n  gasInstant: number\n}\n// interface POAGasResponse {\n//   standard: number\n//   fast: number\n//   instant: number\n//   health: boolean\n// }\n\n// interface GasNowGasResponse {\n//   code: number\n//   data: {\n//     rapid: number\n//     fast: number\n//     standard: number\n//   }\n// }\n// const fetchGasPricePOA = (): Promise<GenericGasReponse> =>\n//   fetch(\"https://gasprice.poa.network/\")\n//     .then((res) => res.json())\n//     .then((body: POAGasResponse) => {\n//       const { standard, fast, instant, health } = body\n//       if (health) {\n//         return {\n//           gasStandard: Math.round(standard),\n//           gasFast: Math.round(fast),\n//           gasInstant: Math.round(instant),\n//         }\n//       }\n//       throw new Error(\"Unable to fetch gas price from POA Network\")\n//     })\n\n// const fetchGasPriceGasNow = (): Promise<GenericGasReponse> =>\n//   fetch(\"https://www.gasnow.org/api/v3/gas/price?utm_source=saddle\")\n//     .then((res) => res.json())\n//     .then((body: GasNowGasResponse) => {\n//       const {\n//         code,\n//         data: { rapid, fast, standard },\n//       } = body\n//       if (code >= 200 && code < 300) {\n//         return {\n//           gasStandard: Math.round(standard / 1e9),\n//           gasFast: Math.round(fast / 1e9),\n//           gasInstant: Math.round(rapid / 1e9),\n//         }\n//       }\n//       throw new Error(\"Unable to fetch gas price from GasNow Network\")\n//     })\n\nconst manualGasPrice = (): Promise<GenericGasReponse> =>\n  Promise.resolve({\n    gasStandard: 0.3,\n    gasFast: 0.3,\n    gasInstant: 0.3,\n  })\n\nexport default async function fetchGasPrices(\n  dispatch: AppDispatch,\n): Promise<void> {\n  const dispatchUpdate = (gasPrices: GenericGasReponse) => {\n    dispatch(updateGasPrices(gasPrices))\n  }\n  await retry(\n    () =>\n      manualGasPrice() // try gaspricenow first\n        .then(dispatchUpdate),\n    {\n      retries: 3,\n    },\n  )\n}\n","import { AppDispatch } from \"../state\"\nimport retry from \"async-retry\"\nimport { updateSwapStats } from \"../state/application\"\n\nconst swapStatsURI = \"https://ipfs.saddle.exchange/swap-stats.json\"\n\nexport interface SwapStatsReponse {\n  [swapAddress: string]: {\n    oneDayVolume: number\n    APY: number\n    TVL: number\n  }\n}\n\nconst fetchSwapStatsNow = (): Promise<SwapStatsReponse> =>\n  fetch(`${swapStatsURI}`, { cache: \"no-cache\" })\n    .then((res) => {\n      if (res.status >= 200 && res.status < 300) {\n        return res.json()\n      }\n      throw new Error(\"Unable to fetch swap stats from IPFS\")\n    })\n    .then((body: SwapStatsReponse) => {\n      return body\n    })\n\nexport default async function fetchSwapStats(\n  dispatch: AppDispatch,\n): Promise<void> {\n  const dispatchUpdate = (swapStats: SwapStatsReponse) => {\n    dispatch(updateSwapStats(swapStats))\n  }\n  await retry(() => fetchSwapStatsNow().then(dispatchUpdate), {\n    retries: 3,\n  })\n}\n","import { ChainId, TOKENS_MAP, VETH2_SWAP_ADDRESSES } from \"../constants\"\nimport { formatUnits, parseUnits } from \"@ethersproject/units\"\n\nimport { AppDispatch } from \"../state\"\nimport { BigNumber } from \"@ethersproject/bignumber\"\nimport SWAP_ABI from \"../constants/abis/swapFlashLoan.json\"\nimport { SwapFlashLoan } from \"../../types/ethers-contracts/SwapFlashLoan\"\nimport { Web3Provider } from \"@ethersproject/providers\"\nimport { getContract } from \"./index\"\nimport retry from \"async-retry\"\nimport { updateTokensPricesUSD } from \"../state/application\"\n\nconst coinGeckoAPI = \"https://api.coingecko.com/api/v3/simple/price\"\nconst rosePriceApi =\n  \"https://raw.githubusercontent.com/RoseOnAurora/apr/master/rose.json\"\n\ninterface CoinGeckoReponse {\n  [tokenSymbol: string]: {\n    usd: number\n  }\n}\n\ninterface RosePriceResponse {\n  [tokenSymbol: string]: string\n}\nconst otherTokens = {\n  ETH: \"ethereum\",\n  WETH: \"ethereum\",\n  VETH2: \"ethereum\", // TODO: pull vETH2 price once it's added to coingecko\n  BTC: \"bitcoin\",\n  KEEP: \"keep-network\",\n  SGT: \"sharedstake-governance-token\",\n  ALCX: \"alchemix\",\n  ROSE: \"rose\",\n}\n\nexport default function fetchTokenPricesUSD(\n  dispatch: AppDispatch,\n  chainId?: ChainId,\n  library?: Web3Provider,\n): void {\n  const tokens = Object.values(TOKENS_MAP)\n  const tokenIds = Array.from(\n    new Set(\n      tokens.map(({ geckoId }) => geckoId).concat(Object.values(otherTokens)),\n    ),\n  )\n  void retry(\n    () =>\n      fetch(`${coinGeckoAPI}?ids=${encodeURIComponent(\n        tokenIds.join(\",\"),\n      )}&vs_currencies=usd\n    `)\n        .then((res) => res.json())\n        .then(async (body: CoinGeckoReponse) => {\n          const otherTokensResult = Object.keys(otherTokens).reduce(\n            (acc, key) => {\n              return {\n                ...acc,\n                [key]: body?.[otherTokens[key as keyof typeof otherTokens]].usd,\n              }\n            },\n            {} as { [symbol: string]: number },\n          )\n          let result = tokens.reduce((acc, token) => {\n            return { ...acc, [token.symbol]: body?.[token.geckoId]?.usd }\n          }, otherTokensResult)\n          result.alETH = result?.ETH || result.alETH || 0 // TODO: remove once CG price is fixed\n          if (chainId === ChainId.MAINNET) {\n            const vEth2Price = await getVeth2Price(\n              result?.ETH,\n              chainId,\n              library,\n            )\n            result.VETH2 = vEth2Price || result?.ETH | 0\n          }\n          void fetch(rosePriceApi)\n            .then((res) => res.json())\n            .then((body: RosePriceResponse[]) => {\n              result = {\n                ...result,\n                stROSE: +body[0].price_of_strose || 0,\n              }\n              dispatch(updateTokensPricesUSD(result))\n            })\n        }),\n    { retries: 3 },\n  )\n}\n\nasync function getVeth2Price(\n  etherPrice: number,\n  chainId?: ChainId,\n  library?: Web3Provider,\n): Promise<number> {\n  if (!etherPrice || !library) return 0\n  try {\n    const swapContract = getContract(\n      chainId ? VETH2_SWAP_ADDRESSES[chainId] : \"\",\n      SWAP_ABI,\n      library,\n    ) as SwapFlashLoan\n    const veth2ToEthRate = await swapContract.calculateSwap(\n      1,\n      0,\n      BigNumber.from(10).pow(18),\n    )\n    const eth = parseUnits(etherPrice.toString(), 18)\n    const vEth2Price = parseFloat(formatUnits(veth2ToEthRate.mul(eth), 36))\n    return vEth2Price\n  } catch (e) {\n    console.error(e)\n    return etherPrice\n  }\n}\n","import \"../styles/global.scss\"\nimport \"./NotifyStyle.scss\"\n\nimport { AppDispatch, AppState } from \"../state\"\nimport {\n  BLOCK_TIME,\n  BORROW_MARKET_MAP,\n  FARMS_MAP,\n  POOLS_MAP,\n} from \"../constants\"\nimport React, { ReactElement, Suspense, useCallback, useEffect } from \"react\"\nimport { Route, Switch } from \"react-router-dom\"\nimport { isChainSupportedByNotify, notify } from \"../utils/notifyHandler\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport Borrow from \"./Borrow\"\nimport BorrowCountdownLanding from \"../components/BorrowCountdownLanding\"\nimport BorrowMarkets from \"./BorrowMarkets\"\nimport Farm from \"./Farm\"\nimport Farms from \"./Farms\"\nimport Pool from \"./Pool\"\nimport Pools from \"./Pools\"\nimport Stake from \"./Stake\"\nimport Swap from \"./Swap\"\nimport Web3ReactManager from \"../components/Web3ReactManager\"\nimport fetchFarmStats from \"../utils/fetchFarmStats\"\nimport fetchGasPrices from \"../utils/updateGasPrices\"\nimport fetchRosePriceHistory from \"../utils/fetchRosePriceHistory\"\nimport fetchStakeStats from \"../utils/fetchStakeStats\"\nimport fetchSwapStats from \"../utils/getSwapStats\"\nimport fetchTokenPricesUSD from \"../utils/updateTokenPrices\"\nimport { useActiveWeb3React } from \"../hooks\"\nimport useCountDown from \"react-countdown-hook\"\nimport usePoller from \"../hooks/usePoller\"\n\nexport default function App(): ReactElement {\n  const { chainId } = useActiveWeb3React()\n  const { userDarkMode } = useSelector((state: AppState) => state.user)\n  const [timeLeft, actions] = useCountDown(\n    new Date(1649343600000).getTime() - Date.now(),\n    1000,\n  )\n  useEffect(() => {\n    actions.start()\n  }, [actions])\n\n  useEffect(() => {\n    notify?.config({\n      networkId: isChainSupportedByNotify(chainId) ? chainId : undefined,\n      darkMode: userDarkMode,\n    })\n  }, [chainId, userDarkMode])\n\n  return (\n    <Suspense fallback={null}>\n      <Web3ReactManager>\n        <GasAndTokenPrices>\n          <Switch>\n            <Route exact path=\"/\" component={Swap} />\n            <Route exact path=\"/pools\" component={Pools} />\n            <Route exact path=\"/farms\" component={Farms} />\n            <Route exact path=\"/stake\" component={Stake} />\n            <Route\n              exact\n              path=\"/borrow\"\n              render={() =>\n                timeLeft ? (\n                  <BorrowCountdownLanding timeLeft={timeLeft} />\n                ) : (\n                  <BorrowMarkets />\n                )\n              }\n            />\n            {Object.values(POOLS_MAP).map(({ name, route }) => (\n              <Route\n                exact\n                path={`/pools/${route}`}\n                render={(props) => <Pool {...props} poolName={name} />}\n                key={`${name}-pool`}\n              />\n            ))}\n            {Object.values(FARMS_MAP).map(({ name, route }) => (\n              <Route\n                exact\n                path={`/farms/${route}`}\n                render={(props) => <Farm {...props} farmName={name} />}\n                key={`${name}-farm`}\n              />\n            ))}\n            {Object.values(BORROW_MARKET_MAP).map(\n              ({ name, route, isStable }) => (\n                <Route\n                  exact\n                  path={`/borrow/${route}`}\n                  render={(props) =>\n                    timeLeft ? (\n                      <BorrowCountdownLanding timeLeft={timeLeft} />\n                    ) : (\n                      <Borrow\n                        {...props}\n                        borrowName={name}\n                        isStable={isStable}\n                      />\n                    )\n                  }\n                  key={`${name}-borrow`}\n                />\n              ),\n            )}\n          </Switch>\n        </GasAndTokenPrices>\n      </Web3ReactManager>\n    </Suspense>\n  )\n}\n\nfunction GasAndTokenPrices({\n  children,\n}: React.PropsWithChildren<unknown>): ReactElement {\n  const dispatch = useDispatch<AppDispatch>()\n  const { chainId, library } = useActiveWeb3React()\n\n  const fetchAndUpdateGasPrice = useCallback(() => {\n    void fetchGasPrices(dispatch)\n  }, [dispatch])\n  const fetchAndUpdateTokensPrice = useCallback(() => {\n    fetchTokenPricesUSD(dispatch, chainId, library)\n  }, [dispatch, chainId, library])\n  const fetchAndUpdateSwapStats = useCallback(() => {\n    void fetchSwapStats(dispatch)\n  }, [dispatch])\n  const fetchAndUpdateFarmStats = useCallback(() => {\n    void fetchFarmStats(dispatch)\n  }, [dispatch])\n  const fetchAndUpdateStakeStats = useCallback(() => {\n    void fetchStakeStats(dispatch)\n  }, [dispatch])\n  const fetchAndUpdateRosePriceHistory = useCallback(() => {\n    void fetchRosePriceHistory(dispatch)\n  }, [dispatch])\n  usePoller(fetchAndUpdateGasPrice, BLOCK_TIME * 280)\n  usePoller(fetchAndUpdateTokensPrice, BLOCK_TIME * 3)\n  usePoller(fetchAndUpdateSwapStats, BLOCK_TIME * 280) // ~ 1hr\n  usePoller(fetchAndUpdateFarmStats, BLOCK_TIME * 70) // ~ 15min\n  usePoller(fetchAndUpdateStakeStats, BLOCK_TIME * 70)\n  usePoller(fetchAndUpdateRosePriceHistory, BLOCK_TIME * 70)\n  return <>{children}</>\n}\n","import { AppDispatch } from \"../state\"\nimport retry from \"async-retry\"\nimport { updateFarmStats } from \"../state/application\"\nconst farmStatsApi =\n  \"https://raw.githubusercontent.com/RoseOnAurora/apr/master/data.json\"\n\ninterface FarmStatsResponse {\n  deposited_token_address: string\n  farm_tvl: string\n  apr: string\n  second_apr: string\n  second_rewards_token: string\n  second_rewards_token_address: string\n  name: string\n  farm_address: string\n}\n\nexport interface FarmStats {\n  apr: string\n  tvl: string\n  dualReward: {\n    apr: string\n    token: string\n    address: string\n  }\n}\n\nexport default function fetchFarmStats(dispatch: AppDispatch): void {\n  void retry(() =>\n    fetch(farmStatsApi)\n      .then((res) => res.json())\n      .then((body: FarmStatsResponse[]) => {\n        body.map((b) => {\n          dispatch(\n            updateFarmStats({\n              [b?.name]: {\n                apr: b?.apr,\n                tvl: b?.farm_tvl,\n                dualReward: {\n                  apr: b?.second_apr,\n                  token: b?.second_rewards_token,\n                  address: b?.second_rewards_token_address,\n                },\n              },\n            }),\n          )\n        })\n      }),\n  )\n}\n","import { AppDispatch } from \"../state\"\nimport retry from \"async-retry\"\nimport { updateStakeStats } from \"../state/application\"\n\nconst stakeStatsApi =\n  \"https://raw.githubusercontent.com/RoseOnAurora/apr/master/rose.json\"\n\ninterface StakeStatsApiResponse {\n  price_of_rose: string\n  price_of_strose: string\n  strose_rose_ratio: string\n  strose_tvl: string\n  total_rose_staked: string\n  strose_apr: string\n}\n\nexport interface StakeStats {\n  priceRatio: string\n  tvl: string\n  totalRoseStaked: string\n  priceOfRose: string\n  apr: string\n}\n\nexport default function fetchStakeStats(dispatch: AppDispatch): void {\n  void retry(() =>\n    fetch(stakeStatsApi)\n      .then((res) => res.json())\n      .then((body: StakeStatsApiResponse[]) => {\n        body.map((b) => {\n          dispatch(\n            updateStakeStats({\n              priceRatio: b?.strose_rose_ratio,\n              tvl: b?.strose_tvl,\n              totalRoseStaked: b?.total_rose_staked,\n              priceOfRose: b?.price_of_rose,\n              apr: b?.strose_apr,\n            }),\n          )\n        })\n      }),\n  )\n}\n","import {\n  updateLastTransactionTimes,\n  updateRosePriceHistory,\n} from \"../state/application\"\nimport { AppDispatch } from \"../state\"\nimport { TRANSACTION_TYPES } from \"../constants\"\nimport retry from \"async-retry\"\n\nconst coinGeckoApi =\n  \"https://api.coingecko.com/api/v3/coins/aurora/contract/0xdcd6d4e2b3e1d1e1e6fa8c21c8a323dcbecff970/market_chart/?vs_currency=usd&days=7\"\n\ninterface CoinGeckoResponse {\n  prices: number[][]\n}\n\nexport default function fetchRosePriceHistory(dispatch: AppDispatch): void {\n  void retry(\n    () =>\n      fetch(coinGeckoApi)\n        .then((res) => res.json())\n        .then((body: CoinGeckoResponse) => {\n          const pricesMapped = body.prices.map(([time, price]) => {\n            return { time, price }\n          })\n          dispatch(updateRosePriceHistory(pricesMapped))\n          dispatch(\n            updateLastTransactionTimes({\n              [TRANSACTION_TYPES.ROSE_PRICE]: Date.now(),\n            }),\n          )\n        }),\n    { retries: 1 },\n  )\n}\n","import { ThemeConfig, extendTheme } from \"@chakra-ui/react\"\n\nimport components from \"./components/index\"\n\n// import components from \"./components\"\n\nconst config: ThemeConfig = {\n  initialColorMode: \"dark\",\n  useSystemColorMode: false,\n}\n\nconst colors = {\n  red: {\n    50: \"#ffe3e3\",\n    100: \"#ffb2b3\",\n    200: \"#fd8282\",\n    300: \"#fb5151\",\n    400: \"#f92120\",\n    500: \"#df0a06\", // base\n    600: \"#ae0404\",\n    700: \"#7d0102\",\n    800: \"#4d0000\",\n    900: \"#1f0000\",\n  },\n  teal: {\n    50: \"#d7fffe\",\n    100: \"#abfff7\",\n    200: \"#7afff0\",\n    300: \"#48ffea\",\n    400: \"#1affe4\",\n    500: \"#00e6ca\", // base\n    600: \"#00b39d\",\n    700: \"#008170\",\n    800: \"#004e43\",\n    900: \"#001c16\",\n  },\n  purple: {\n    50: \"#f4e3ff\",\n    100: \"#d5b2ff\",\n    200: \"#b87fff\",\n    300: \"#9b4cff\",\n    400: \"#7e1aff\",\n    500: \"#6500e6\", // base\n    600: \"#4e00b4\",\n    700: \"#380082\",\n    800: \"#220050\",\n    900: \"#0d0020\",\n  },\n  gold: {\n    50: \"#fff6e1\",\n    100: \"#fbe5b7\",\n    200: \"#f7d38a\",\n    300: \"#f4c25c\",\n    400: \"#f1b030\",\n    500: \"#d7971b\", // base\n    600: \"#a77513\",\n    700: \"#77540c\",\n    800: \"#483204\",\n    900: \"#1a1100\",\n  },\n}\n\nconst fonts = {\n  body: \"Neue Machina, sans-serif\",\n  heading: \"Neue Machina, sans-serif\",\n  mono: \"Neue Machina, sans-serif\",\n}\n\nconst overrides = { config, colors, fonts, components }\n\nexport default extendTheme(overrides)\n","import Button from \"./button\"\nimport Input from \"./input\"\nimport Tabs from \"./tabs\"\nexport default {\n  Button,\n  Tabs,\n  Input,\n}\n","import {\n  CSSWithMultiValues,\n  RecursiveCSSObject,\n} from \"@chakra-ui/styled-system\"\nimport { Dict } from \"@chakra-ui/utils\"\nimport { transparentize } from \"@chakra-ui/theme-tools\"\n\nconst variantPrimary = (\n  props: Dict,\n): RecursiveCSSObject<CSSWithMultiValues> => {\n  const darkMode = props.colorMode === \"dark\"\n  const transparentColor = transparentize(\n    darkMode ? \"gray.300\" : \"gray.100\",\n    0.7,\n  )(props.theme)\n  const disableBg = transparentize(\n    darkMode ? \"#1c1d21\" : \"#cc3a59\",\n    1,\n  )(props.theme)\n  const boxShadowHover = darkMode\n    ? \"2px 2px 12px rgba(68, 64, 64, 0.14)\"\n    : \"0px 7px 12px rgba(68, 64, 64, 0.3)\"\n  const disabled = {\n    color: transparentColor,\n    border: \"none\",\n    cursor: \"not-allowed\",\n    boxShadow: \"none\",\n    bg: disableBg,\n  }\n\n  return {\n    color: darkMode ? \"#000000\" : \"#ffffff\",\n    borderRadius: \"10px\",\n    bg: darkMode\n      ? \"linear-gradient(95deg, #cc3a59, #791038)\"\n      : \"linear-gradient(195deg, #f7819a, #cc3a59)\",\n    letterSpacing: \"0.02em\",\n    fontWeight: \"700\",\n    padding: \"1px 6px\",\n    _hover: {\n      color: \"#ffffff\",\n      bg: \"linear-gradient(195deg, #cc3a59, #d63255)\",\n      boxShadow: boxShadowHover,\n      _disabled: disabled,\n    },\n    _active: {\n      color: \"#ffffff\",\n      bg: \"#cc3a59\",\n    },\n    _disabled: disabled,\n    _focus: {\n      boxShadow: \"none\",\n    },\n  }\n}\n\nconst variantLight = (props: Dict): RecursiveCSSObject<CSSWithMultiValues> => {\n  const transparentColor = transparentize(\"gray.500\", 0.6)(props.theme)\n  const disableBg = transparentize(\"#cc3a59\", 0.2)(props.theme)\n  const darkMode = props.colorMode === \"dark\"\n  const boxShadowHover =\n    props.colorMode === \"light\"\n      ? \"0px 7px 12px rgba(68, 64, 64, 0.3)\"\n      : \"2px 2px 12px rgba(68, 64, 64, 0.14)\"\n  const disabled = {\n    opacity: \"1\",\n    color: transparentColor,\n    border: \"none\",\n    cursor: \"not-allowed\",\n    boxShadow: \"none\",\n    bg: disableBg,\n  }\n  return {\n    color: darkMode ? \"#000000\" : \"#ffffff\",\n    borderRadius: \"full\",\n    fontSize: \"13px\",\n    width: \"75px\",\n    letterSpacing: \"0.02em\",\n    fontWeight: \"700\",\n    padding: \"1px 6px\",\n    border: \"none\",\n    bg: \"#cc3a59\",\n    _hover: {\n      color: \"#ffffff\",\n      bg: \"#d63255\",\n      boxShadow: boxShadowHover,\n      _disabled: disabled,\n    },\n    _disabled: disabled,\n    _focus: {\n      boxShadow: \"none\",\n    },\n  }\n}\n\nconst variantOuline = (props: Dict): RecursiveCSSObject<CSSWithMultiValues> => {\n  const darkMode = props.colorMode === \"dark\"\n\n  return {\n    borderRadius: \"10px\",\n    borderColor: darkMode\n      ? \"var(--chakra-colors-whiteAlpha-300)\"\n      : \"var(--chakra-colors-blackAlpha-400)\",\n    _hover: {\n      bg: darkMode\n        ? \"var(--chakra-colors-whiteAlpha-200)\"\n        : \"var(--chakra-colors-whiteAlpha-500)\",\n    },\n    _focus: {\n      boxShadow: \"none\",\n    },\n    _active: {\n      bg: darkMode\n        ? \"var(--chakra-colors-whiteAlpha-300)\"\n        : \"var(--chakra-colors-whiteAlpha-600)\",\n    },\n  }\n}\n\nconst variants = {\n  primary: variantPrimary,\n  light: variantLight,\n  outline: variantOuline,\n}\nexport default { variants }\n","import {\n  CSSWithMultiValues,\n  RecursiveCSSObject,\n} from \"@chakra-ui/styled-system\"\nimport { Dict } from \"@chakra-ui/utils\"\n\nconst variantPrimary = (\n  props: Dict,\n): RecursiveCSSObject<CSSWithMultiValues> => {\n  const darkMode = props.colorMode === \"dark\"\n  return {\n    tab: {\n      borderRadius: \"full\",\n      fontWeight: \"semibold\",\n      color: \"grey\",\n      bg: darkMode ? \"rgba(28, 29, 33, 0.4)\" : \"rgba(245, 239, 239, 0.8)\",\n      _selected: {\n        color: darkMode ? \"#000000\" : \"#ffffff\",\n        bg: darkMode\n          ? \"linear-gradient(95deg, #cc3a59, #791038)\"\n          : \"linear-gradient(195deg, #f7819a, #cc3a59)\",\n      },\n      _active: {\n        color: darkMode ? \"#000000\" : \"#ffffff\",\n        bg: darkMode\n          ? \"linear-gradient(95deg, #cc3a59, #791038)\"\n          : \"linear-gradient(195deg, #f7819a, #cc3a59)\",\n      },\n      _focus: {\n        boxShadow: \"none\",\n      },\n    },\n  }\n}\nconst variants = {\n  primary: variantPrimary,\n}\nexport default { variants }\n","import {\n  CSSWithMultiValues,\n  RecursiveCSSObject,\n} from \"@chakra-ui/styled-system\"\nimport { Dict } from \"@chakra-ui/utils\"\n\nconst variantPrimary = (\n  props: Dict,\n): RecursiveCSSObject<CSSWithMultiValues> => {\n  const hasErrorColor = props.isInvalid ? \"#cc3a59\" : \"#4BB543\"\n  const darkMode = props.colorMode === \"dark\"\n  return {\n    field: {\n      borderBottom: \"2px solid\",\n      borderColor: hasErrorColor,\n      borderRadius: \"10px\",\n      px: 0,\n      bg: darkMode ? \"rgb(28, 29, 33)\" : \"rgb(248, 248, 248)\",\n      _hover: {\n        bg: darkMode ? \"rgb(31, 32, 36)\" : \"rgb(245, 245, 245)\",\n      },\n      _readOnly: {\n        boxShadow: \"none !important\",\n        userSelect: \"all\",\n      },\n      _invalid: {\n        borderColor: \"#cc3a59 !important\",\n        boxShadow: `0px 1px 0px 0px #cc3a59`,\n      },\n      _focus: {\n        borderColor: hasErrorColor,\n        boxShadow: `0px 1px 0px 0px ${hasErrorColor}`,\n      },\n    },\n  }\n}\n\nconst variantOuline = (props: Dict): RecursiveCSSObject<CSSWithMultiValues> => {\n  const darkMode = props.colorMode === \"dark\"\n\n  return {\n    field: {\n      borderColor: darkMode ? \"var(--chakra-colors-whiteAlpha-300)\" : \"#555555\",\n      _focus: {\n        boxShadow: \"none\",\n        borderColor: darkMode ? \"#cc3a59\" : \"#881f36\",\n      },\n      _hover: {\n        borderColor: darkMode ? \"var(--chakra-colors-whiteAlpha-400)\" : \"#000\",\n      },\n    },\n  }\n}\n\nconst variants = {\n  primary: variantPrimary,\n  outline: variantOuline,\n}\nexport default { variants }\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\"\nimport { load, save } from \"redux-localstorage-simple\"\nimport user, { initialState as userInitialState } from \"./user\"\n\nimport application from \"./application\"\nimport { merge } from \"lodash\"\n\nconst PERSISTED_KEYS: string[] = [\"user\"]\nconst stateFromStorage = load({\n  states: PERSISTED_KEYS,\n})\nconst store = configureStore({\n  reducer: {\n    application,\n    user,\n  },\n  middleware: [\n    ...getDefaultMiddleware({ thunk: false }),\n    save({ states: PERSISTED_KEYS }),\n  ],\n  preloadedState: merge({}, { user: userInitialState }, stateFromStorage),\n})\n\nexport default store\n\nexport type AppState = ReturnType<typeof store.getState>\nexport type AppDispatch = typeof store.dispatch\n","import \"./index.css\"\nimport \"./i18n\"\n\nimport { ChakraProvider, ColorModeScript } from \"@chakra-ui/react\"\nimport { Chart, registerables } from \"chart.js\"\nimport { Web3ReactProvider, createWeb3ReactRoot } from \"@web3-react/core\"\n// import { logError, sendWebVitalsToGA } from \"./utils/googleAnalytics\"\n\nimport App from \"./pages/App\"\nimport { NetworkContextName } from \"./constants\"\nimport { Provider } from \"react-redux\"\nimport React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { HashRouter as Router } from \"react-router-dom\"\nimport chakraTheme from \"./theme/\"\nimport getLibrary from \"./utils/getLibrary\"\nimport { getNetworkLibrary } from \"./connectors\"\n// import reportWebVitals from \"./reportWebVitals\"\nimport store from \"./state\"\n\nconst Web3ProviderNetwork = createWeb3ReactRoot(NetworkContextName)\n\nif (window && window.ethereum) {\n  window.ethereum.autoRefreshOnNetworkChange = false\n}\n\nChart.register(...registerables)\n\n// window.addEventListener(\"error\", logError)\n\nReactDOM.render(\n  <>\n    <ColorModeScript initialColorMode={chakraTheme.config.initialColorMode} />\n    <React.StrictMode>\n      <ChakraProvider theme={chakraTheme}>\n        <Web3ReactProvider getLibrary={getLibrary}>\n          <Web3ProviderNetwork getLibrary={getNetworkLibrary}>\n            <Provider store={store}>\n              <Router>\n                <App />\n              </Router>\n            </Provider>\n          </Web3ProviderNetwork>\n        </Web3ReactProvider>\n      </ChakraProvider>\n    </React.StrictMode>\n  </>,\n  document.getElementById(\"root\"),\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals(sendWebVitalsToGA)\n","import {\n  ExternalProvider,\n  JsonRpcFetchFunc,\n  Web3Provider,\n} from \"@ethersproject/providers\"\n\nexport default function getLibrary(\n  provider: ExternalProvider | JsonRpcFetchFunc,\n): Web3Provider {\n  const library = new Web3Provider(provider, \"any\")\n  library.pollingInterval = 15000\n  return library\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchSelect\":\"SearchSelect_searchSelect__3-dqN\",\"inputContainer\":\"SearchSelect_inputContainer__3SNHV\",\"listItem\":\"SearchSelect_listItem__1CllM\",\"isAvailable\":\"SearchSelect_isAvailable__2Em7v\",\"isActive\":\"SearchSelect_isActive__3cQyt\",\"isUnavailable\":\"SearchSelect_isUnavailable__f6IC0\",\"textMinor\":\"SearchSelect_textMinor__1IGJw\",\"tagWrapper\":\"SearchSelect_tagWrapper__Tp0fP\",\"unavailableTag\":\"SearchSelect_unavailableTag__2Y6kz\",\"virtualSwapTag\":\"SearchSelect_virtualSwapTag__1M9ds\"};"],"sourceRoot":""}